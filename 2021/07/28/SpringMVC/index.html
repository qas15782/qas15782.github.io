<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="John Doe"><meta name="copyright" content="John Doe"><meta name="generator" content="Hexo 5.4.0"><meta name="theme" content="hexo-theme-yun"><title>Springmvc | Hexo</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.25/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_dxory92pb0h.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>document.addEventListener("DOMContentLoaded", () => {
  [".post-card",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
});
</script><link rel="icon" href="/yun.svg"><link rel="mask-icon" href="/yun.svg" color="#0078E7"><link rel="alternate icon" href="/yun.ico"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"example.com","root":"/","title":"é€é¥ä¸€å°ç”Ÿ","version":"1.6.1","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}.","hits":"${hits} results found","hits_time":"${hits} results found in ${time} ms"},"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"https://v1.hitokoto.cn","hitokoto":true},"fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/utils.js"></script><script src="/js/hexo-theme-yun.js"></script><meta name="description" content="SSM:mybatis+Spring+SpringMVC   MVCä¸‰å±‚æ¶æ„ å­¦ä¹ ï¼šSpringMVC  + Vue + SpringBoot + SpringCloud + Linux 1 å›é¡¾MVC1.1  ä»€ä¹ˆæ˜¯MVC MVCæ˜¯æ¨¡å‹(Model)ã€è§†å›¾(View)ã€æ§åˆ¶å™¨(Controller)çš„ç®€å†™ï¼Œæ˜¯ä¸€ç§è½¯ä»¶è®¾è®¡è§„èŒƒã€‚ æ˜¯å°†ä¸šåŠ¡é€»è¾‘ã€æ•°æ®ã€æ˜¾ç¤ºåˆ†ç¦»çš„æ–¹æ³•æ¥ç»„ç»‡ä»£ç ã€‚ MVCä¸»è¦ä½œç”¨æ˜¯é™ä½">
<meta property="og:type" content="article">
<meta property="og:title" content="Springmvc">
<meta property="og:url" content="http://example.com/2021/07/28/SpringMVC/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="SSM:mybatis+Spring+SpringMVC   MVCä¸‰å±‚æ¶æ„ å­¦ä¹ ï¼šSpringMVC  + Vue + SpringBoot + SpringCloud + Linux 1 å›é¡¾MVC1.1  ä»€ä¹ˆæ˜¯MVC MVCæ˜¯æ¨¡å‹(Model)ã€è§†å›¾(View)ã€æ§åˆ¶å™¨(Controller)çš„ç®€å†™ï¼Œæ˜¯ä¸€ç§è½¯ä»¶è®¾è®¡è§„èŒƒã€‚ æ˜¯å°†ä¸šåŠ¡é€»è¾‘ã€æ•°æ®ã€æ˜¾ç¤ºåˆ†ç¦»çš„æ–¹æ³•æ¥ç»„ç»‡ä»£ç ã€‚ MVCä¸»è¦ä½œç”¨æ˜¯é™ä½">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/2021/07/28/SpringMVC/Spring.assets/4041526897-1580567854421.png">
<meta property="og:image" content="http://example.com/2021/07/28/SpringMVC/Spring.assets/449885502-1580567859684.png">
<meta property="og:image" content="http://example.com/2021/07/28/SpringMVC/Spring.assets/4094962550-1580567859685.png">
<meta property="og:image" content="http://example.com/2021/07/28/SpringMVC/Spring.assets/3030654365.png">
<meta property="og:image" content="http://example.com/2021/07/28/SpringMVC/Spring.assets/1958583181.png">
<meta property="og:image" content="http://example.com/2021/07/28/SpringMVC/Spring.assets/2905833713.png">
<meta property="og:image" content="http://example.com/2021/07/28/SpringMVC/Spring.assets/63825124.png">
<meta property="og:image" content="http://example.com/2021/07/28/SpringMVC/SpringMVC.assets/838305-20170412164719298-41958605.png">
<meta property="og:image" content="http://example.com/2021/07/28/SpringMVC/SpringMVC.assets/838305-20170412170814517-633537242.png">
<meta property="og:image" content="http://example.com/2021/07/28/SpringMVC/Spring.assets/3293039327.png">
<meta property="og:image" content="http://example.com/2021/07/28/SpringMVC/Spring.assets/928968841.png">
<meta property="og:image" content="http://example.com/2021/07/28/SpringMVC/SpringMVC.assets/1585731310585.png">
<meta property="og:image" content="http://example.com/2021/07/28/SpringMVC/Spring.assets/3218576078.png">
<meta property="og:image" content="http://example.com/2021/07/28/SpringMVC/Spring.assets/3683953371.png">
<meta property="og:image" content="http://example.com/2021/07/28/SpringMVC/Spring.assets/197127560.png">
<meta property="og:image" content="http://example.com/2021/07/28/SpringMVC/Spring.assets/3098353110.png">
<meta property="og:image" content="http://example.com/2021/07/28/SpringMVC/Spring.assets/3493099675.png">
<meta property="og:image" content="http://example.com/2021/07/28/SpringMVC/Spring.assets/1066323228.png">
<meta property="og:image" content="http://example.com/2021/07/28/SpringMVC/Spring.assets/3397077617.png">
<meta property="og:image" content="http://example.com/2021/07/28/SpringMVC/Spring.assets/861763620.png">
<meta property="og:image" content="http://example.com/2021/07/28/SpringMVC/Spring.assets/789741024.png">
<meta property="og:image" content="http://example.com/2021/07/28/SpringMVC/Spring.assets/709416281.png">
<meta property="og:image" content="http://example.com/2021/07/28/SpringMVC/SpringMVC.assets/1586921554980.png">
<meta property="og:image" content="http://example.com/2021/07/28/SpringMVC/Spring.assets/1086489242.png">
<meta property="og:image" content="http://example.com/2021/07/28/SpringMVC/Spring.assets/2326667495.png">
<meta property="og:image" content="http://example.com/2021/07/28/SpringMVC/Spring.assets/2785405154.png">
<meta property="og:image" content="http://example.com/2021/07/28/SpringMVC/Spring.assets/3986165583.png">
<meta property="og:image" content="http://example.com/2021/07/28/SpringMVC/Spring.assets/3300712039.png">
<meta property="og:image" content="http://example.com/2021/07/28/SpringMVC/SpringMVC.assets/1586851865650.png">
<meta property="article:published_time" content="2021-07-28T03:34:12.987Z">
<meta property="article:modified_time" content="2021-07-28T03:53:54.747Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2021/07/28/SpringMVC/Spring.assets/4041526897-1580567854421.png"><script src="/js/ui/mode.js"></script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="Table of Contents"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="Overview"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info mickey-mouse"><a class="site-author-avatar" href="/about/" title="John Doe"><img width="96" loading="lazy" src="/img/1.jpg" alt="John Doe"><span class="site-author-status" title="ä¸€ç‚¹æµ©ç„¶æ°”ï¼Œåƒé‡Œå¿«å“‰é£ï¼">ğŸ˜Š</span></a><div class="site-author-name"><a href="/about/">John Doe</a></div><span class="site-name">Hexo</span><sub class="site-subtitle"></sub><div class="site-desciption"></div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="Home"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="Archives"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">25</span></a></div><div class="site-state-item"><a href="/categories/" title="Categories"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">0</span></a></div><div class="site-state-item"><a href="/tags/" title="Tags"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">0</span></a></div><a class="site-state-item hty-icon-button" target="_blank" rel="noopener" href="https://yun.yunyoujun.cn" title="æ–‡æ¡£"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-settings-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="/atom.xml" title="RSS" target="_blank" style="color:orange"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-rss-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://qm.qq.com/cgi-bin/qm/qr?k=kZJzggTTCf4SpvEQ8lXWoi5ZjhAx0ILZ&amp;jump_from=webapi" title="QQ  2038527170" target="_blank" style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/qas15782/" title="GitHub" target="_blank" style="color:#6e5494"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://weibo.com/" title="å¾®åš" target="_blank" style="color:#E6162D"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-weibo-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.douban.com/" title="è±†ç“£" target="_blank" style="color:#007722"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-douban-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://music.163.com/#/user/home?id=1659649930" title="ç½‘æ˜“äº‘éŸ³ä¹" target="_blank" style="color:#C20C0C"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-netease-cloud-music-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.zhihu.com/people/" title="çŸ¥ä¹" target="_blank" style="color:#0084FF"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-zhihu-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://space.bilibili.com/472753721" title="å“”å“©å“”å“©" target="_blank" style="color:#FF8EB3"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-bilibili-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://cdn.jsdelivr.net" title="å¾®ä¿¡å…¬ä¼—å·" target="_blank" style="color:#1AAD19"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-wechat-2-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://twitter.com/" title="Twitter" target="_blank" style="color:#1da1f2"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-twitter-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://baidu.com" title="Telegram Channel" target="_blank" style="color:#0088CC"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-telegram-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="2038527170@qq.com" title="E-Mail" target="_blank" style="color:#8E71C1"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-mail-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://travellings.link" title="Travelling" target="_blank" style="color:var(--hty-text-color)"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-train-line"></use></svg></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links/" title="æˆ‘çš„å°ä¼™ä¼´ä»¬" style="color:dodgerblue"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-genderless-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%9B%9E%E9%A1%BEMVC"><span class="toc-number">1.</span> <span class="toc-text">1 å›é¡¾MVC</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E4%BB%80%E4%B9%88%E6%98%AFMVC"><span class="toc-number">1.1.</span> <span class="toc-text">1.1  ä»€ä¹ˆæ˜¯MVC</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-Model1%E6%97%B6%E4%BB%A3"><span class="toc-number">1.2.</span> <span class="toc-text">1.2  Model1æ—¶ä»£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-Model2%E6%97%B6%E4%BB%A3"><span class="toc-number">1.3.</span> <span class="toc-text">1.3  Model2æ—¶ä»£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-%E5%9B%9E%E9%A1%BEServlet"><span class="toc-number">1.4.</span> <span class="toc-text">1.4  å›é¡¾Servlet</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%BB%80%E4%B9%88%E6%98%AFSpringMVC"><span class="toc-number">2.</span> <span class="toc-text">2 ä»€ä¹ˆæ˜¯SpringMVC</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E6%A6%82%E8%BF%B0"><span class="toc-number">2.1.</span> <span class="toc-text">2.1  æ¦‚è¿°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E4%B8%AD%E5%BF%83%E6%8E%A7%E5%88%B6%E5%99%A8"><span class="toc-number">2.2.</span> <span class="toc-text">2.2  ä¸­å¿ƒæ§åˆ¶å™¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-SpringMVC%E6%89%A7%E8%A1%8C%E5%8E%9F%E7%90%86"><span class="toc-number">2.3.</span> <span class="toc-text">2.3  SpringMVCæ‰§è¡ŒåŸç†</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-HelloSpringMVC"><span class="toc-number">3.</span> <span class="toc-text">3 HelloSpringMVC</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E9%85%8D%E7%BD%AE%E7%89%88"><span class="toc-number">3.1.</span> <span class="toc-text">3.1  é…ç½®ç‰ˆ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E3%80%81Moudle-%EF%BC%8C-%E6%B7%BB%E5%8A%A0web%E7%9A%84%E6%94%AF%E6%8C%81%EF%BC%81"><span class="toc-number">3.1.1.</span> <span class="toc-text">1ã€Moudle ï¼Œ  æ·»åŠ webçš„æ”¯æŒï¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E3%80%81SpringMVC-%E7%9A%84%E4%BE%9D%E8%B5%96%EF%BC%81"><span class="toc-number">3.1.2.</span> <span class="toc-text">2ã€SpringMVC çš„ä¾èµ–ï¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%E3%80%81web-xml"><span class="toc-number">3.1.3.</span> <span class="toc-text">3ã€web.xml</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4%E3%80%81%E6%93%8D%E4%BD%9C%E4%B8%9A%E5%8A%A1Controller"><span class="toc-number">3.1.4.</span> <span class="toc-text">4ã€æ“ä½œä¸šåŠ¡Controller</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5%E3%80%81Spring-MVC%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">3.1.5.</span> <span class="toc-text">5ã€Spring MVCé…ç½®æ–‡ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A0-%E5%A4%84%E7%90%86%E5%99%A8%E6%98%A0%E5%B0%84%E5%99%A8%EF%BC%9AHandlerMapping"><span class="toc-number">3.1.5.1.</span> <span class="toc-text">&#x3D;&#x3D;â‘  å¤„ç†å™¨æ˜ å°„å™¨ï¼šHandlerMapping&#x3D;&#x3D;</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A1-%E5%A4%84%E7%90%86%E9%80%82%E9%85%8D%E5%99%A8%EF%BC%9AHandlerAdapter"><span class="toc-number">3.1.5.2.</span> <span class="toc-text">&#x3D;&#x3D;â‘¡ å¤„ç†é€‚é…å™¨ï¼šHandlerAdapter&#x3D;&#x3D;</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A2-%E8%A7%86%E5%9B%BE%E8%A7%A3%E6%9E%90%E5%99%A8"><span class="toc-number">3.1.5.3.</span> <span class="toc-text">&#x3D;&#x3D;â‘¢&#x3D;&#x3D; &#x3D;&#x3D;è§†å›¾è§£æå™¨&#x3D;&#x3D;</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A3-%E9%85%8D%E7%BD%AE%E5%A4%84%E7%90%86%E5%99%A8"><span class="toc-number">3.1.5.4.</span> <span class="toc-text">&#x3D;&#x3D;â‘£ é…ç½®å¤„ç†å™¨&#x3D;&#x3D;</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6%E3%80%81%E8%B7%B3%E8%BD%AC%E7%9A%84jsp%E9%A1%B5%E9%9D%A2%EF%BC%8C"><span class="toc-number">3.1.6.</span> <span class="toc-text">6ã€è·³è½¬çš„jspé¡µé¢ï¼Œ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7%E3%80%81404%E9%94%99%E8%AF%AF"><span class="toc-number">3.1.7.</span> <span class="toc-text">7ã€404é”™è¯¯</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E6%B3%A8%E8%A7%A3%E7%89%88"><span class="toc-number">3.2.</span> <span class="toc-text">3.2  æ³¨è§£ç‰ˆ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E6%AD%A5-Moudle-%E6%B7%BB%E5%8A%A0web%E6%94%AF%E6%8C%81"><span class="toc-number">3.2.1.</span> <span class="toc-text">ç¬¬ä¸€æ­¥:Moudle , æ·»åŠ webæ”¯æŒ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E6%AD%A5-%E7%94%B1%E4%BA%8EMaven%E5%8F%AF%E8%83%BD%E5%AD%98%E5%9C%A8%E8%B5%84%E6%BA%90%E8%BF%87%E6%BB%A4%E7%9A%84%E9%97%AE%E9%A2%98%EF%BC%8C%E6%88%91%E4%BB%AC%E5%B0%86%E9%85%8D%E7%BD%AE%E5%AE%8C%E5%96%84"><span class="toc-number">3.2.2.</span> <span class="toc-text">ç¬¬äºŒæ­¥:ç”±äºMavenå¯èƒ½å­˜åœ¨èµ„æºè¿‡æ»¤çš„é—®é¢˜ï¼Œæˆ‘ä»¬å°†é…ç½®å®Œå–„</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E6%AD%A5-%E5%BC%95%E5%85%A5%E7%9B%B8%E5%85%B3%E7%9A%84%E4%BE%9D%E8%B5%96"><span class="toc-number">3.2.3.</span> <span class="toc-text">ç¬¬ä¸‰æ­¥:å¼•å…¥ç›¸å…³çš„ä¾èµ–</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E5%9B%9B%E6%AD%A5-web-xml"><span class="toc-number">3.2.4.</span> <span class="toc-text">ç¬¬å››æ­¥:web.xml</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%92%8C-%E7%9A%84%E5%8C%BA%E5%88%AB%EF%BC%9A"><span class="toc-number">3.2.4.1.</span> <span class="toc-text">&#x3D;&#x3D;&#x2F; å’Œ &#x2F;* çš„åŒºåˆ«ï¼š&#x3D;&#x3D;</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%BA%94%E6%AD%A5-Spring-MVC%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">3.2.5.</span> <span class="toc-text">ç¬¬äº”æ­¥:Spring MVCé…ç½®æ–‡ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#mvc-annotation-driven%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">3.2.5.1.</span> <span class="toc-text">&#x3D;&#x3D;mvc:annotation-drivençš„ä½œç”¨&#x3D;&#x3D;</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E5%85%AD%E6%AD%A5-Controller"><span class="toc-number">3.2.6.</span> <span class="toc-text">ç¬¬å…­æ­¥:Controller</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%B8%83%E6%AD%A5-%E5%88%9B%E5%BB%BA%E8%A7%86%E5%9B%BE%E5%B1%82"><span class="toc-number">3.2.7.</span> <span class="toc-text">ç¬¬ä¸ƒæ­¥:åˆ›å»ºè§†å›¾å±‚</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E5%B0%8F%E7%BB%93"><span class="toc-number">3.3.</span> <span class="toc-text">3.3  å°ç»“</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-Controller-%E5%8F%8A-RestFul%E9%A3%8E%E6%A0%BC"><span class="toc-number">4.</span> <span class="toc-text">4 Controller åŠ RestFulé£æ ¼</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-%E6%8E%A7%E5%88%B6%E5%99%A8Controller"><span class="toc-number">4.1.</span> <span class="toc-text">4.1  æ§åˆ¶å™¨Controller</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-%E5%AE%9E%E7%8E%B0Controller%E6%8E%A5%E5%8F%A3"><span class="toc-number">4.2.</span> <span class="toc-text">4.2  å®ç°Controlleræ¥å£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-%E4%BD%BF%E7%94%A8%E6%B3%A8%E8%A7%A3-Controller"><span class="toc-number">4.3.</span> <span class="toc-text">4.3  ä½¿ç”¨æ³¨è§£@Controller</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-RequestMapping"><span class="toc-number">4.4.</span> <span class="toc-text">4.4  RequestMapping</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-5-RestFul-%E9%A3%8E%E6%A0%BC-%E3%80%906-1-3%E3%80%91"><span class="toc-number">4.5.</span> <span class="toc-text">4.5  RestFul é£æ ¼ ã€6.1 3ã€‘</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E3%80%81%E6%A6%82%E5%BF%B5"><span class="toc-number">4.5.1.</span> <span class="toc-text">1ã€æ¦‚å¿µ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E3%80%81%E5%8A%9F%E8%83%BD"><span class="toc-number">4.5.2.</span> <span class="toc-text">2ã€åŠŸèƒ½</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%E3%80%81%E6%A1%88%E4%BE%8B"><span class="toc-number">4.5.3.</span> <span class="toc-text">3ã€æ¡ˆä¾‹</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%80%9D%E8%80%83%EF%BC%9A%E4%BD%BF%E7%94%A8%E8%B7%AF%E5%BE%84%E5%8F%98%E9%87%8F%E7%9A%84%E5%A5%BD%E5%A4%84%EF%BC%9F"><span class="toc-number">4.5.3.1.</span> <span class="toc-text">æ€è€ƒï¼šä½¿ç”¨è·¯å¾„å˜é‡çš„å¥½å¤„ï¼Ÿ</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4%E3%80%81%E4%BD%BF%E7%94%A8method%E5%B1%9E%E6%80%A7%E6%8C%87%E5%AE%9A%E8%AF%B7%E6%B1%82%E7%B1%BB%E5%9E%8B"><span class="toc-number">4.5.4.</span> <span class="toc-text">4ã€ä½¿ç”¨methodå±æ€§æŒ‡å®šè¯·æ±‚ç±»å‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5%E3%80%81-RequestMapping-%E7%9A%84%E6%B3%A8%E8%A7%A3%E5%8F%98%E4%BD%93"><span class="toc-number">4.5.5.</span> <span class="toc-text">5ã€@RequestMapping çš„æ³¨è§£å˜ä½“</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-6-%E5%B0%8F%E9%BB%84%E9%B8%AD%E8%B0%83%E8%AF%95%E6%B3%95"><span class="toc-number">4.6.</span> <span class="toc-text">4.6  å°é»„é¸­è°ƒè¯•æ³•</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E7%BB%93%E6%9E%9C%E8%B7%B3%E8%BD%AC%E6%96%B9%E5%BC%8F"><span class="toc-number">5.</span> <span class="toc-text">5 ç»“æœè·³è½¬æ–¹å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-ModelAndView"><span class="toc-number">5.1.</span> <span class="toc-text">5.1  ModelAndView</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-ServletAPI"><span class="toc-number">5.2.</span> <span class="toc-text">5.2  ServletAPI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-%E8%BD%AC%E5%8F%91%E5%92%8C%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">5.3.</span> <span class="toc-text">5.3  è½¬å‘å’Œé‡å®šå‘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-Ant-%E9%80%9A%E9%85%8D%E7%AC%A6"><span class="toc-number">5.4.</span> <span class="toc-text">5.4  Ant é€šé…ç¬¦</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86"><span class="toc-number">6.</span> <span class="toc-text">6 æ•°æ®å¤„ç†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-%E5%A4%84%E7%90%86%E6%8F%90%E4%BA%A4%E6%95%B0%E6%8D%AE"><span class="toc-number">6.1.</span> <span class="toc-text">6.1  å¤„ç†æäº¤æ•°æ®</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E6%BA%90%E7%B1%BB%E5%9E%8B"><span class="toc-number">6.1.0.1.</span> <span class="toc-text">&#x3D;&#x3D;1ã€æºç±»å‹&#x3D;&#x3D;</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81-RequestParam"><span class="toc-number">6.1.0.2.</span> <span class="toc-text">&#x3D;&#x3D;2ã€@RequestParam&#x3D;&#x3D;</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81-PathVariable%EF%BC%9A%E5%8D%A0%E4%BD%8D%E7%AC%A6"><span class="toc-number">6.1.0.3.</span> <span class="toc-text">&#x3D;&#x3D;3ã€@PathVariableï¼šå ä½ç¬¦&#x3D;&#x3D;</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81%E6%8F%90%E4%BA%A4%E7%9A%84%E6%98%AF%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1"><span class="toc-number">6.1.0.4.</span> <span class="toc-text">&#x3D;&#x3D;4ã€æäº¤çš„æ˜¯ä¸€ä¸ªå¯¹è±¡&#x3D;&#x3D;</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5%E3%80%81-RequestHeader"><span class="toc-number">6.1.0.5.</span> <span class="toc-text">5ã€@RequestHeader</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6%E3%80%81-CookieValue"><span class="toc-number">6.1.0.6.</span> <span class="toc-text">6ã€@CookieValue</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7%E3%80%81ServletAPI"><span class="toc-number">6.1.0.7.</span> <span class="toc-text">7ã€ServletAPI</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#8%E3%80%81Map"><span class="toc-number">6.1.0.8.</span> <span class="toc-text">8ã€Map</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#9%E3%80%81ModelAndView"><span class="toc-number">6.1.0.9.</span> <span class="toc-text">9ã€ModelAndView</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-%E6%95%B0%E6%8D%AE%E6%98%BE%E7%A4%BA%E5%88%B0%E5%89%8D%E7%AB%AF"><span class="toc-number">6.2.</span> <span class="toc-text">6.2  æ•°æ®æ˜¾ç¤ºåˆ°å‰ç«¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-Model-%E5%AF%B9%E6%AF%94"><span class="toc-number">6.3.</span> <span class="toc-text">6.3  Model å¯¹æ¯”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98"><span class="toc-number">6.4.</span> <span class="toc-text">6.4  ä¹±ç é—®é¢˜</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-JSON"><span class="toc-number">7.</span> <span class="toc-text">7 JSON</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-%E4%BB%80%E4%B9%88%E6%98%AFJSON%EF%BC%9F"><span class="toc-number">7.1.</span> <span class="toc-text">7.1  ä»€ä¹ˆæ˜¯JSONï¼Ÿ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A0-Json-%E5%AF%B9%E8%B1%A1%E5%92%8C-Json-%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">7.1.1.</span> <span class="toc-text">â‘  Json å¯¹è±¡å’Œ Json å­—ç¬¦ä¸²</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A1-Json%E5%AF%B9%E8%B1%A1%E5%92%8C-Json%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%BA%92%E8%BD%AC"><span class="toc-number">7.1.2.</span> <span class="toc-text">â‘¡ Jsonå¯¹è±¡å’Œ Jsonå­—ç¬¦ä¸²äº’è½¬</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-Controller%E8%BF%94%E5%9B%9EJSON%E6%95%B0%E6%8D%AE"><span class="toc-number">7.2.</span> <span class="toc-text">7.2  Controllerè¿”å›JSONæ•°æ®</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A0-%E5%AF%BC%E5%85%A5jar%E5%8C%85"><span class="toc-number">7.2.1.</span> <span class="toc-text">â‘  å¯¼å…¥jaråŒ…</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A1-web-xml"><span class="toc-number">7.2.2.</span> <span class="toc-text">â‘¡ web.xml</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A2-springmvc-servlet-xml"><span class="toc-number">7.2.3.</span> <span class="toc-text">â‘¢ springmvc-servlet.xml</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A3-User"><span class="toc-number">7.2.4.</span> <span class="toc-text">â‘£ User</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A4-Controller"><span class="toc-number">7.2.5.</span> <span class="toc-text">â‘¤ Controller</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-%E4%B9%B1%E7%A0%81%E7%BB%9F%E4%B8%80%E8%A7%A3%E5%86%B3"><span class="toc-number">7.3.</span> <span class="toc-text">7.3  ä¹±ç ç»Ÿä¸€è§£å†³</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-%E8%BF%94%E5%9B%9Ejson%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%BB%9F%E4%B8%80%E8%A7%A3%E5%86%B3"><span class="toc-number">7.4.</span> <span class="toc-text">7.4 è¿”å›jsonå­—ç¬¦ä¸²ç»Ÿä¸€è§£å†³</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5-%E9%9B%86%E5%90%88%E8%BE%93%E5%87%BA"><span class="toc-number">7.5.</span> <span class="toc-text">7.5  é›†åˆè¾“å‡º</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6-%E6%97%A5%E6%9C%9F"><span class="toc-number">7.6.</span> <span class="toc-text">7.6  æ—¥æœŸ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E3%80%81%E6%97%A5%E6%9C%9F%E5%A4%84%E7%90%86"><span class="toc-number">7.6.1.</span> <span class="toc-text">1ã€æ—¥æœŸå¤„ç†</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A0-%E8%AF%B7%E6%B1%82"><span class="toc-number">7.6.1.1.</span> <span class="toc-text">â‘  è¯·æ±‚</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A1-%E6%B3%A8%E8%A7%A3%E6%96%B9%E5%BC%8F"><span class="toc-number">7.6.1.2.</span> <span class="toc-text">â‘¡ æ³¨è§£æ–¹å¼</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A2-Converter"><span class="toc-number">7.6.1.3.</span> <span class="toc-text">â‘¢ Converter</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A3-InitBinder"><span class="toc-number">7.6.1.4.</span> <span class="toc-text">â‘£ @InitBinder</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E3%80%81-json%E6%97%A5%E6%9C%9F%E5%A4%84%E7%90%86"><span class="toc-number">7.6.2.</span> <span class="toc-text">2ã€&#x3D;&#x3D;jsonæ—¥æœŸå¤„ç†&#x3D;&#x3D;</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A0-spring-3-%E5%92%8Cspring-4%E5%A4%84%E7%90%86%E6%96%B9%E5%BC%8F%E4%B8%8D%E5%90%8C"><span class="toc-number">7.6.2.1.</span> <span class="toc-text">â‘  spring 3 å’Œspring 4å¤„ç†æ–¹å¼ä¸åŒ</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A1-%E9%A1%B5%E9%9D%A2%E6%B5%8B%E8%AF%95%EF%BC%9A%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="toc-number">7.6.2.2.</span> <span class="toc-text">â‘¡ é¡µé¢æµ‹è¯•ï¼šä¸‰ç§æ–¹å¼</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A2-Controller"><span class="toc-number">7.6.2.3.</span> <span class="toc-text">â‘¢ Controller</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A3-spring3%E6%97%A5%E6%9C%9F%E8%BD%AC%E6%8D%A2-%E4%B8%80%E7%A7%8D"><span class="toc-number">7.6.2.4.</span> <span class="toc-text">â‘£ spring3æ—¥æœŸè½¬æ¢:ä¸€ç§</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A4-spring4%E6%97%A5%E6%9C%9F%E8%BD%AC%E6%8D%A2-%E4%B8%A4%E7%A7%8D"><span class="toc-number">7.6.2.5.</span> <span class="toc-text">â‘¤ spring4æ—¥æœŸè½¬æ¢:ä¸¤ç§</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%80%E3%80%81-Controller"><span class="toc-number">7.6.2.6.</span> <span class="toc-text">ä¸€ã€ Controller</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%8C%E3%80%81-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%97%B6%E9%97%B4%E6%A0%BC%E5%BC%8F"><span class="toc-number">7.6.2.7.</span> <span class="toc-text">&#x3D;&#x3D;äºŒã€ è‡ªå®šä¹‰æ—¶é—´æ ¼å¼&#x3D;&#x3D;</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-7-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%97%B6%E9%97%B4%E5%B7%A5%E5%85%B7%E7%B1%BB"><span class="toc-number">7.7.</span> <span class="toc-text">7.7  è‡ªå®šä¹‰æ—¶é—´å·¥å…·ç±»</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A0-%E5%88%9B%E5%BB%BA-ObjectMapper-%E5%AF%B9%E8%B1%A1"><span class="toc-number">7.7.1.</span> <span class="toc-text">â‘  åˆ›å»º ObjectMapper å¯¹è±¡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A1-%E7%BB%A7%E6%89%BFObjectMapper"><span class="toc-number">7.7.2.</span> <span class="toc-text">â‘¡ ç»§æ‰¿ObjectMapper</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-8-FastJson"><span class="toc-number">7.8.</span> <span class="toc-text">7.8  FastJson</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-9-ResponseBody-%E5%92%8C-RequestBody-%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">7.9.</span> <span class="toc-text">7.9 @ResponseBody å’Œ @RequestBody çš„ä½œç”¨</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E6%95%B4%E5%90%88SSM"><span class="toc-number">8.</span> <span class="toc-text">8 æ•´åˆSSM</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-%E6%95%B4%E5%90%88%E7%9A%84%E6%80%9D%E8%B7%AF"><span class="toc-number">8.1.</span> <span class="toc-text">8.1 æ•´åˆçš„æ€è·¯</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A0-spirng%E4%B8%8Emybatis%E6%95%B4%E5%90%88"><span class="toc-number">8.1.1.</span> <span class="toc-text">â‘  spirngä¸mybatisæ•´åˆ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A1spring%E4%B8%8Eservice%E6%95%B4%E5%90%88"><span class="toc-number">8.1.2.</span> <span class="toc-text">â‘¡springä¸serviceæ•´åˆ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A2spring%E4%B8%8Espringmvc%E6%95%B4%E5%90%88"><span class="toc-number">8.1.3.</span> <span class="toc-text">â‘¢springä¸springmvcæ•´åˆ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%8E%AF%E5%A2%83"><span class="toc-number">8.2.</span> <span class="toc-text">8.2  æ•°æ®åº“ç¯å¢ƒ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-%E5%9F%BA%E6%9C%AC%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA"><span class="toc-number">8.3.</span> <span class="toc-text">8.3  åŸºæœ¬ç¯å¢ƒæ­å»º</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E6%90%AD%E5%BB%BA%E6%A1%86%E6%9E%B6"><span class="toc-number">8.3.1.</span> <span class="toc-text">ä¸€ã€æ­å»ºæ¡†æ¶</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A0%E6%8B%B7jar"><span class="toc-number">8.3.1.1.</span> <span class="toc-text">â‘ æ‹·jar</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A1-%E5%B1%9E%E6%80%A7%E6%96%87%E4%BB%B6"><span class="toc-number">8.3.1.2.</span> <span class="toc-text">â‘¡ å±æ€§æ–‡ä»¶</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A2-%E6%8B%B7%E6%A0%B8%E5%BF%83%E6%96%87%E4%BB%B6"><span class="toc-number">8.3.1.3.</span> <span class="toc-text">â‘¢ æ‹·æ ¸å¿ƒæ–‡ä»¶</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E3%80%81Maven-%E6%90%AD%E5%BB%BA%E6%A1%86%E6%9E%B6"><span class="toc-number">8.3.2.</span> <span class="toc-text">äºŒã€Maven æ­å»ºæ¡†æ¶</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A0-%E5%AF%BC%E5%85%A5pom%E4%BE%9D%E8%B5%96"><span class="toc-number">8.3.2.1.</span> <span class="toc-text">â‘  å¯¼å…¥pomä¾èµ–</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A1-Maven%E8%B5%84%E6%BA%90%E8%BF%87%E6%BB%A4%E8%AE%BE%E7%BD%AE"><span class="toc-number">8.3.2.2.</span> <span class="toc-text">â‘¡ Mavenèµ„æºè¿‡æ»¤è®¾ç½®</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A2-%E5%BB%BA%E7%AB%8B%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84%E5%92%8C%E9%85%8D%E7%BD%AE%E6%A1%86%E6%9E%B6%EF%BC%81"><span class="toc-number">8.3.2.3.</span> <span class="toc-text">â‘¢ å»ºç«‹åŸºæœ¬ç»“æ„å’Œé…ç½®æ¡†æ¶ï¼</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-Mybatis%E5%B1%82"><span class="toc-number">8.4.</span> <span class="toc-text">8.4  Mybatiså±‚</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A0-%E6%95%B0%E6%8D%AE%E5%BA%93%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">8.4.1.</span> <span class="toc-text">â‘  æ•°æ®åº“é…ç½®æ–‡ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A1-IDEA%E5%85%B3%E8%81%94%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">8.4.2.</span> <span class="toc-text">â‘¡ IDEAå…³è”æ•°æ®åº“</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A2-MyBatis%E7%9A%84%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">8.4.3.</span> <span class="toc-text">â‘¢ MyBatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A3-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AF%B9%E5%BA%94%E7%9A%84%E5%AE%9E%E4%BD%93%E7%B1%BB"><span class="toc-number">8.4.4.</span> <span class="toc-text">â‘£ æ•°æ®åº“å¯¹åº”çš„å®ä½“ç±»</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A4-Dao%E5%B1%82%E7%9A%84-Mapper%E6%8E%A5%E5%8F%A3"><span class="toc-number">8.4.5.</span> <span class="toc-text">â‘¤ Daoå±‚çš„ Mapperæ¥å£</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A5-%E6%8E%A5%E5%8F%A3%E5%AF%B9%E5%BA%94%E7%9A%84-Mapper-xml"><span class="toc-number">8.4.6.</span> <span class="toc-text">â‘¥ æ¥å£å¯¹åº”çš„ Mapper.xml</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A6-Service%E5%B1%82%E7%9A%84%E6%8E%A5%E5%8F%A3%E5%92%8C%E5%AE%9E%E7%8E%B0%E7%B1%BB"><span class="toc-number">8.4.7.</span> <span class="toc-text">â‘¦ Serviceå±‚çš„æ¥å£å’Œå®ç°ç±»</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3%EF%BC%9A"><span class="toc-number">8.4.7.1.</span> <span class="toc-text">æ¥å£ï¼š</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E7%B1%BB%EF%BC%9A"><span class="toc-number">8.4.7.2.</span> <span class="toc-text">å®ç°ç±»ï¼š</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5-Spring%E5%B1%82"><span class="toc-number">8.5.</span> <span class="toc-text">8.5  Springå±‚</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A0-Spring%E6%95%B4%E5%90%88MyBatis"><span class="toc-number">8.5.1.</span> <span class="toc-text">â‘  Springæ•´åˆMyBatis</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A1-Spring%E6%95%B4%E5%90%88Service%E5%B1%82"><span class="toc-number">8.5.2.</span> <span class="toc-text">â‘¡ Springæ•´åˆServiceå±‚</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-6-SpringMVC%E5%B1%82"><span class="toc-number">8.6.</span> <span class="toc-text">8.6  SpringMVCå±‚</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A0-web-xml"><span class="toc-number">8.6.1.</span> <span class="toc-text">â‘  web.xml</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A1-spring-mvc-xml"><span class="toc-number">8.6.2.</span> <span class="toc-text">â‘¡ spring-mvc.xml</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A2-applicationContext-xml"><span class="toc-number">8.6.3.</span> <span class="toc-text">â‘¢ applicationContext.xml</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-7-Controller-%E5%92%8C-%E8%A7%86%E5%9B%BE%E5%B1%82"><span class="toc-number">8.7.</span> <span class="toc-text">8.7 Controller å’Œ è§†å›¾å±‚</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A0-%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E6%9F%A5%E8%AF%A2%E5%85%A8%E9%83%A8%E4%B9%A6%E7%B1%8D"><span class="toc-number">8.7.1.</span> <span class="toc-text">â‘   æ–¹æ³•ä¸€ï¼šæŸ¥è¯¢å…¨éƒ¨ä¹¦ç±</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%85%A0%E3%80%81BookController-%E7%B1%BB"><span class="toc-number">8.7.1.1.</span> <span class="toc-text">â… ã€BookController ç±»</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%85%A1%E3%80%81%E9%A6%96%E9%A1%B5-index-jsp"><span class="toc-number">8.7.1.2.</span> <span class="toc-text">â…¡ã€é¦–é¡µ index.jsp</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%85%A2%E3%80%81%E4%B9%A6%E7%B1%8D%E5%88%97%E8%A1%A8%E9%A1%B5%E9%9D%A2-allbook-jsp"><span class="toc-number">8.7.1.3.</span> <span class="toc-text">â…¢ã€ä¹¦ç±åˆ—è¡¨é¡µé¢ allbook.jsp</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A1-%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A%E6%B7%BB%E5%8A%A0%E4%B9%A6%E7%B1%8D"><span class="toc-number">8.7.2.</span> <span class="toc-text">â‘¡ æ–¹æ³•äºŒï¼šæ·»åŠ ä¹¦ç±</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%85%A0%E3%80%81BookController-%E7%B1%BB-1"><span class="toc-number">8.7.2.1.</span> <span class="toc-text">â… ã€BookController ç±»</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%85%A1%E3%80%81%E6%B7%BB%E5%8A%A0%E4%B9%A6%E7%B1%8D%E9%A1%B5%E9%9D%A2%EF%BC%9AaddBook-jsp"><span class="toc-number">8.7.2.2.</span> <span class="toc-text">â…¡ã€æ·»åŠ ä¹¦ç±é¡µé¢ï¼šaddBook.jsp</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A2-%E6%96%B9%E6%B3%95%E4%B8%89%EF%BC%9A%E4%BF%AE%E6%94%B9%E4%B9%A6%E7%B1%8D"><span class="toc-number">8.7.3.</span> <span class="toc-text">â‘¢ æ–¹æ³•ä¸‰ï¼šä¿®æ”¹ä¹¦ç±</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%85%A0%E3%80%81BookController-%E7%B1%BB-2"><span class="toc-number">8.7.3.1.</span> <span class="toc-text">â… ã€BookController ç±»</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%85%A1%E3%80%81%E4%BF%AE%E6%94%B9%E4%B9%A6%E7%B1%8D%E9%A1%B5%E9%9D%A2-updateBook-jsp"><span class="toc-number">8.7.3.2.</span> <span class="toc-text">â…¡ã€ä¿®æ”¹ä¹¦ç±é¡µé¢  updateBook.jsp</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A3-%E6%96%B9%E6%B3%95%E5%9B%9B%EF%BC%9A%E5%88%A0%E9%99%A4%E4%B9%A6%E7%B1%8D"><span class="toc-number">8.7.4.</span> <span class="toc-text">â‘£ æ–¹æ³•å››ï¼šåˆ é™¤ä¹¦ç±</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#BookController-%E7%B1%BB"><span class="toc-number">8.7.4.1.</span> <span class="toc-text">BookController ç±»</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93%E5%8F%8A%E5%B1%95%E6%9C%9B"><span class="toc-number">8.8.</span> <span class="toc-text">å°ç»“åŠå±•æœ›</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E5%92%8C%E4%B8%8B%E8%BD%BD"><span class="toc-number">9.</span> <span class="toc-text">9 æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C"><span class="toc-number">9.1.</span> <span class="toc-text">9.1  å‡†å¤‡å·¥ä½œ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0"><span class="toc-number">9.2.</span> <span class="toc-text">9.2  æ–‡ä»¶ä¸Šä¼ </span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%AF%BC%E5%85%A5%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E7%9A%84jar%E5%8C%85"><span class="toc-number">9.2.0.1.</span> <span class="toc-text">ä¸€ã€å¯¼å…¥æ–‡ä»¶ä¸Šä¼ çš„jaråŒ…</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E9%85%8D%E7%BD%AEbean"><span class="toc-number">9.2.0.2.</span> <span class="toc-text">äºŒã€é…ç½®bean</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E7%BC%96%E5%86%99%E5%89%8D%E7%AB%AF%E9%A1%B5%E9%9D%A2"><span class="toc-number">9.2.0.3.</span> <span class="toc-text">ä¸‰ã€ç¼–å†™å‰ç«¯é¡µé¢</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9B%9B%E3%80%81Controller"><span class="toc-number">9.2.0.4.</span> <span class="toc-text">å››ã€Controller</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-%E9%87%87%E7%94%A8file-Transto-%E6%9D%A5%E4%BF%9D%E5%AD%98%E4%B8%8A%E4%BC%A0%E7%9A%84%E6%96%87%E4%BB%B6"><span class="toc-number">9.3.</span> <span class="toc-text">9.3  é‡‡ç”¨file.Transto æ¥ä¿å­˜ä¸Šä¼ çš„æ–‡ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-4-%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD"><span class="toc-number">9.4.</span> <span class="toc-text">9.4  æ–‡ä»¶ä¸‹è½½</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E6%8B%A6%E6%88%AA%E5%99%A8"><span class="toc-number">10.</span> <span class="toc-text">10 æ‹¦æˆªå™¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-%E6%A6%82%E8%BF%B0"><span class="toc-number">10.1.</span> <span class="toc-text">10.1  æ¦‚è¿°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8B%A6%E6%88%AA%E5%99%A8%EF%BC%88%E5%AE%9E%E7%8E%B0HandlerInterceptor%EF%BC%89"><span class="toc-number">10.2.</span> <span class="toc-text">10.2  è‡ªå®šä¹‰æ‹¦æˆªå™¨ï¼ˆå®ç°HandlerInterceptorï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E3%80%81%E5%AE%9E%E7%8E%B0%E6%8B%A6%E6%88%AA%E5%99%A8%E7%B1%BB"><span class="toc-number">10.2.1.</span> <span class="toc-text">1ã€å®ç°æ‹¦æˆªå™¨ç±»</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E3%80%81%E9%85%8D%E7%BD%AE%E6%8B%A6%E6%88%AA%E5%99%A8"><span class="toc-number">10.2.2.</span> <span class="toc-text">2ã€é…ç½®æ‹¦æˆªå™¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%E3%80%81Controller%E5%B1%82"><span class="toc-number">10.2.3.</span> <span class="toc-text">3ã€Controllerå±‚</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4%E3%80%81%E5%89%8D%E7%AB%AF-index-jsp"><span class="toc-number">10.2.4.</span> <span class="toc-text">4ã€å‰ç«¯ index.jsp</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-3-%E9%AA%8C%E8%AF%81%E7%94%A8%E6%88%B7%E6%98%AF%E5%90%A6%E7%99%BB%E5%BD%95-%E8%AE%A4%E8%AF%81%E7%94%A8%E6%88%B7"><span class="toc-number">10.3.</span> <span class="toc-text">10.3  éªŒè¯ç”¨æˆ·æ˜¯å¦ç™»å½• (è®¤è¯ç”¨æˆ·)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E3%80%81%E5%AE%9E%E7%8E%B0%E6%80%9D%E8%B7%AF"><span class="toc-number">10.3.1.</span> <span class="toc-text">1ã€å®ç°æ€è·¯</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E3%80%81%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99"><span class="toc-number">10.3.2.</span> <span class="toc-text">2ã€ä»£ç ç¼–å†™</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A0-%E7%99%BB%E9%99%86%E9%A1%B5%E9%9D%A2-login-jsp"><span class="toc-number">10.3.2.1.</span> <span class="toc-text">â‘  ç™»é™†é¡µé¢  login.jsp</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A1-Controller%E5%A4%84%E7%90%86%E8%AF%B7%E6%B1%82"><span class="toc-number">10.3.2.2.</span> <span class="toc-text">â‘¡ Controllerå¤„ç†è¯·æ±‚</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A2-%E7%99%BB%E9%99%86%E6%88%90%E5%8A%9F%E7%9A%84%E9%A1%B5%E9%9D%A2-success-jsp"><span class="toc-number">10.3.2.3.</span> <span class="toc-text">â‘¢ ç™»é™†æˆåŠŸçš„é¡µé¢ success.jsp</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A4-%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95%E6%8B%A6%E6%88%AA%E5%99%A8"><span class="toc-number">10.3.2.4.</span> <span class="toc-text">â‘¤ ç”¨æˆ·ç™»å½•æ‹¦æˆªå™¨</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A5-%E5%9C%A8Springmvc%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B8%AD%E6%B3%A8%E5%86%8C%E6%8B%A6%E6%88%AA%E5%99%A8"><span class="toc-number">10.3.2.5.</span> <span class="toc-text">â‘¥ åœ¨Springmvcçš„é…ç½®æ–‡ä»¶ä¸­æ³¨å†Œæ‹¦æˆªå™¨</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-Ajax%E6%8A%80%E6%9C%AF"><span class="toc-number">11.</span> <span class="toc-text">11 AjaxæŠ€æœ¯</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-1-%E7%AE%80%E4%BB%8B"><span class="toc-number">11.1.</span> <span class="toc-text">11.1  ç®€ä»‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-2-%E4%BC%AA%E9%80%A0Ajax"><span class="toc-number">11.2.</span> <span class="toc-text">11.2  ä¼ªé€ Ajax</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-3-jQuery-ajax"><span class="toc-number">11.3.</span> <span class="toc-text">11.3  jQuery.ajax</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-4-Springmvc%E5%AE%9E%E7%8E%B0"><span class="toc-number">11.4.</span> <span class="toc-text">11.4  Springmvcå®ç°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-5-%E6%B3%A8%E5%86%8C%E6%8F%90%E7%A4%BA%E6%95%88%E6%9E%9C"><span class="toc-number">11.5.</span> <span class="toc-text">11.5  æ³¨å†Œæç¤ºæ•ˆæœ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-6-%E8%8E%B7%E5%8F%96baidu%E6%8E%A5%E5%8F%A3Dem"><span class="toc-number">11.6.</span> <span class="toc-text">11.6  è·å–baiduæ¥å£Dem</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E8%BF%87%E6%BB%A4%EF%BC%8C%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86"><span class="toc-number">12.</span> <span class="toc-text">12 é™æ€èµ„æºè¿‡æ»¤ï¼Œå¼‚å¸¸å¤„ç†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E8%BF%87%E6%BB%A4"><span class="toc-number">12.1.</span> <span class="toc-text">1ã€é™æ€èµ„æºè¿‡æ»¤</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A0-lt-mvc-resources-gt"><span class="toc-number">12.1.1.</span> <span class="toc-text">&#x3D;&#x3D;â‘  &lt;mvc:resources &#x2F;&gt;&#x3D;&#x3D;</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%9D%A4-%E6%A1%88%E4%BE%8B"><span class="toc-number">12.1.1.1.</span> <span class="toc-text">&#x3D;&#x3D;â¤ æ¡ˆä¾‹&#x3D;&#x3D;</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A1-lt-mvc-default-servlet-handler-gt"><span class="toc-number">12.1.2.</span> <span class="toc-text">&#x3D;&#x3D;â‘¡ &lt;mvc:default-servlet-handler &#x2F;&gt;&#x3D;&#x3D;</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86"><span class="toc-number">12.2.</span> <span class="toc-text">2ã€å¼‚å¸¸å¤„ç†</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A0-%E5%B1%80%E9%83%A8%E5%BC%82%E5%B8%B8"><span class="toc-number">12.2.1.</span> <span class="toc-text">&#x3D;&#x3D;â‘  å±€éƒ¨å¼‚å¸¸&#x3D;&#x3D;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A1-%E5%85%A8%E5%B1%80%E5%BC%82%E5%B8%B8"><span class="toc-number">12.2.2.</span> <span class="toc-text">&#x3D;&#x3D;â‘¡ å…¨å±€å¼‚å¸¸&#x3D;&#x3D;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A2-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8"><span class="toc-number">12.2.3.</span> <span class="toc-text">&#x3D;&#x3D;â‘¢ è‡ªå®šä¹‰å¼‚å¸¸&#x3D;&#x3D;</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13-jsr303"><span class="toc-number">13.</span> <span class="toc-text">13 jsr303</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AF-jsr303"><span class="toc-number">13.1.</span> <span class="toc-text">1ã€ä»€ä¹ˆæ˜¯ jsr303</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E4%BD%BF%E7%94%A8"><span class="toc-number">13.2.</span> <span class="toc-text">2ã€ä½¿ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A0-%E6%8B%B7-jar"><span class="toc-number">13.2.1.</span> <span class="toc-text">â‘  æ‹· jar</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A1-%E7%BB%99%E6%95%B0%E6%8D%AE%E5%8A%A0%E6%B3%A8%E8%A7%A3"><span class="toc-number">13.2.2.</span> <span class="toc-text">â‘¡ ç»™æ•°æ®åŠ æ³¨è§£</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A2-%E5%9B%BA%E5%AE%9A%E7%9A%84%E7%BC%96%E7%A0%81-%E4%B8%8D%E9%9C%80%E8%A6%81%E9%85%8D%E7%BD%AExml"><span class="toc-number">13.2.3.</span> <span class="toc-text">â‘¢ å›ºå®šçš„ç¼–ç (ä¸éœ€è¦é…ç½®xml)</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81model"><span class="toc-number">13.2.3.1.</span> <span class="toc-text">1ã€model</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81controller"><span class="toc-number">13.2.3.2.</span> <span class="toc-text">2ã€controller</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-2%E3%80%81-Validated%E5%92%8C-Valid%E5%8C%BA%E5%88%AB"><span class="toc-number">13.2.3.3.</span> <span class="toc-text">2.2ã€@Validatedå’Œ@ValidåŒºåˆ«</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81%E9%A1%B5%E9%9D%A2"><span class="toc-number">13.2.3.4.</span> <span class="toc-text">3ã€é¡µé¢</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A3-%E6%8F%90%E9%AB%98%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7-%E9%9C%80%E8%A6%81%E9%85%8D%E7%BD%AExml"><span class="toc-number">13.2.4.</span> <span class="toc-text">â‘£ æé«˜å¯æ‰©å±•æ€§(éœ€è¦é…ç½®xml)</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81model-1"><span class="toc-number">13.2.4.1.</span> <span class="toc-text">1ã€model</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81controller%EF%BC%9A%E5%90%8C%E4%B8%8A"><span class="toc-number">13.2.4.2.</span> <span class="toc-text">2ã€controllerï¼šåŒä¸Š</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81%E9%A1%B5%E9%9D%A2%EF%BC%9A%E5%90%8C%E4%B8%8A"><span class="toc-number">13.2.4.3.</span> <span class="toc-text">3ã€é¡µé¢ï¼šåŒä¸Š</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81%E7%BC%96%E5%86%99%E5%B1%9E%E6%80%A7%E6%96%87%E4%BB%B6"><span class="toc-number">13.2.4.4.</span> <span class="toc-text">4ã€ç¼–å†™å±æ€§æ–‡ä»¶</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5%E3%80%81%E9%85%8D%E7%BD%AEXML"><span class="toc-number">13.2.4.5.</span> <span class="toc-text">5ã€é…ç½®XML</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#14-SpringMvc%E5%92%8CSpringBoot%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">14.</span> <span class="toc-text">14 SpringMvcå’ŒSpringBootçš„åŒºåˆ«</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Spring-MVC%E7%9A%84%E5%8A%9F%E8%83%BD"><span class="toc-number">14.0.1.</span> <span class="toc-text">Spring MVCçš„åŠŸèƒ½</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Spring-Boot%E7%9A%84%E5%8A%9F%E8%83%BD"><span class="toc-number">14.0.2.</span> <span class="toc-text">Spring Bootçš„åŠŸèƒ½</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-mybatis%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B"><span class="toc-number">15.</span> <span class="toc-text">15 mybatisé€†å‘å·¥ç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E3%80%81%E5%AF%BC%E5%85%A5Mybatis%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B%E5%8C%85"><span class="toc-number">15.0.1.</span> <span class="toc-text">1ã€å¯¼å…¥Mybatisé€†å‘å·¥ç¨‹åŒ…</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E3%80%81%E7%BC%96%E5%86%99%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">15.0.2.</span> <span class="toc-text">2ã€ç¼–å†™é…ç½®æ–‡ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%E3%80%81%E7%BC%96%E5%86%99-Java-%E8%BF%90%E8%A1%8C%E7%A8%8B%E5%BA%8F%EF%BC%8C%E8%BF%90%E8%A1%8C%E5%90%8E%E5%88%B7%E6%96%B0%E5%B7%A5%E7%A8%8B%E5%B0%B1%E5%8F%AF%E4%BB%A5%E4%BA%86"><span class="toc-number">15.0.3.</span> <span class="toc-text">3ã€ç¼–å†™ Java è¿è¡Œç¨‹åºï¼Œè¿è¡Œååˆ·æ–°å·¥ç¨‹å°±å¯ä»¥äº†</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#16-pagehelper"><span class="toc-number">16.</span> <span class="toc-text">16 pagehelper</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%BC%95%E5%85%A5%E5%88%86%E9%A1%B5%E6%8F%92%E4%BB%B6"><span class="toc-number">16.1.</span> <span class="toc-text">1. å¼•å…¥åˆ†é¡µæ’ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%BC%95%E5%85%A5-Jar-%E5%8C%85"><span class="toc-number">16.1.1.</span> <span class="toc-text">1). å¼•å…¥ Jar åŒ…</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E4%BD%BF%E7%94%A8-Maven"><span class="toc-number">16.1.2.</span> <span class="toc-text">2). ä½¿ç”¨ Maven</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E9%85%8D%E7%BD%AE%E6%8B%A6%E6%88%AA%E5%99%A8%E6%8F%92%E4%BB%B6"><span class="toc-number">16.2.</span> <span class="toc-text">2. é…ç½®æ‹¦æˆªå™¨æ’ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%9C%A8-MyBatis-%E9%85%8D%E7%BD%AE-xml-%E4%B8%AD%E9%85%8D%E7%BD%AE%E6%8B%A6%E6%88%AA%E5%99%A8%E6%8F%92%E4%BB%B6"><span class="toc-number">16.2.1.</span> <span class="toc-text">1. åœ¨ MyBatis é…ç½® xml ä¸­é…ç½®æ‹¦æˆªå™¨æ’ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%9C%A8-Spring-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B8%AD%E9%85%8D%E7%BD%AE%E6%8B%A6%E6%88%AA%E5%99%A8%E6%8F%92%E4%BB%B6"><span class="toc-number">16.2.2.</span> <span class="toc-text">2. åœ¨ Spring é…ç½®æ–‡ä»¶ä¸­é…ç½®æ‹¦æˆªå™¨æ’ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%88%86%E9%A1%B5%E6%8F%92%E4%BB%B6%E5%8F%82%E6%95%B0%E4%BB%8B%E7%BB%8D"><span class="toc-number">16.2.3.</span> <span class="toc-text">3. åˆ†é¡µæ’ä»¶å‚æ•°ä»‹ç»</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E5%A6%82%E4%BD%95%E9%80%89%E6%8B%A9%E9%85%8D%E7%BD%AE%E8%BF%99%E4%BA%9B%E5%8F%82%E6%95%B0"><span class="toc-number">16.2.4.</span> <span class="toc-text">4. å¦‚ä½•é€‰æ‹©é…ç½®è¿™äº›å‚æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9C%BA%E6%99%AF%E4%B8%80"><span class="toc-number">16.2.4.1.</span> <span class="toc-text">åœºæ™¯ä¸€</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9C%BA%E6%99%AF%E4%BA%8C"><span class="toc-number">16.2.4.2.</span> <span class="toc-text">åœºæ™¯äºŒ</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9C%BA%E6%99%AF%E4%B8%89"><span class="toc-number">16.2.4.3.</span> <span class="toc-text">åœºæ™¯ä¸‰</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9C%BA%E6%99%AF%E5%9B%9B"><span class="toc-number">16.2.4.4.</span> <span class="toc-text">åœºæ™¯å››</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9C%BA%E6%99%AF%E4%BA%94"><span class="toc-number">16.2.4.5.</span> <span class="toc-text">åœºæ™¯äº”</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%A6%82%E4%BD%95%E5%9C%A8%E4%BB%A3%E7%A0%81%E4%B8%AD%E4%BD%BF%E7%94%A8"><span class="toc-number">16.3.</span> <span class="toc-text">3. å¦‚ä½•åœ¨ä»£ç ä¸­ä½¿ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-RowBounds%E6%96%B9%E5%BC%8F%E7%9A%84%E8%B0%83%E7%94%A8"><span class="toc-number">16.3.1.</span> <span class="toc-text">1). RowBoundsæ–¹å¼çš„è°ƒç”¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-PageHelper-startPage-%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95%E8%B0%83%E7%94%A8"><span class="toc-number">16.3.2.</span> <span class="toc-text">2). PageHelper.startPage é™æ€æ–¹æ³•è°ƒç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BE%8B%E4%B8%80%EF%BC%9A"><span class="toc-number">16.3.2.1.</span> <span class="toc-text">ä¾‹ä¸€ï¼š</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BE%8B%E4%BA%8C%EF%BC%9A"><span class="toc-number">16.3.2.2.</span> <span class="toc-text">ä¾‹äºŒï¼š</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BE%8B%E4%B8%89%EF%BC%8C%E4%BD%BF%E7%94%A8PageInfo%E7%9A%84%E7%94%A8%E6%B3%95%EF%BC%9A"><span class="toc-number">16.3.2.3.</span> <span class="toc-text">ä¾‹ä¸‰ï¼Œä½¿ç”¨PageInfoçš„ç”¨æ³•ï¼š</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E4%BD%BF%E7%94%A8%E5%8F%82%E6%95%B0%E6%96%B9%E5%BC%8F"><span class="toc-number">16.3.3.</span> <span class="toc-text">3). ä½¿ç”¨å‚æ•°æ–¹å¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-PageHelper-%E5%AE%89%E5%85%A8%E8%B0%83%E7%94%A8"><span class="toc-number">16.3.4.</span> <span class="toc-text">3). PageHelper å®‰å…¨è°ƒç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E4%BD%BF%E7%94%A8-RowBounds-%E5%92%8C-PageRowBounds-%E5%8F%82%E6%95%B0%E6%96%B9%E5%BC%8F%E6%98%AF%E6%9E%81%E5%85%B6%E5%AE%89%E5%85%A8%E7%9A%84"><span class="toc-number">16.3.4.1.</span> <span class="toc-text">1. ä½¿ç”¨ RowBounds å’Œ PageRowBounds å‚æ•°æ–¹å¼æ˜¯æå…¶å®‰å…¨çš„</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E4%BD%BF%E7%94%A8%E5%8F%82%E6%95%B0%E6%96%B9%E5%BC%8F%E6%98%AF%E6%9E%81%E5%85%B6%E5%AE%89%E5%85%A8%E7%9A%84"><span class="toc-number">16.3.4.2.</span> <span class="toc-text">2. ä½¿ç”¨å‚æ•°æ–¹å¼æ˜¯æå…¶å®‰å…¨çš„</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E4%BD%BF%E7%94%A8-ISelect-%E6%8E%A5%E5%8F%A3%E8%B0%83%E7%94%A8%E6%98%AF%E6%9E%81%E5%85%B6%E5%AE%89%E5%85%A8%E7%9A%84"><span class="toc-number">16.3.4.3.</span> <span class="toc-text">3. ä½¿ç”¨ ISelect æ¥å£è°ƒç”¨æ˜¯æå…¶å®‰å…¨çš„</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E4%BC%9A%E5%AF%BC%E8%87%B4%E4%B8%8D%E5%AE%89%E5%85%A8%E7%9A%84%E5%88%86%E9%A1%B5%EF%BC%9F"><span class="toc-number">16.3.4.4.</span> <span class="toc-text">4. ä»€ä¹ˆæ—¶å€™ä¼šå¯¼è‡´ä¸å®‰å…¨çš„åˆ†é¡µï¼Ÿ</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-MyBatis-%E5%92%8C-Spring-%E9%9B%86%E6%88%90%E7%A4%BA%E4%BE%8B"><span class="toc-number">16.4.</span> <span class="toc-text">4. MyBatis å’Œ Spring é›†æˆç¤ºä¾‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-Spring-Boot-%E9%9B%86%E6%88%90%E7%A4%BA%E4%BE%8B"><span class="toc-number">16.5.</span> <span class="toc-text">5. Spring Boot é›†æˆç¤ºä¾‹</span></a></li></ol></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="http://example.com/2021/07/28/SpringMVC/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="John Doe"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="Hexo"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Springmvc</h1><div class="post-meta"><div class="post-time" style="display:inline-block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="Created: 2021-07-28 11:34:12" itemprop="dateCreated datePublished" datetime="2021-07-28T11:34:12+08:00">2021-07-28</time></div><div class="post-classify"></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#0078E7;"><p>SSM:mybatis+Spring+SpringMVC   MVCä¸‰å±‚æ¶æ„</p>
<p>å­¦ä¹ ï¼šSpringMVC  + Vue + SpringBoot + SpringCloud + Linux</p>
<h2 id="1-å›é¡¾MVC"><a href="#1-å›é¡¾MVC" class="headerlink" title="1 å›é¡¾MVC"></a>1 å›é¡¾MVC</h2><h3 id="1-1-ä»€ä¹ˆæ˜¯MVC"><a href="#1-1-ä»€ä¹ˆæ˜¯MVC" class="headerlink" title="1.1  ä»€ä¹ˆæ˜¯MVC"></a>1.1  ä»€ä¹ˆæ˜¯MVC</h3><ul>
<li>MVCæ˜¯æ¨¡å‹(Model)ã€è§†å›¾(View)ã€æ§åˆ¶å™¨(Controller)çš„ç®€å†™ï¼Œæ˜¯ä¸€ç§è½¯ä»¶è®¾è®¡è§„èŒƒã€‚</li>
<li>æ˜¯å°†ä¸šåŠ¡é€»è¾‘ã€æ•°æ®ã€æ˜¾ç¤ºåˆ†ç¦»çš„æ–¹æ³•æ¥ç»„ç»‡ä»£ç ã€‚</li>
<li>MVCä¸»è¦ä½œç”¨æ˜¯<strong>é™ä½äº†è§†å›¾ä¸ä¸šåŠ¡é€»è¾‘é—´çš„åŒå‘å¶åˆ</strong>ã€‚</li>
<li>MVCä¸æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œ<strong>MVCæ˜¯ä¸€ç§æ¶æ„æ¨¡å¼</strong>ã€‚å½“ç„¶ä¸åŒçš„MVCå­˜åœ¨å·®å¼‚ã€‚</li>
</ul>
<p><strong>Modelï¼ˆæ¨¡å‹ï¼‰ï¼š</strong>æ•°æ®æ¨¡å‹ï¼Œæä¾›è¦å±•ç¤ºçš„æ•°æ®ï¼Œå› æ­¤åŒ…å«æ•°æ®å’Œè¡Œä¸ºï¼Œå¯ä»¥è®¤ä¸ºæ˜¯é¢†åŸŸæ¨¡å‹æˆ–JavaBeanç»„ä»¶ï¼ˆåŒ…å«æ•°æ®å’Œè¡Œä¸ºï¼‰ï¼Œä¸è¿‡ç°åœ¨ä¸€èˆ¬éƒ½åˆ†ç¦»å¼€æ¥ï¼šValue Objectï¼ˆæ•°æ®<strong>Dao</strong>ï¼‰ å’Œ æœåŠ¡å±‚ï¼ˆè¡Œä¸º<strong>Service</strong>ï¼‰ã€‚ä¹Ÿå°±æ˜¯æ¨¡å‹æä¾›äº†æ¨¡å‹æ•°æ®æŸ¥è¯¢å’Œæ¨¡å‹æ•°æ®çš„çŠ¶æ€æ›´æ–°ç­‰åŠŸèƒ½ï¼ŒåŒ…æ‹¬æ•°æ®å’Œä¸šåŠ¡ã€‚</p>
<p><strong>Viewï¼ˆè§†å›¾ï¼‰ï¼š</strong>è´Ÿè´£è¿›è¡Œæ¨¡å‹çš„å±•ç¤ºï¼Œä¸€èˆ¬å°±æ˜¯æˆ‘ä»¬è§åˆ°çš„ç”¨æˆ·ç•Œé¢ï¼Œå®¢æˆ·æƒ³çœ‹åˆ°çš„ä¸œè¥¿ã€‚</p>
<p><strong>Controllerï¼ˆæ§åˆ¶å™¨ï¼‰ï¼š</strong>æ¥æ”¶ç”¨æˆ·è¯·æ±‚ï¼Œå§”æ‰˜ç»™æ¨¡å‹è¿›è¡Œå¤„ç†ï¼ˆçŠ¶æ€æ”¹å˜ï¼‰ï¼Œå¤„ç†å®Œæ¯•åæŠŠè¿”å›çš„æ¨¡å‹æ•°æ®è¿”å›ç»™è§†å›¾ï¼Œç”±è§†å›¾è´Ÿè´£å±•ç¤ºã€‚ ä¹Ÿå°±æ˜¯è¯´æ§åˆ¶å™¨åšäº†ä¸ªè°ƒåº¦å‘˜çš„å·¥ä½œã€‚</p>
<p><strong>æœ€å…¸å‹çš„MVCå°±æ˜¯JSP + servlet + javabeançš„æ¨¡å¼ã€‚</strong></p>
<p><img src="Spring.assets/4041526897-1580567854421.png" alt="1570165046514.png" loading="lazy"></p>
<h3 id="1-2-Model1æ—¶ä»£"><a href="#1-2-Model1æ—¶ä»£" class="headerlink" title="1.2  Model1æ—¶ä»£"></a>1.2  Model1æ—¶ä»£</h3><ul>
<li>åœ¨webæ—©æœŸçš„å¼€å‘ä¸­ï¼Œé€šå¸¸é‡‡ç”¨çš„éƒ½æ˜¯Model1ã€‚</li>
<li>Model1ä¸­ï¼Œä¸»è¦åˆ†ä¸ºä¸¤å±‚ï¼Œè§†å›¾å±‚å’Œæ¨¡å‹å±‚ã€‚</li>
</ul>
<p><img src="Spring.assets/449885502-1580567859684.png" alt="1570165127744.png" loading="lazy"></p>
<p>Model1ä¼˜ç‚¹ï¼šæ¶æ„ç®€å•ï¼Œæ¯”è¾ƒé€‚åˆå°å‹é¡¹ç›®å¼€å‘ï¼›</p>
<p>Model1ç¼ºç‚¹ï¼šJSPèŒè´£ä¸å•ä¸€ï¼ŒèŒè´£è¿‡é‡ï¼Œä¸ä¾¿äºç»´æŠ¤ï¼›</p>
<h3 id="1-3-Model2æ—¶ä»£"><a href="#1-3-Model2æ—¶ä»£" class="headerlink" title="1.3  Model2æ—¶ä»£"></a>1.3  Model2æ—¶ä»£</h3><p>Model2æŠŠä¸€ä¸ªé¡¹ç›®åˆ†æˆä¸‰éƒ¨åˆ†ï¼ŒåŒ…æ‹¬<strong>è§†å›¾ã€æ§åˆ¶ã€æ¨¡å‹ã€‚</strong></p>
<p><img src="Spring.assets/4094962550-1580567859685.png" alt="1570165214153.png" loading="lazy"></p>
<ol>
<li>ç”¨æˆ·å‘è¯·æ±‚</li>
<li>Servletæ¥æ”¶è¯·æ±‚æ•°æ®ï¼Œå¹¶è°ƒç”¨å¯¹åº”çš„ä¸šåŠ¡é€»è¾‘æ–¹æ³•</li>
<li>ä¸šåŠ¡å¤„ç†å®Œæ¯•ï¼Œè¿”å›æ›´æ–°åçš„æ•°æ®ç»™servlet</li>
<li>servletè½¬å‘åˆ°JSPï¼Œç”±JSPæ¥æ¸²æŸ“é¡µé¢</li>
<li>å“åº”ç»™å‰ç«¯æ›´æ–°åçš„é¡µé¢</li>
</ol>
<p><strong>èŒè´£åˆ†æï¼š</strong></p>
<p><strong>Controllerï¼šæ§åˆ¶å™¨</strong></p>
<ol>
<li>å–å¾—è¡¨å•æ•°æ®</li>
<li>è°ƒç”¨ä¸šåŠ¡é€»è¾‘</li>
<li>è½¬å‘æŒ‡å®šçš„é¡µé¢</li>
</ol>
<p><strong>Modelï¼šæ¨¡å‹</strong></p>
<ol>
<li>ä¸šåŠ¡é€»è¾‘</li>
<li>ä¿å­˜æ•°æ®çš„çŠ¶æ€</li>
</ol>
<p><strong>Viewï¼šè§†å›¾</strong></p>
<ol>
<li>æ˜¾ç¤ºé¡µé¢</li>
</ol>
<p>Model2è¿™æ ·ä¸ä»…æé«˜çš„ä»£ç çš„å¤ç”¨ç‡ä¸é¡¹ç›®çš„æ‰©å±•æ€§ï¼Œä¸”å¤§å¤§é™ä½äº†é¡¹ç›®çš„ç»´æŠ¤æˆæœ¬ã€‚Model  1æ¨¡å¼çš„å®ç°æ¯”è¾ƒç®€å•ï¼Œé€‚ç”¨äºå¿«é€Ÿå¼€å‘å°è§„æ¨¡é¡¹ç›®ï¼ŒModel1ä¸­JSPé¡µé¢èº«å…¼Viewå’ŒControllerä¸¤ç§è§’è‰²ï¼Œå°†æ§åˆ¶é€»è¾‘å’Œè¡¨ç°é€»è¾‘æ··æ‚åœ¨ä¸€èµ·ï¼Œä»è€Œå¯¼è‡´ä»£ç çš„é‡ç”¨æ€§éå¸¸ä½ï¼Œå¢åŠ äº†åº”ç”¨çš„æ‰©å±•æ€§å’Œç»´æŠ¤çš„éš¾åº¦ã€‚Model2æ¶ˆé™¤äº†Model1çš„ç¼ºç‚¹ã€‚</p>
<h3 id="1-4-å›é¡¾Servlet"><a href="#1-4-å›é¡¾Servlet" class="headerlink" title="1.4  å›é¡¾Servlet"></a>1.4  å›é¡¾Servlet</h3><ol>
<li><p>æ–°å»ºä¸€ä¸ªMavenå·¥ç¨‹å½“åšçˆ¶å·¥ç¨‹ï¼ pomä¾èµ–ï¼</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.9.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet.jsp<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jsp-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jstl<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>å»ºç«‹ä¸€ä¸ªMoudleï¼šspringmvc-01-servlet ï¼Œ æ·»åŠ Web appçš„æ”¯æŒï¼</p>
</li>
<li><p>å¯¼å…¥servlet å’Œ jsp çš„ jar ä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet.jsp<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jsp-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>ç¼–å†™ä¸€ä¸ªServletç±»ï¼Œç”¨æ¥å¤„ç†ç”¨æˆ·çš„è¯·æ±‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.kuang.servlet;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å®ç°Servletæ¥å£</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">//å–å¾—å‚æ•°</span></span><br><span class="line">        String method = req.getParameter(<span class="string">&quot;method&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (method.equals(<span class="string">&quot;add&quot;</span>))&#123;</span><br><span class="line">            req.getSession().setAttribute(<span class="string">&quot;msg&quot;</span>,<span class="string">&quot;æ‰§è¡Œäº†addæ–¹æ³•&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (method.equals(<span class="string">&quot;delete&quot;</span>))&#123;</span><br><span class="line">            req.getSession().setAttribute(<span class="string">&quot;msg&quot;</span>,<span class="string">&quot;æ‰§è¡Œäº†deleteæ–¹æ³•&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//ä¸šåŠ¡é€»è¾‘</span></span><br><span class="line">        <span class="comment">//è§†å›¾è·³è½¬</span></span><br><span class="line">        req.getRequestDispatcher(<span class="string">&quot;/WEB-INF/jsp/hello.jsp&quot;</span>).forward(req,resp);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        doGet(req,resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>ç¼–å†™Hello.jspï¼Œåœ¨WEB-INFç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªjspçš„æ–‡ä»¶å¤¹ï¼Œæ–°å»ºhello.jsp</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Kuangshen&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    $&#123;msg&#125;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>åœ¨web.xmlä¸­æ³¨å†ŒServlet</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">version</span>=<span class="string">&quot;4.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>HelloServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.kuang.servlet.HelloServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>HelloServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/user<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>é…ç½®Tomcatï¼Œå¹¶å¯åŠ¨æµ‹è¯•</p>
<ul>
<li>localhost:8080/user?method=add</li>
<li>localhost:8080/user?method=delete</li>
</ul>
</li>
</ol>
<p><strong>MVCæ¡†æ¶è¦åšå“ªäº›äº‹æƒ…</strong></p>
<ol>
<li>å°†urlæ˜ å°„åˆ°javaç±»æˆ–javaç±»çš„æ–¹æ³• .</li>
<li>å°è£…ç”¨æˆ·æäº¤çš„æ•°æ® .</li>
<li>å¤„ç†è¯·æ±‚â€“è°ƒç”¨ç›¸å…³çš„ä¸šåŠ¡å¤„ç†â€“å°è£…å“åº”æ•°æ® .</li>
<li>å°†å“åº”çš„æ•°æ®è¿›è¡Œæ¸²æŸ“ . jsp / html ç­‰è¡¨ç¤ºå±‚æ•°æ® .</li>
</ol>
<p><strong>è¯´æ˜ï¼š</strong></p>
<p>å¸¸è§çš„æœåŠ¡å™¨ç«¯MVCæ¡†æ¶æœ‰ï¼šStrutsã€Spring MVCã€ASP.NET MVCã€Zend  Frameworkã€JSFï¼›</p>
<p>å¸¸è§å‰ç«¯MVCæ¡†æ¶ï¼švueã€angularjsã€reactã€backboneï¼›</p>
<p>ç”±MVCæ¼”åŒ–å‡ºäº†å¦å¤–ä¸€äº›æ¨¡å¼å¦‚ï¼šMVPã€MVVM ç­‰ç­‰â€¦.</p>
<h2 id="2-ä»€ä¹ˆæ˜¯SpringMVC"><a href="#2-ä»€ä¹ˆæ˜¯SpringMVC" class="headerlink" title="2 ä»€ä¹ˆæ˜¯SpringMVC"></a>2 ä»€ä¹ˆæ˜¯SpringMVC</h2><h3 id="2-1-æ¦‚è¿°"><a href="#2-1-æ¦‚è¿°" class="headerlink" title="2.1  æ¦‚è¿°"></a>2.1  æ¦‚è¿°</h3><p><img src="Spring.assets/3030654365.png" alt="1570166394812.png" loading="lazy"></p>
<p>Spring MVCæ˜¯Spring Frameworkçš„ä¸€éƒ¨åˆ†ï¼Œæ˜¯åŸºäºJavaå®ç°MVCçš„è½»é‡çº§Webæ¡†æ¶ã€‚</p>
<p><a target="_blank" rel="noopener" href="https://docs.spring.io/spring/docs/5.2.0.RELEASE/spring-framework-reference/web.html#spring-web">æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£</a></p>
<p><strong>æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦å­¦ä¹ SpringMVCå‘¢?</strong></p>
<p>Spring MVCçš„ç‰¹ç‚¹ï¼š</p>
<ol>
<li>è½»é‡çº§ï¼Œç®€å•æ˜“å­¦</li>
<li>é«˜æ•ˆ , åŸºäº<strong>è¯·æ±‚å“åº”</strong>çš„MVCæ¡†æ¶</li>
<li>ä¸Springå…¼å®¹æ€§å¥½ï¼Œæ— ç¼ç»“åˆ</li>
<li>çº¦å®šä¼˜äºé…ç½®</li>
<li>åŠŸèƒ½å¼ºå¤§ï¼šrestful(åœ°å€æ æ²¡æœ‰é—®å·ä¼ å‚)ã€æ•°æ®éªŒè¯ã€æ ¼å¼åŒ–ã€æœ¬åœ°åŒ–ã€ä¸»é¢˜ç­‰</li>
<li>ç®€æ´çµæ´»</li>
</ol>
<p>Springçš„webæ¡†æ¶å›´ç»•<strong>DispatcherServlet</strong> [ è°ƒåº¦Servlet ] è®¾è®¡ã€‚</p>
<p>DispatcherServletçš„ä½œç”¨æ˜¯å°†è¯·æ±‚åˆ†å‘åˆ°ä¸åŒçš„å¤„ç†å™¨ã€‚ä»Spring 2.5å¼€å§‹ï¼Œä½¿ç”¨Java 5æˆ–è€…ä»¥ä¸Šç‰ˆæœ¬çš„ç”¨æˆ·å¯ä»¥é‡‡ç”¨åŸºäºæ³¨è§£å½¢å¼è¿›è¡Œå¼€å‘ï¼Œååˆ†ç®€æ´ï¼›</p>
<p>æ­£å› ä¸ºSpringMVCå¥½ , ç®€å• , ä¾¿æ· , æ˜“å­¦ , å¤©ç”Ÿå’ŒSpringæ— ç¼é›†æˆ(ä½¿ç”¨SpringIoCå’ŒAop) , ä½¿ç”¨çº¦å®šä¼˜äºé…ç½® .  èƒ½å¤Ÿè¿›è¡Œç®€å•çš„junitæµ‹è¯• . æ”¯æŒRestfulé£æ ¼ .å¼‚å¸¸å¤„ç† , æœ¬åœ°åŒ– , å›½é™…åŒ– , æ•°æ®éªŒè¯ , ç±»å‹è½¬æ¢ , æ‹¦æˆªå™¨  ç­‰ç­‰â€¦â€¦æ‰€ä»¥æˆ‘ä»¬è¦å­¦ä¹  .</p>
<p><strong>æœ€é‡è¦çš„ä¸€ç‚¹è¿˜æ˜¯ç”¨çš„äººå¤š , ä½¿ç”¨çš„å…¬å¸å¤š .</strong></p>
<h3 id="2-2-ä¸­å¿ƒæ§åˆ¶å™¨"><a href="#2-2-ä¸­å¿ƒæ§åˆ¶å™¨" class="headerlink" title="2.2  ä¸­å¿ƒæ§åˆ¶å™¨"></a>2.2  ä¸­å¿ƒæ§åˆ¶å™¨</h3><p>â€‹    Springçš„webæ¡†æ¶å›´ç»•DispatcherServletè®¾è®¡ã€‚  DispatcherServletçš„ä½œç”¨æ˜¯å°†è¯·æ±‚åˆ†å‘åˆ°ä¸åŒçš„å¤„ç†å™¨ã€‚ä»Spring 2.5å¼€å§‹ï¼Œä½¿ç”¨Java  5æˆ–è€…ä»¥ä¸Šç‰ˆæœ¬çš„ç”¨æˆ·å¯ä»¥é‡‡ç”¨åŸºäºæ³¨è§£çš„controllerå£°æ˜æ–¹å¼ã€‚</p>
<p>â€‹    Spring MVCæ¡†æ¶åƒè®¸å¤šå…¶ä»–MVCæ¡†æ¶ä¸€æ ·, <strong>ä»¥è¯·æ±‚ä¸ºé©±åŠ¨</strong> , <strong>å›´ç»•ä¸€ä¸ªä¸­å¿ƒServletåˆ†æ´¾è¯·æ±‚åŠæä¾›å…¶ä»–åŠŸèƒ½</strong>ï¼Œ**DispatcherServletæ˜¯ä¸€ä¸ªå®é™…çš„Servlet (å®ƒç»§æ‰¿è‡ªHttpServlet åŸºç±»)**ã€‚</p>
<p><img src="Spring.assets/1958583181.png" alt="1570167567494.png" loading="lazy"></p>
<p>SpringMVCçš„åŸç†å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p>â€‹    å½“å‘èµ·è¯·æ±‚æ—¶è¢«å‰ç½®çš„æ§åˆ¶å™¨æ‹¦æˆªåˆ°è¯·æ±‚ï¼Œæ ¹æ®è¯·æ±‚å‚æ•°ç”Ÿæˆä»£ç†è¯·æ±‚ï¼Œæ‰¾åˆ°è¯·æ±‚å¯¹åº”çš„å®é™…æ§åˆ¶å™¨ï¼Œæ§åˆ¶å™¨å¤„ç†è¯·æ±‚ï¼Œåˆ›å»ºæ•°æ®æ¨¡å‹ï¼Œè®¿é—®æ•°æ®åº“ï¼Œå°†æ¨¡å‹å“åº”ç»™ä¸­å¿ƒæ§åˆ¶å™¨ï¼Œæ§åˆ¶å™¨ä½¿ç”¨æ¨¡å‹ä¸è§†å›¾æ¸²æŸ“è§†å›¾ç»“æœï¼Œå°†ç»“æœè¿”å›ç»™ä¸­å¿ƒæ§åˆ¶å™¨ï¼Œå†å°†ç»“æœè¿”å›ç»™è¯·æ±‚è€…ã€‚</p>
<p><img src="Spring.assets/2905833713.png" alt="1570167624269.png" loading="lazy"></p>
<h3 id="2-3-SpringMVCæ‰§è¡ŒåŸç†"><a href="#2-3-SpringMVCæ‰§è¡ŒåŸç†" class="headerlink" title="2.3  SpringMVCæ‰§è¡ŒåŸç†"></a>2.3  <a target="_blank" rel="noopener" href="https://www.cnblogs.com/yoci/p/10642493.html">SpringMVCæ‰§è¡ŒåŸç†</a></h3><p>SpringMVCçš„æ ¸å¿ƒå¼€å‘æ­¥éª¤ï¼š</p>
<ol>
<li><p>åœ¨web.xmlä¸­éƒ¨ç½²DispaterServletï¼Œå¹¶é…ç½®springmvc.xmlç­‰æ–‡ä»¶;</p>
</li>
<li><p>å°†æ˜ å°„æ–‡ä»¶è¯·æ±‚åˆ°å¤„ç†å™¨HandlerMapping;</p>
</li>
<li><p>HandlerMappingä¼šæŠŠè¯·æ±‚æ˜ å°„ä¸ºHandlerExecutionChainç±»å‹çš„handlerå¯¹è±¡;</p>
</li>
<li><p>å°†handlerå¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’ç»™HandlerAdapterçš„å®ä¾‹åŒ–å¯¹è±¡ï¼Œè°ƒç”¨å…¶handleræ–¹æ³•ä¼šç”Ÿæˆä¸€ä¸ªModelAndViewå¯¹è±¡;</p>
</li>
<li><p>é€šè¿‡ViewResolverè§†å›¾è§£æå™¨ï¼Œå°†ä¸Šä¸€æ­¥éª¤ä¸­ç”Ÿæˆçš„ModelAndViewè§£æä¸ºView;</p>
</li>
<li><p>DispatcherServletæ ¹æ®è·å–åˆ°Viewï¼Œå°†è§†å›¾è¿”å›ç»™ç”¨æˆ·ã€‚</p>
</li>
</ol>
<p><img src="Spring.assets/63825124.png" alt="1570167751381.png" loading="lazy"></p>
<p>å›¾ä¸ºSpringMVCçš„ä¸€ä¸ªè¾ƒå®Œæ•´çš„æµç¨‹å›¾ï¼Œå®çº¿è¡¨ç¤ºSpringMVCæ¡†æ¶æä¾›çš„æŠ€æœ¯ï¼Œä¸éœ€è¦å¼€å‘è€…å®ç°ï¼Œè™šçº¿è¡¨ç¤ºéœ€è¦å¼€å‘è€…å®ç°ã€‚</p>
<p><strong>ç®€è¦åˆ†ææ‰§è¡Œæµç¨‹</strong></p>
<ol>
<li><p>DispatcherServletè¡¨ç¤ºå‰ç½®æ§åˆ¶å™¨ï¼Œæ˜¯æ•´ä¸ªSpringMVCçš„æ§åˆ¶ä¸­å¿ƒã€‚ç”¨æˆ·å‘å‡ºè¯·æ±‚ï¼ŒDispatcherServletæ¥æ”¶è¯·æ±‚å¹¶æ‹¦æˆªè¯·æ±‚ã€‚</p>
<ul>
<li>æˆ‘ä»¬å‡è®¾è¯·æ±‚çš„urlä¸º : <a target="_blank" rel="noopener" href="http://localhost:8080/SpringMVC/hello">http://localhost:8080/SpringMVC/hello</a></li>
<li><strong>å¦‚ä¸Šurlæ‹†åˆ†æˆä¸‰éƒ¨åˆ†ï¼š</strong></li>
<li><a href="http://localhost:8080æœåŠ¡å™¨åŸŸå">http://localhost:8080æœåŠ¡å™¨åŸŸå</a></li>
<li>SpringMVCéƒ¨ç½²åœ¨æœåŠ¡å™¨ä¸Šçš„webç«™ç‚¹</li>
<li><strong>helloè¡¨ç¤ºæ§åˆ¶å™¨ï¼Œhandlerçš„å</strong></li>
<li>é€šè¿‡åˆ†æï¼Œå¦‚ä¸Šurlè¡¨ç¤ºä¸ºï¼šè¯·æ±‚ä½äºæœåŠ¡å™¨localhost:8080ä¸Šçš„SpringMVCç«™ç‚¹çš„helloæ§åˆ¶å™¨ã€‚</li>
</ul>
</li>
<li><p>HandlerMappingä¸ºå¤„ç†å™¨æ˜ å°„ã€‚DispatcherServletè°ƒç”¨HandlerMapping,HandlerMappingæ ¹æ®è¯·æ±‚urlæŸ¥æ‰¾Handlerã€‚</p>
</li>
<li><p>HandlerExecutionè¡¨ç¤ºå…·ä½“çš„Handler,å…¶ä¸»è¦ä½œç”¨æ˜¯<strong>æ ¹æ®urlæŸ¥æ‰¾æ§åˆ¶å™¨</strong>ï¼Œå¦‚ä¸Šurlè¢«æŸ¥æ‰¾æ§åˆ¶å™¨ä¸ºï¼šhelloã€‚</p>
<p>HandlerExecutionå°†è§£æåçš„ä¿¡æ¯ä¼ é€’ç»™DispatcherServlet,å¦‚è§£ææ§åˆ¶å™¨æ˜ å°„ç­‰ã€‚</p>
</li>
<li><p>HandlerAdapterè¡¨ç¤ºå¤„ç†å™¨é€‚é…å™¨ï¼Œå…¶æŒ‰ç…§ç‰¹å®šçš„è§„åˆ™å»æ‰§è¡ŒHandlerã€‚</p>
<p>Handlerè®©å…·ä½“çš„Controlleræ‰§è¡Œã€‚</p>
</li>
<li><p>Controllerå°†å…·ä½“çš„æ‰§è¡Œä¿¡æ¯è¿”å›ç»™HandlerAdapter,å¦‚ModelAndViewã€‚</p>
</li>
<li><p>HandlerAdapterå°†è§†å›¾é€»è¾‘åæˆ–æ¨¡å‹ä¼ é€’ç»™DispatcherServletã€‚</p>
</li>
<li><p>DispatcherServletè°ƒç”¨è§†å›¾è§£æå™¨(ViewResolver)æ¥è§£æHandlerAdapterä¼ é€’çš„é€»è¾‘è§†å›¾åã€‚</p>
</li>
<li><p>è§†å›¾è§£æå™¨å°†è§£æçš„é€»è¾‘è§†å›¾åä¼ ç»™DispatcherServletã€‚</p>
</li>
<li><p>DispatcherServletæ ¹æ®è§†å›¾è§£æå™¨è§£æçš„è§†å›¾ç»“æœï¼Œè°ƒç”¨å…·ä½“çš„è§†å›¾ã€‚</p>
</li>
<li><p>æœ€ç»ˆè§†å›¾å‘ˆç°ç»™ç”¨æˆ·ã€‚</p>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è§†å›¾è§£æå™¨:DispatcherServletç»™ä»–çš„ModelAndView</span><br><span class="line">1.è·å–modelandviewçš„æ•°æ®</span><br><span class="line">2.è§£æmodelandviewçš„è§†å›¾åå­—</span><br><span class="line">3.æ‹¼æ¥è§†å›¾åå­—ï¼Œæ‰¾åˆ°å¯¹åº”çš„è§†å›¾  /WEB-INF/jsp/hello.jsp</span><br><span class="line">4.å°†æ•°æ®æ¸²æŸ“åˆ°è¿™ä¸ªè§†å›¾ä¸Š</span><br></pre></td></tr></table></figure>



<h2 id="3-HelloSpringMVC"><a href="#3-HelloSpringMVC" class="headerlink" title="3 HelloSpringMVC"></a>3 HelloSpringMVC</h2><h3 id="3-1-é…ç½®ç‰ˆ"><a href="#3-1-é…ç½®ç‰ˆ" class="headerlink" title="3.1  é…ç½®ç‰ˆ"></a>3.1  é…ç½®ç‰ˆ</h3><h4 id="1ã€Moudle-ï¼Œ-æ·»åŠ webçš„æ”¯æŒï¼"><a href="#1ã€Moudle-ï¼Œ-æ·»åŠ webçš„æ”¯æŒï¼" class="headerlink" title="1ã€Moudle ï¼Œ  æ·»åŠ webçš„æ”¯æŒï¼"></a>1ã€Moudle ï¼Œ  æ·»åŠ webçš„æ”¯æŒï¼</h4><h4 id="2ã€SpringMVC-çš„ä¾èµ–ï¼"><a href="#2ã€SpringMVC-çš„ä¾èµ–ï¼" class="headerlink" title="2ã€SpringMVC çš„ä¾èµ–ï¼"></a>2ã€SpringMVC çš„ä¾èµ–ï¼</h4><h4 id="3ã€web-xml"><a href="#3ã€web-xml" class="headerlink" title="3ã€web.xml"></a>3ã€web.xml</h4><p> æ³¨å†ŒDispatcherServlet</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">version</span>=<span class="string">&quot;4.0&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--1.æ³¨å†ŒDispatcherServlet--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>springmvc<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--DispatcherServletè¦ç»‘å®šspringçš„é…ç½®æ–‡ä»¶:ã€servlet-nameã€‘-servlet.xml--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- å¦‚æœä¸è®¾ç½®init-paramæ ‡ç­¾ï¼Œåˆ™å¿…é¡»åœ¨/WEB-INF/ä¸‹åˆ›å»ºxxx-servlet.xmlæ–‡ä»¶ï¼Œå…¶ä¸­xxxæ˜¯servlet-nameä¸­é…ç½®çš„åç§°ã€‚ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>classpath:springmvc-servlet.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--å¯åŠ¨çº§åˆ«-1ï¼ŒæœåŠ¡å™¨å¯åŠ¨ï¼Œå®ƒå°±å¯åŠ¨--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>1<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--/ åŒ¹é…æ‰€æœ‰çš„è¯·æ±‚ï¼›ï¼ˆä¸åŒ…æ‹¬.jspï¼‰--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--/* åŒ¹é…æ‰€æœ‰çš„è¯·æ±‚ï¼›ï¼ˆåŒ…æ‹¬.jspï¼‰--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>springmvc<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="4ã€æ“ä½œä¸šåŠ¡Controller"><a href="#4ã€æ“ä½œä¸šåŠ¡Controller" class="headerlink" title="4ã€æ“ä½œä¸šåŠ¡Controller"></a>4ã€æ“ä½œä¸šåŠ¡Controller</h4><p>è¦ä¹ˆå®ç°Controlleræ¥å£ï¼Œè¦ä¹ˆå¢åŠ æ³¨è§£ï¼›éœ€è¦è¿”å›ä¸€ä¸ªModelAndViewï¼Œè£…æ•°æ®ï¼Œå°è§†å›¾ï¼›</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.ModelAndView;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.mvc.Controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ³¨æ„ï¼šè¿™é‡Œæˆ‘ä»¬å…ˆå¯¼å…¥Controlleræ¥å£</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloController</span> <span class="keyword">implements</span> <span class="title">Controller</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ModelAndView <span class="title">handleRequest</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//ModelAndView æ¨¡å‹å’Œè§†å›¾</span></span><br><span class="line">        ModelAndView mv = <span class="keyword">new</span> ModelAndView();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å°è£…å¯¹è±¡ï¼Œæ”¾åœ¨ModelAndViewä¸­ã€‚Model</span></span><br><span class="line">        mv.addObject(<span class="string">&quot;msg&quot;</span>,<span class="string">&quot;HelloSpringMVC!&quot;</span>);</span><br><span class="line">        <span class="comment">//å°è£…è¦è·³è½¬çš„è§†å›¾ï¼Œæ”¾åœ¨ModelAndViewä¸­</span></span><br><span class="line">        mv.setViewName(<span class="string">&quot;hello&quot;</span>); <span class="comment">//: /WEB-INF/jsp/hello.jsp</span></span><br><span class="line">        <span class="keyword">return</span> mv;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="5ã€Spring-MVCé…ç½®æ–‡ä»¶"><a href="#5ã€Spring-MVCé…ç½®æ–‡ä»¶" class="headerlink" title="5ã€Spring MVCé…ç½®æ–‡ä»¶"></a>5ã€Spring MVCé…ç½®æ–‡ä»¶</h4><p>åç§°ï¼šspringmvc-servlet.xml  : [servletname]-servlet.xmlè¯´æ˜ï¼Œè¿™é‡Œçš„åç§°è¦æ±‚æ˜¯æŒ‰ç…§å®˜æ–¹æ¥çš„</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="â‘ -å¤„ç†å™¨æ˜ å°„å™¨ï¼šHandlerMapping"><a href="#â‘ -å¤„ç†å™¨æ˜ å°„å™¨ï¼šHandlerMapping" class="headerlink" title="==â‘  å¤„ç†å™¨æ˜ å°„å™¨ï¼šHandlerMapping=="></a>==â‘  å¤„ç†å™¨æ˜ å°„å™¨ï¼šHandlerMapping==</h5><ul>
<li><p>HandlerMapping æ¥å£è´Ÿè´£æ ¹æ® request è¯·æ±‚æ‰¾åˆ°å¯¹åº”çš„ Handler å¤„ç†å™¨åŠInterceptor æ‹¦æˆªå™¨ï¼Œå¹¶å°†å®ƒä»¬å°è£…åœ¨HandlerExecutionChainå¯¹è±¡ä¸­ï¼Œè¿”å›ç»™ä¸­å¤®è°ƒåº¦å™¨ã€‚</p>
</li>
<li><p>å…¶å¸¸ç”¨çš„å®ç°ç±»æœ‰ä¸¤ç§ï¼š</p>
<p><strong>==â‘  BeanNameUrlHandlerMapping==</strong> </p>
<ul>
<li>ä¼šæ ¹æ®è¯·æ±‚çš„ ==<strong>url</strong>== ä¸spring å®¹å™¨ä¸­å®šä¹‰çš„å¤„ç†å™¨ bean çš„ ==<strong>name</strong>== å±æ€§å€¼è¿›è¡ŒåŒ¹é…ï¼Œä»è€Œåœ¨spring å®¹å™¨ä¸­æ‰¾åˆ°å¤„ç†å™¨ ==<strong>bean å®ä¾‹</strong>==ã€‚</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--æ³¨å†Œ å¤„ç†å™¨æ˜ å°„å™¨--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--http://localhost:8080/SpringMvc_01/h--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping&quot;</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--æ³¨å†Œ å¤„ç†å™¨ï¼šå…·ä½“çš„Controller--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">&quot;/h&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.java05.hello.controll.HelloControl&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>æ‰“å¼€ç±»çš„æºç ï¼Œä»å¤„ç†å™¨æ˜ å°„å™¨çš„æ–¹æ³•ä¸­å¯ä»¥çœ‹å‡ºï¼Œå¯¹äºå¤„ç†å™¨çš„   Bean çš„åç§°ï¼Œå¿…é¡»<br>  ä»¥ â€œ/â€ å¼€å¤´ï¼Œå¦åˆ™æ— æ³•åŠ å…¥åˆ°urlsæ•°ç»„ä¸­ã€‚è€Œurlsæ•°ç»„ä¸­çš„urlåˆ™æ˜¯ä¸­å¤®è°ƒåº¦å™¨ç”¨äºåˆ¤å®š</p>
</li>
<li><img src="SpringMVC.assets/838305-20170412164719298-41958605.png" alt="img" style="zoom: 50%;" / loading="lazy">

<ul>
<li><p>ä½¿ç”¨BeanNameUrHandlerMappingæ˜ å°„å™¨æœ‰==<strong>ä¸¤ç‚¹æ˜æ˜¾ä¸è¶³</strong>==:</p>
<ul>
<li>å¤„ç†å™¨Beançš„idä¸ºä¸€ä¸ªurlè¯·æ±‚è·¯å¾„ï¼Œè€Œä¸æ˜¯Beançš„åç§°ï¼Œæœ‰äº›ä¸ä¼¦ä¸ç±»ã€‚</li>
<li>å¤„ç†å™¨Beançš„å®šä¹‰ä¸è¯·æ±‚ url ç»‘å®šåœ¨äº†ä¸€èµ·ã€‚è‹¥å‡ºç°å¤šä¸ªurlè¯·æ±‚åŒä¸€ä¸ªå¤„ç†å™¨çš„æƒ…å†µï¼Œ<br>å°±éœ€è¦åœ¨Springå®¹å™¨ä¸­é…ç½®å¤šä¸ªè¯¥å¤„ç†å™¨ç±»çš„<bean/>ã€‚è¿™å°†å¯¼è‡´å®¹å™¨ä¼šåˆ›å»ºå¤šä¸ªè¯¥å¤„ç†å™¨ç±»å®ä¾‹ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>==â‘¡ SimpleUrlHandlerMapping==</strong></p>
<ul>
<li>ä¸ä»…å¯ä»¥å°†urlä¸å¤„ç†å™¨çš„å®šä¹‰==<strong>åˆ†ç¦»</strong>==ï¼Œè¿˜å¯ä»¥å¯¹urlè¿›è¡Œç»Ÿä¸€æ˜ å°„ç®¡ç†ã€‚</li>
<li>ä¼šæ ¹æ®è¯·æ±‚çš„urlä¸Springå®¹å™¨ä¸­å®šä¹‰çš„å¤„ç†å™¨æ˜ å°„å™¨å­æ ‡ç­¾çš„keyå±æ€§è¿›è¡ŒåŒ¹é…ã€‚åŒ¹é…ä¸Šåï¼Œå†å°†è¯¥keyçš„valueå€¼ä¸å¤„ç†å™¨beançš„id<br>å€¼è¿›è¡ŒåŒ¹é…ï¼Œä»è€Œåœ¨springå®¹å™¨ä¸­æ‰¾åˆ°å¤„ç†å™¨beanã€‚</li>
<li>é¡¹ç›®: simpleUrlHandlerMappingã€‚ åœ¨é¡¹ç›®primary åŸºç¡€ä¸Šä¿®æ”¹ã€‚<br>åªéœ€è¦ä¿®æ”¹springmvc.xmlæ–‡ä»¶å³å¯ã€‚</li>
<li> <img src="SpringMVC.assets/838305-20170412170814517-633537242.png" alt="img" style="zoom: 50%;" / loading="lazy"> </li>
</ul>
</li>
</ul>
<h5 id="â‘¡-å¤„ç†é€‚é…å™¨ï¼šHandlerAdapter"><a href="#â‘¡-å¤„ç†é€‚é…å™¨ï¼šHandlerAdapter" class="headerlink" title="==â‘¡ å¤„ç†é€‚é…å™¨ï¼šHandlerAdapter=="></a>==â‘¡ å¤„ç†é€‚é…å™¨ï¼šHandlerAdapter==</h5><ul>
<li>Spring MVCé€šè¿‡HandlerAdapteræ¥==å®é™…è°ƒç”¨==å¤„ç†å‡½æ•°ã€‚</li>
<li>å®ƒæ˜¯SpringMvcå¤„ç†æµç¨‹çš„ç¬¬äºŒæ­¥,å½“HandlerMapping==è·å–==äº†å®šä½è¯·æ±‚å¤„ç†å™¨Handlerï¼Œ</li>
<li>DispatcherServletä¼šå°† ==å¾—åˆ°çš„Handlerå‘ŠçŸ¥== HandlerAdapterï¼ŒHandlerAdapterå†==æ ¹æ®è¯·æ±‚å»å®šä½==è¯·æ±‚çš„å…·ä½“å¤„ç†æ–¹æ³•æ˜¯å“ªä¸€ä¸ªã€‚ </li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="â‘¢-è§†å›¾è§£æå™¨"><a href="#â‘¢-è§†å›¾è§£æå™¨" class="headerlink" title="==â‘¢== ==è§†å›¾è§£æå™¨=="></a>==â‘¢== <a target="_blank" rel="noopener" href="https://blog.csdn.net/bingguang1993/article/details/92066081">==è§†å›¾è§£æå™¨==</a></h5><p> ä¸»è¦ä½œç”¨å°±æ˜¯å°†é€»è¾‘è§†å›¾è½¬æ¢æˆç”¨æˆ·å¯ä»¥çœ‹åˆ°çš„ç‰©ç†è§†å›¾ </p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--è§†å›¾è§£æå™¨:DispatcherServletç»™ä»–çš„ModelAndView</span></span><br><span class="line"><span class="comment">1.è·å–modelandviewçš„æ•°æ®</span></span><br><span class="line"><span class="comment">2.è§£æmodelandviewçš„è§†å›¾åå­—</span></span><br><span class="line"><span class="comment">3.æ‹¼æ¥è§†å›¾åå­—ï¼Œæ‰¾åˆ°å¯¹åº”çš„è§†å›¾  /WEB-INF/jsp/hello.jsp</span></span><br><span class="line"><span class="comment">4.å°†æ•°æ®æ¸²æŸ“åˆ°è¿™ä¸ªè§†å›¾ä¸Š--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span> <span class="attr">id</span>=<span class="string">&quot;InternalResourceViewResolver&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--å‰ç¼€--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;prefix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;/WEB-INF/jsp/&quot;</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--åç¼€--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;suffix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;.jsp&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="â‘£-é…ç½®å¤„ç†å™¨"><a href="#â‘£-é…ç½®å¤„ç†å™¨" class="headerlink" title="==â‘£ é…ç½®å¤„ç†å™¨=="></a>==â‘£ é…ç½®å¤„ç†å™¨==</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--å°†è‡ªå·±çš„ç±»äº¤ç»™SpringIOCå®¹å™¨ï¼Œæ³¨å†Œbean--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--Handler--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;/hello&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.kuang.controller.HelloController&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="6ã€è·³è½¬çš„jspé¡µé¢ï¼Œ"><a href="#6ã€è·³è½¬çš„jspé¡µé¢ï¼Œ" class="headerlink" title="6ã€è·³è½¬çš„jspé¡µé¢ï¼Œ"></a>6ã€è·³è½¬çš„jspé¡µé¢ï¼Œ</h4><p>æ˜¾ç¤ºModelandViewå­˜æ”¾çš„æ•°æ®ï¼Œä»¥åŠæˆ‘ä»¬çš„æ­£å¸¸é¡µé¢ï¼›</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Kuangshen&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    $&#123;msg&#125;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<ol>
<li><p>é…ç½®Tomcat å¯åŠ¨æµ‹è¯•ï¼</p>
<p><img src="Spring.assets/3293039327.png" alt="1570169717195.png" loading="lazy"></p>
</li>
</ol>
<h4 id="7ã€404é”™è¯¯"><a href="#7ã€404é”™è¯¯" class="headerlink" title="7ã€404é”™è¯¯"></a>7ã€404é”™è¯¯</h4><p>å¯èƒ½é‡åˆ°çš„é—®é¢˜ï¼šè®¿é—®å‡ºç°404ï¼Œæ’æŸ¥æ­¥éª¤ï¼š</p>
<ol>
<li>æŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºï¼Œçœ‹ä¸€ä¸‹æ˜¯ä¸æ˜¯ç¼ºå°‘äº†ä»€ä¹ˆjaråŒ…ã€‚</li>
<li>å¦‚æœjaråŒ…å­˜åœ¨ï¼Œæ˜¾ç¤ºæ— æ³•è¾“å‡ºï¼Œå°±åœ¨IDEAçš„é¡¹ç›®å‘å¸ƒä¸­ï¼Œæ·»åŠ libä¾èµ–ï¼</li>
<li>é‡å¯Tomcat å³å¯è§£å†³ï¼</li>
</ol>
<p>å°ç»“ï¼šçœ‹è¿™ä¸ªä¼°è®¡å¤§éƒ¨åˆ†åŒå­¦éƒ½èƒ½ç†è§£å…¶ä¸­çš„åŸç†äº†ï¼Œä½†æ˜¯æˆ‘ä»¬å®é™…å¼€å‘æ‰ä¸ä¼šè¿™ä¹ˆå†™ï¼Œä¸ç„¶å°±ç–¯äº†ï¼Œè¿˜å­¦è¿™ä¸ªç©æ„å¹²å˜›ï¼æˆ‘ä»¬æ¥çœ‹ä¸ªæ³¨è§£ç‰ˆå®ç°ï¼Œè¿™æ‰æ˜¯SpringMVCçš„ç²¾é«“ï¼Œåˆ°åº•æœ‰å¤šä¹ˆç®€å•ï¼Œçœ‹è¿™ä¸ªå›¾å°±çŸ¥é“äº†ã€‚</p>
<img src="Spring.assets/928968841.png" alt="1570170000473.png" style="zoom:67%;" / loading="lazy">

<h3 id="3-2-æ³¨è§£ç‰ˆ"><a href="#3-2-æ³¨è§£ç‰ˆ" class="headerlink" title="3.2  æ³¨è§£ç‰ˆ"></a>3.2  æ³¨è§£ç‰ˆ</h3><h4 id="ç¬¬ä¸€æ­¥-Moudle-æ·»åŠ webæ”¯æŒ"><a href="#ç¬¬ä¸€æ­¥-Moudle-æ·»åŠ webæ”¯æŒ" class="headerlink" title="ç¬¬ä¸€æ­¥:Moudle , æ·»åŠ webæ”¯æŒ"></a>ç¬¬ä¸€æ­¥:Moudle , æ·»åŠ webæ”¯æŒ</h4><h4 id="ç¬¬äºŒæ­¥-ç”±äºMavenå¯èƒ½å­˜åœ¨èµ„æºè¿‡æ»¤çš„é—®é¢˜ï¼Œæˆ‘ä»¬å°†é…ç½®å®Œå–„"><a href="#ç¬¬äºŒæ­¥-ç”±äºMavenå¯èƒ½å­˜åœ¨èµ„æºè¿‡æ»¤çš„é—®é¢˜ï¼Œæˆ‘ä»¬å°†é…ç½®å®Œå–„" class="headerlink" title="ç¬¬äºŒæ­¥:ç”±äºMavenå¯èƒ½å­˜åœ¨èµ„æºè¿‡æ»¤çš„é—®é¢˜ï¼Œæˆ‘ä»¬å°†é…ç½®å®Œå–„"></a>ç¬¬äºŒæ­¥:ç”±äºMavenå¯èƒ½å­˜åœ¨èµ„æºè¿‡æ»¤çš„é—®é¢˜ï¼Œæˆ‘ä»¬å°†é…ç½®å®Œå–„</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/java<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>false<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>false<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="ç¬¬ä¸‰æ­¥-å¼•å…¥ç›¸å…³çš„ä¾èµ–"><a href="#ç¬¬ä¸‰æ­¥-å¼•å…¥ç›¸å…³çš„ä¾èµ–" class="headerlink" title="ç¬¬ä¸‰æ­¥:å¼•å…¥ç›¸å…³çš„ä¾èµ–"></a>ç¬¬ä¸‰æ­¥:å¼•å…¥ç›¸å…³çš„ä¾èµ–</h4><ul>
<li>åœ¨pom.xmlæ–‡ä»¶å¼•å…¥ç›¸å…³çš„ä¾èµ–ï¼Œä¸»è¦æœ‰Springæ¡†æ¶æ ¸å¿ƒåº“ã€Spring MVCã€servlet , JSTLç­‰ã€‚æˆ‘ä»¬åœ¨çˆ¶ä¾èµ–ä¸­å·²ç»å¼•å…¥äº†ï¼</li>
</ul>
<h4 id="ç¬¬å››æ­¥-web-xml"><a href="#ç¬¬å››æ­¥-web-xml" class="headerlink" title="ç¬¬å››æ­¥:web.xml"></a>ç¬¬å››æ­¥:web.xml</h4><p>==<strong>ä¸¤ç§æ–¹å¼ï¼š</strong>==</p>
<p>==<strong>â‘   å…³è”SpringMVCçš„é…ç½®æ–‡ä»¶</strong>==</p>
<p>æ³¨æ„ç‚¹ï¼š</p>
<ul>
<li>æ³¨æ„web.xmlç‰ˆæœ¬é—®é¢˜ï¼Œè¦æœ€æ–°ç‰ˆï¼</li>
<li>æ³¨å†ŒDispatcherServlet</li>
<li>å…³è”SpringMVCçš„é…ç½®æ–‡ä»¶</li>
<li>å¯åŠ¨çº§åˆ«ä¸º1</li>
<li>æ˜ å°„è·¯å¾„ä¸º / ã€ä¸è¦ç”¨/*ï¼Œä¼š404ã€‘<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--1.æ³¨å†Œservlet--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>SpringMVC<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--é€šè¿‡åˆå§‹åŒ–å‚æ•°æŒ‡å®šSpringMVCé…ç½®æ–‡ä»¶çš„ä½ç½®ï¼Œè¿›è¡Œå…³è”--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>classpath:springmvc-servlet.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å¯åŠ¨é¡ºåºï¼Œæ•°å­—è¶Šå°ï¼Œå¯åŠ¨è¶Šæ—© --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>1<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--æ‰€æœ‰è¯·æ±‚éƒ½ä¼šè¢«springmvcæ‹¦æˆª --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>SpringMVC<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p>==<strong>â‘¡  ä¸å…³è”SpringMVCçš„é…ç½®æ–‡ä»¶</strong>==</p>
<img src="SpringMVC.assets/1585731310585.png" alt="1585731310585" style="zoom: 80%;float:left" / loading="lazy">

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--dispatcher-servlet.xmlçš„dispatcherå¿…é¡»å’Œservlet-nameçš„åå­—ä¸€æ ·--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>dispatcher<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--ä¸å…³è”SpringMVCçš„é…ç½®æ–‡ä»¶ï¼Œdispatcher-servlet.xmlå°±è¦æ”¾åˆ°WEB-INFé‡Œ--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span>	</span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>dispatcher<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h5 id="å’Œ-çš„åŒºåˆ«ï¼š"><a href="#å’Œ-çš„åŒºåˆ«ï¼š" class="headerlink" title="==/ å’Œ /* çš„åŒºåˆ«ï¼š=="></a>==/ å’Œ /* çš„åŒºåˆ«ï¼š==</h5>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt; url-pattern &gt; / &lt;/ url-pattern &gt; </span><br><span class="line">  	ä¸ä¼šåŒ¹é…åˆ°.jspï¼Œ åªé’ˆå¯¹æˆ‘ä»¬ç¼–å†™çš„è¯·æ±‚ï¼›</span><br><span class="line">	å³ï¼š.jsp ä¸ä¼šè¿›å…¥springçš„ DispatcherServletç±» ã€‚</span><br><span class="line">&lt; url-pattern &gt; <span class="comment">/* &lt;/ url-pattern &gt; </span></span><br><span class="line"><span class="comment">    ä¼šåŒ¹é… *.jspï¼Œ</span></span><br><span class="line"><span class="comment">    ä¼šå‡ºç°è¿”å› jspè§†å›¾ æ—¶å†æ¬¡è¿›å…¥springçš„DispatcherServlet ç±»ï¼Œ</span></span><br><span class="line"><span class="comment">    å¯¼è‡´æ‰¾ä¸åˆ°å¯¹åº”çš„controlleræ‰€ä»¥æŠ¥404é”™ã€‚</span></span><br></pre></td></tr></table></figure>

<h4 id="ç¬¬äº”æ­¥-Spring-MVCé…ç½®æ–‡ä»¶"><a href="#ç¬¬äº”æ­¥-Spring-MVCé…ç½®æ–‡ä»¶" class="headerlink" title="ç¬¬äº”æ­¥:Spring MVCé…ç½®æ–‡ä»¶"></a>ç¬¬äº”æ­¥:Spring MVCé…ç½®æ–‡ä»¶</h4><ul>
<li>è®©IOCçš„æ³¨è§£ç”Ÿæ•ˆ</li>
<li>é™æ€èµ„æºè¿‡æ»¤ ï¼šHTML . JS . CSS . å›¾ç‰‡ ï¼Œ è§†é¢‘ â€¦..</li>
<li>MVCçš„æ³¨è§£é©±åŠ¨</li>
<li>é…ç½®è§†å›¾è§£æå™¨</li>
</ul>
<p>åœ¨resourceç›®å½•ä¸‹æ·»åŠ springmvc-servlet.xmlé…ç½®æ–‡ä»¶ï¼Œé…ç½®çš„å½¢å¼ä¸Springå®¹å™¨é…ç½®åŸºæœ¬ç±»ä¼¼ï¼Œä¸ºäº†æ”¯æŒåŸºäºæ³¨è§£çš„IOCï¼Œè®¾ç½®äº†è‡ªåŠ¨æ‰«æåŒ…çš„åŠŸèƒ½ï¼Œå…·ä½“é…ç½®ä¿¡æ¯å¦‚ä¸‹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- è‡ªåŠ¨æ‰«æåŒ…ï¼Œè®©æŒ‡å®šåŒ…ä¸‹çš„æ³¨è§£ç”Ÿæ•ˆ,ç”±IOCå®¹å™¨ç»Ÿä¸€ç®¡ç† --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.kuang.controller&quot;</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- è®©Spring MVCä¸å¤„ç†é™æ€èµ„æº --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mvc:default-servlet-handler</span> /&gt;</span></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">â‘  å¦‚æœåŠ ä¸Šï¼šå¯ä»¥ä½¿ç”¨æ–°ç‰ˆæœ¬3.2ï¼›ä¸åŠ ï¼šä½¿ç”¨2.6</span></span><br><span class="line"><span class="comment">â‘¡ æ”¯æŒmvcæ³¨è§£é©±åŠ¨</span></span><br><span class="line"><span class="comment">    åœ¨springä¸­ä¸€èˆ¬é‡‡ç”¨@RequestMappingæ³¨è§£æ¥å®Œæˆæ˜ å°„å…³ç³»</span></span><br><span class="line"><span class="comment">    è¦æƒ³ä½¿@RequestMappingæ³¨è§£ç”Ÿæ•ˆ</span></span><br><span class="line"><span class="comment">    å¿…é¡»å‘ä¸Šä¸‹æ–‡ä¸­æ³¨å†ŒDefaultAnnotationHandlerMapping</span></span><br><span class="line"><span class="comment">    å’Œä¸€ä¸ªAnnotationMethodHandlerAdapterå®ä¾‹</span></span><br><span class="line"><span class="comment">    è¿™ä¸¤ä¸ªå®ä¾‹åˆ†åˆ«åœ¨ç±»çº§åˆ«å’Œæ–¹æ³•çº§åˆ«å¤„ç†ã€‚</span></span><br><span class="line"><span class="comment">    è€Œannotation-drivené…ç½®å¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨å®Œæˆä¸Šè¿°ä¸¤ä¸ªå®ä¾‹çš„æ³¨å…¥ã€‚</span></span><br><span class="line"><span class="comment"> --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mvc:annotation-driven</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- è§†å›¾è§£æå™¨ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">id</span>=<span class="string">&quot;internalResourceViewResolver&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å‰ç¼€ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;prefix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;/WEB-INF/jsp/&quot;</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- åç¼€ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;suffix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;.jsp&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>åœ¨è§†å›¾è§£æå™¨ä¸­æˆ‘ä»¬æŠŠæ‰€æœ‰çš„è§†å›¾éƒ½å­˜æ”¾åœ¨/WEB-INF/ç›®å½•ä¸‹ï¼Œè¿™æ ·å¯ä»¥ä¿è¯è§†å›¾å®‰å…¨ï¼Œå› ä¸ºè¿™ä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œå®¢æˆ·ç«¯ä¸èƒ½ç›´æ¥è®¿é—®ã€‚</p>
<h5 id="mvc-annotation-drivençš„ä½œç”¨"><a href="#mvc-annotation-drivençš„ä½œç”¨" class="headerlink" title="==mvc:annotation-drivençš„ä½œç”¨=="></a>==mvc:annotation-drivençš„ä½œç”¨==</h5><p>==<strong>â‘  mvc:annotation-drivençš„ä½œç”¨</strong>== </p>
<ul>
<li>==Spring 3.0.x==ä¸­ä½¿ç”¨äº†mvc:annotation-drivenåï¼Œé»˜è®¤ä¼šå¸®æˆ‘ä»¬æ³¨å†Œé»˜è®¤å¤„ç†è¯·æ±‚ï¼Œå‚æ•°å’Œè¿”å›å€¼çš„ç±»ï¼Œ</li>
<li>å…¶ä¸­æœ€ä¸»è¦çš„ä¸¤ä¸ªç±»ï¼š<code>DefaultAnnotationHandlerMapping</code> å’Œ <code>AnnotationMethodHandlerAdapter</code> ï¼Œ<ul>
<li>åˆ†åˆ«ä¸º <code>HandlerMapping</code> çš„å®ç°ç±»å’Œ <code>HandlerAdapter</code> çš„å®ç°ç±»ã€‚</li>
</ul>
</li>
<li>ä»==3.1.x==ç‰ˆæœ¬å¼€å§‹å¯¹åº”å®ç°ç±»æ”¹ä¸ºäº†<code>RequestMappingHandlerMapping</code>å’Œ<code>RequestMappingHandlerAdapter</code>ã€‚</li>
</ul>
<p><strong>==â‘¡ HandlerMappingçš„å®ç°ç±»çš„ä½œç”¨==</strong> </p>
<ul>
<li>å®ç°ç±»<code>RequestMappingHandlerMapping</code>ï¼Œå®ƒä¼šå¤„ç†<code>@RequestMapping</code> æ³¨è§£ï¼Œå¹¶å°†å…¶==æ³¨å†Œ==åˆ°è¯·æ±‚æ˜ å°„è¡¨ä¸­ã€‚</li>
</ul>
<p>==<strong>â‘¢ HandlerAdapterçš„å®ç°ç±»çš„ä½œç”¨</strong>== </p>
<ul>
<li>å®ç°ç±»<code>RequestMappingHandlerAdapter</code>ï¼Œåˆ™æ˜¯==å¤„ç†==è¯·æ±‚çš„é€‚é…å™¨ï¼Œç¡®å®šè°ƒç”¨å“ªä¸ªç±»çš„å“ªä¸ªæ–¹æ³•ï¼Œå¹¶ä¸”æ„é€ æ–¹æ³•å‚æ•°ï¼Œè¿”å›å€¼ã€‚</li>
</ul>
<p>â­ å½“é…ç½®äº†<code>mvc:annotation-driven</code>åï¼ŒSpringå°±çŸ¥é“äº†æˆ‘ä»¬å¯ç”¨æ³¨è§£é©±åŠ¨ã€‚ç„¶åSpringé€šè¿‡<code>context:component-scan</code>æ ‡ç­¾çš„é…ç½®ï¼Œä¼šè‡ªåŠ¨ä¸ºæˆ‘ä»¬å°†æ‰«æåˆ°çš„<code>@Component</code>ï¼Œ<code>@Controller</code>ï¼Œ<code>@Service</code>ï¼Œ<code>@Repository</code>ç­‰æ³¨è§£æ ‡è®°çš„ç»„ä»¶æ³¨å†Œåˆ°å·¥å‚ä¸­ï¼Œæ¥å¤„ç†æˆ‘ä»¬çš„è¯·æ±‚ã€‚</p>
<p><strong>==â‘£ ä½¿ç”¨çš„åœºæ™¯ï¼š==</strong></p>
<ul>
<li>å¦‚æœåœ¨web.xmlä¸­servlet-mappingçš„url-patternè®¾ç½®çš„æ˜¯ ==<strong>/</strong>==ï¼Œè€Œä¸æ˜¯å¦‚.doã€‚è¡¨ç¤ºå°†æ‰€æœ‰çš„æ–‡ä»¶ï¼ŒåŒ…å«é™æ€èµ„æºæ–‡ä»¶éƒ½äº¤ç»™spring mvcå¤„ç†ï¼Œå°±éœ€è¦ç”¨åˆ°&lt;mvc:annotation-driven /&gt;äº†ã€‚</li>
<li>å¦‚æœä¸åŠ ï¼ŒDispatcherServletåˆ™==æ— æ³•åŒºåˆ†==<strong>è¯·æ±‚æ˜¯èµ„æºæ–‡ä»¶è¿˜æ˜¯mvcçš„æ³¨è§£</strong>ï¼Œè€Œå¯¼è‡´controllerçš„è¯·æ±‚æŠ¥404é”™è¯¯ã€‚</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>mvc-dispatcher<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="ç¬¬å…­æ­¥-Controller"><a href="#ç¬¬å…­æ­¥-Controller" class="headerlink" title="ç¬¬å…­æ­¥:Controller"></a>ç¬¬å…­æ­¥:Controller</h4><p>ç¼–å†™ä¸€ä¸ªJavaæ§åˆ¶ç±»ï¼š com.kuang.controller.HelloController , æ³¨æ„ç¼–ç è§„èŒƒ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.ui.Model;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="comment">//@RequestMappingå¿…é¡»æ·»åŠ ï¼Œå¯ä»¥ç›´æ¥æ·»åŠ @RequestMappingï¼ŒçœŸå®è®¿é—®åœ°å€ : é¡¹ç›®å/hello</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/HelloController&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//çœŸå®è®¿é—®åœ°å€ : é¡¹ç›®å/HelloController/hello</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/hello&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">sayHello</span><span class="params">(Model model)</span></span>&#123;</span><br><span class="line">        <span class="comment">//å‘æ¨¡å‹ä¸­æ·»åŠ å±æ€§msgä¸å€¼ï¼Œå¯ä»¥åœ¨JSPé¡µé¢ä¸­å–å‡ºå¹¶æ¸²æŸ“</span></span><br><span class="line">        model.addAttribute(<span class="string">&quot;msg&quot;</span>,<span class="string">&quot;hello,SpringMVC&quot;</span>);</span><br><span class="line">        <span class="comment">//web-inf/jsp/hello.jsp</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;hello&quot;</span>;<span class="comment">//ä¼šè¢«è§†å›¾è§£æå™¨å¤„ç†</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>@Controlleræ˜¯ä¸ºäº†è®©Spring IOCå®¹å™¨åˆå§‹åŒ–æ—¶è‡ªåŠ¨æ‰«æåˆ°ï¼›</li>
<li>@RequestMappingæ˜¯ä¸ºäº†æ˜ å°„è¯·æ±‚è·¯å¾„ï¼Œè¿™é‡Œå› ä¸ºç±»ä¸æ–¹æ³•ä¸Šéƒ½æœ‰æ˜ å°„æ‰€ä»¥è®¿é—®æ—¶åº”è¯¥æ˜¯/HelloController/helloï¼›</li>
<li>æ–¹æ³•ä¸­å£°æ˜Modelç±»å‹çš„å‚æ•°æ˜¯ä¸ºäº†æŠŠActionä¸­çš„æ•°æ®å¸¦åˆ°è§†å›¾ä¸­ï¼›</li>
<li>æ–¹æ³•è¿”å›çš„ç»“æœæ˜¯è§†å›¾çš„åç§°helloï¼ŒåŠ ä¸Šé…ç½®æ–‡ä»¶ä¸­çš„å‰åç¼€å˜æˆWEB-INF/jsp/<strong>hello</strong>.jspã€‚</li>
</ul>
<h4 id="ç¬¬ä¸ƒæ­¥-åˆ›å»ºè§†å›¾å±‚"><a href="#ç¬¬ä¸ƒæ­¥-åˆ›å»ºè§†å›¾å±‚" class="headerlink" title="ç¬¬ä¸ƒæ­¥:åˆ›å»ºè§†å›¾å±‚"></a>ç¬¬ä¸ƒæ­¥:åˆ›å»ºè§†å›¾å±‚</h4><p>åœ¨WEB-INF/ jspç›®å½•ä¸­åˆ›å»ºhello.jsp ï¼Œ è§†å›¾å¯ä»¥ç›´æ¥å–å‡ºå¹¶å±•ç¤ºä»Controllerå¸¦å›çš„ä¿¡æ¯ï¼›</p>
<p>å¯ä»¥é€šè¿‡ELè¡¨ç¤ºå–å‡ºModelä¸­å­˜æ”¾çš„å€¼ï¼Œæˆ–è€…å¯¹è±¡ï¼›</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;SpringMVC&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    $&#123;msg&#125;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p><strong>ç¬¬å…«æ­¥:é…ç½®Tomcatè¿è¡Œ</strong></p>
<p>é…ç½®Tomcat ï¼Œ  å¼€å¯æœåŠ¡å™¨ ï¼Œ è®¿é—® å¯¹åº”çš„è¯·æ±‚è·¯å¾„ï¼</p>
<p><img src="Spring.assets/3218576078.png" alt="1570170965997.png" loading="lazy"></p>
<p><strong>OKï¼Œè¿è¡ŒæˆåŠŸï¼</strong></p>
<h3 id="3-3-å°ç»“"><a href="#3-3-å°ç»“" class="headerlink" title="3.3  å°ç»“"></a>3.3  å°ç»“</h3><p>å®ç°æ­¥éª¤å…¶å®éå¸¸çš„ç®€å•ï¼š</p>
<ol>
<li>æ–°å»ºä¸€ä¸ªwebé¡¹ç›®</li>
<li>å¯¼å…¥ç›¸å…³jaråŒ…</li>
<li>ç¼–å†™web.xml , æ³¨å†ŒDispatcherServlet</li>
<li>ç¼–å†™springmvcé…ç½®æ–‡ä»¶</li>
<li>æ¥ä¸‹æ¥å°±æ˜¯å»åˆ›å»ºå¯¹åº”çš„æ§åˆ¶ç±» , controller</li>
<li>æœ€åå®Œå–„å‰ç«¯è§†å›¾å’Œcontrollerä¹‹é—´çš„å¯¹åº”</li>
<li>æµ‹è¯•è¿è¡Œè°ƒè¯•.</li>
</ol>
<p>ä½¿ç”¨springMVCå¿…é¡»é…ç½®çš„ä¸‰å¤§ä»¶ï¼š</p>
<p><strong>å¤„ç†å™¨æ˜ å°„å™¨ã€å¤„ç†å™¨é€‚é…å™¨ã€è§†å›¾è§£æå™¨</strong></p>
<p>é€šå¸¸ï¼Œæˆ‘ä»¬åªéœ€è¦<strong>æ‰‹åŠ¨é…ç½®è§†å›¾è§£æå™¨</strong>ï¼Œè€Œ<strong>å¤„ç†å™¨æ˜ å°„å™¨</strong>å’Œ<strong>å¤„ç†å™¨é€‚é…å™¨</strong>åªéœ€è¦å¼€å¯<strong>æ³¨è§£é©±åŠ¨</strong>å³å¯ï¼Œè€Œçœå»äº†å¤§æ®µçš„xmlé…ç½®</p>
<h2 id="4-Controller-åŠ-RestFulé£æ ¼"><a href="#4-Controller-åŠ-RestFulé£æ ¼" class="headerlink" title="4 Controller åŠ RestFulé£æ ¼"></a>4 Controller åŠ RestFulé£æ ¼</h2><h3 id="4-1-æ§åˆ¶å™¨Controller"><a href="#4-1-æ§åˆ¶å™¨Controller" class="headerlink" title="4.1  æ§åˆ¶å™¨Controller"></a>4.1  æ§åˆ¶å™¨Controller</h3><ul>
<li>æ§åˆ¶å™¨å¤æ‚æä¾›è®¿é—®åº”ç”¨ç¨‹åºçš„è¡Œä¸ºï¼Œé€šå¸¸é€šè¿‡æ¥å£å®šä¹‰æˆ–æ³¨è§£å®šä¹‰ä¸¤ç§æ–¹æ³•å®ç°ã€‚</li>
<li>æ§åˆ¶å™¨è´Ÿè´£è§£æç”¨æˆ·çš„è¯·æ±‚å¹¶å°†å…¶è½¬æ¢ä¸ºä¸€ä¸ªæ¨¡å‹ã€‚</li>
<li>åœ¨Spring MVCä¸­ä¸€ä¸ªæ§åˆ¶å™¨ç±»å¯ä»¥åŒ…å«å¤šä¸ªæ–¹æ³•</li>
<li>åœ¨Spring MVCä¸­ï¼Œå¯¹äºControllerçš„é…ç½®æ–¹å¼æœ‰å¾ˆå¤šç§</li>
</ul>
<p>æˆ‘ä»¬æ¥çœ‹çœ‹æœ‰å“ªäº›æ–¹å¼å¯ä»¥å®ç°ï¼š</p>
<h3 id="4-2-å®ç°Controlleræ¥å£"><a href="#4-2-å®ç°Controlleræ¥å£" class="headerlink" title="4.2  å®ç°Controlleræ¥å£"></a>4.2  å®ç°Controlleræ¥å£</h3><p>Controlleræ˜¯ä¸€ä¸ªæ¥å£ï¼Œåœ¨org.springframework.web.servlet.mvcåŒ…ä¸‹ï¼Œæ¥å£ä¸­åªæœ‰ä¸€ä¸ªæ–¹æ³•ï¼›</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å®ç°è¯¥æ¥å£çš„ç±»è·å¾—æ§åˆ¶å™¨åŠŸèƒ½</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Controller</span> </span>&#123;</span><br><span class="line">    <span class="comment">//å¤„ç†è¯·æ±‚ä¸”è¿”å›ä¸€ä¸ªæ¨¡å‹ä¸è§†å›¾å¯¹è±¡</span></span><br><span class="line">    <span class="function">ModelAndView <span class="title">handleRequest</span><span class="params">(HttpServletRequest var1, HttpServletResponse var2)</span> <span class="keyword">throws</span> Exception</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æµ‹è¯•</strong></p>
<ol>
<li><p>æ–°å»ºä¸€ä¸ªMoudleï¼Œspringmvc-04-controller ã€‚ å°†åˆšæ‰çš„03 æ‹·è´ä¸€ä»½, æˆ‘ä»¬è¿›è¡Œæ“ä½œï¼</p>
<ul>
<li>åˆ æ‰HelloController</li>
<li><strong>mvcçš„é…ç½®æ–‡ä»¶åªç•™ä¸‹ è§†å›¾è§£æå™¨</strong> ï¼ˆå¤„ç†å™¨æ˜ å°„å™¨å’Œå¤„ç†å™¨é€‚é…å™¨ä¹Ÿè¦åˆ æ‰ï¼Œä¹Ÿå¯ä»¥è¿è¡ŒæˆåŠŸï¼Œå†™è¿™åªæ˜¯ä¸ºäº†ç†è§£åŸç†ï¼‰ï¼</li>
</ul>
</li>
<li><p>ç¼–å†™ä¸€ä¸ªControllerç±»ï¼ŒControllerTest1</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å®šä¹‰æ§åˆ¶å™¨</span></span><br><span class="line"><span class="comment">//æ³¨æ„ç‚¹ï¼šä¸è¦å¯¼é”™åŒ…ï¼Œå®ç°Controlleræ¥å£ï¼Œé‡å†™æ–¹æ³•ï¼›</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ControllerTest1</span> <span class="keyword">implements</span> <span class="title">Controller</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ModelAndView <span class="title">handleRequest</span><span class="params">(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//è¿”å›ä¸€ä¸ªæ¨¡å‹è§†å›¾å¯¹è±¡</span></span><br><span class="line">        ModelAndView mv = <span class="keyword">new</span> ModelAndView();</span><br><span class="line">        mv.addObject(<span class="string">&quot;msg&quot;</span>,<span class="string">&quot;Test1Controller&quot;</span>);</span><br><span class="line">        mv.setViewName(<span class="string">&quot;test&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> mv;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>ç¼–å†™å®Œæ¯•åï¼Œå»Springé…ç½®æ–‡ä»¶ä¸­æ³¨å†Œè¯·æ±‚çš„beanï¼›nameå¯¹åº”è¯·æ±‚è·¯å¾„ï¼Œclasså¯¹åº”å¤„ç†è¯·æ±‚çš„ç±»</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">&quot;/t1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.kuang.controller.ControllerTest1&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>ç¼–å†™å‰ç«¯test.jspï¼Œæ³¨æ„åœ¨WEB-INF/jspç›®å½•ä¸‹ç¼–å†™ï¼Œå¯¹åº”æˆ‘ä»¬çš„è§†å›¾è§£æå™¨</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Kuangshen&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    $&#123;msg&#125;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>é…ç½®Tomcatè¿è¡Œæµ‹è¯•ï¼Œæˆ‘è¿™é‡Œæ²¡æœ‰é¡¹ç›®å‘å¸ƒåé…ç½®çš„å°±æ˜¯ä¸€ä¸ª / ï¼Œæ‰€ä»¥è¯·æ±‚ä¸ç”¨åŠ é¡¹ç›®åï¼ŒOKï¼</p>
</li>
</ol>
<p><img src="Spring.assets/3683953371.png" alt="1570171976131.png" loading="lazy"></p>
<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li>å®ç°æ¥å£Controllerå®šä¹‰æ§åˆ¶å™¨æ˜¯è¾ƒè€çš„åŠæ³•</li>
<li>ç¼ºç‚¹æ˜¯ï¼šä¸€ä¸ªæ§åˆ¶å™¨ä¸­åªæœ‰ä¸€ä¸ªæ–¹æ³•ï¼Œå¦‚æœè¦å¤šä¸ªæ–¹æ³•åˆ™éœ€è¦å®šä¹‰å¤šä¸ªControllerï¼›å®šä¹‰çš„æ–¹å¼æ¯”è¾ƒéº»çƒ¦ï¼›</li>
</ul>
<h3 id="4-3-ä½¿ç”¨æ³¨è§£-Controller"><a href="#4-3-ä½¿ç”¨æ³¨è§£-Controller" class="headerlink" title="4.3  ä½¿ç”¨æ³¨è§£@Controller"></a>4.3  ä½¿ç”¨æ³¨è§£@Controller</h3><ul>
<li><p>@Controlleræ³¨è§£ç±»å‹ç”¨äºå£°æ˜Springç±»çš„å®ä¾‹æ˜¯ä¸€ä¸ªæ§åˆ¶å™¨ï¼ˆåœ¨è®²IOCæ—¶è¿˜æåˆ°äº†å¦å¤–3ä¸ªæ³¨è§£ï¼‰ï¼›</p>
</li>
<li><p>Springå¯ä»¥ä½¿ç”¨æ‰«ææœºåˆ¶æ¥æ‰¾åˆ°åº”ç”¨ç¨‹åºä¸­æ‰€æœ‰åŸºäºæ³¨è§£çš„æ§åˆ¶å™¨ç±»ï¼Œä¸ºäº†ä¿è¯Springèƒ½æ‰¾åˆ°ä½ çš„æ§åˆ¶å™¨ï¼Œéœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­å£°æ˜ç»„ä»¶æ‰«æã€‚</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- è‡ªåŠ¨æ‰«ææŒ‡å®šçš„åŒ…ï¼Œä¸‹é¢æ‰€æœ‰æ³¨è§£ç±»äº¤ç»™IOCå®¹å™¨ç®¡ç† --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.kuang.controller&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>å¢åŠ ä¸€ä¸ªControllerTest2ç±»ï¼Œä½¿ç”¨æ³¨è§£å®ç°ï¼›</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//@Controlleræ³¨è§£çš„ç±»ä¼šè‡ªåŠ¨æ·»åŠ åˆ°Springä¸Šä¸‹æ–‡ä¸­ï¼Œè¢«springæ¥ç®¡</span></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ControllerTest2</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ˜ å°„è®¿é—®è·¯å¾„</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/t2&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">index</span><span class="params">(Model model)</span></span>&#123;</span><br><span class="line">        <span class="comment">//Spring MVCä¼šè‡ªåŠ¨å®ä¾‹åŒ–ä¸€ä¸ªModelå¯¹è±¡ç”¨äºå‘è§†å›¾ä¸­ä¼ å€¼</span></span><br><span class="line">        model.addAttribute(<span class="string">&quot;msg&quot;</span>, <span class="string">&quot;ControllerTest2&quot;</span>);</span><br><span class="line">        <span class="comment">//è¿”å›è§†å›¾ä½ç½®</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;test&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">	</span><br><span class="line">     <span class="meta">@RequestMapping(&quot;/t3&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">index2</span><span class="params">(Model model)</span></span>&#123;</span><br><span class="line">        model.addAttribute(<span class="string">&quot;msg&quot;</span>, <span class="string">&quot;index2&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;test&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>è¿è¡Œtomcatæµ‹è¯•</p>
</li>
</ul>
<p><img src="Spring.assets/197127560.png" alt="1570172260527.png" loading="lazy"></p>
<p><strong>å¯ä»¥å‘ç°ï¼Œæˆ‘ä»¬çš„ä¸¤ä¸ªè¯·æ±‚éƒ½å¯ä»¥æŒ‡å‘ä¸€ä¸ªè§†å›¾ï¼Œä½†æ˜¯é¡µé¢ç»“æœçš„ç»“æœæ˜¯ä¸ä¸€æ ·çš„ï¼Œä»è¿™é‡Œå¯ä»¥çœ‹å‡ºè§†å›¾æ˜¯è¢«å¤ç”¨çš„ï¼Œè€Œæ§åˆ¶å™¨ä¸è§†å›¾ä¹‹é—´æ˜¯å¼±å¶åˆå…³ç³»ã€‚</strong></p>
<p>æ³¨è§£æ–¹å¼æ˜¯å¹³æ—¶ä½¿ç”¨çš„æœ€å¤šçš„æ–¹å¼ï¼é™¤äº†è¿™ä¸¤ç§ä¹‹å¤–è¿˜æœ‰å…¶ä»–çš„æ–¹å¼ï¼Œå¤§å®¶æƒ³è¦è‡ªå·±ç ”ç©¶çš„è¯ï¼Œå¯ä»¥å‚è€ƒæˆ‘çš„åšå®¢ï¼š<a target="_blank" rel="noopener" href="https://www.cnblogs.com/hellokuangshen/p/11270742.html">https://www.cnblogs.com/hellokuangshen/p/11270742.html</a></p>
<h3 id="4-4-RequestMapping"><a href="#4-4-RequestMapping" class="headerlink" title="4.4  RequestMapping"></a>4.4  <a target="_blank" rel="noopener" href="https://www.cnblogs.com/kuoAT/p/7121753.html">RequestMapping</a></h3><ul>
<li><p>@RequestMapping æ³¨è§£ç”¨äºæ˜ å°„urlåˆ°æ§åˆ¶å™¨ç±»æˆ–ä¸€ä¸ªç‰¹å®šçš„å¤„ç†ç¨‹åºæ–¹æ³•ã€‚å¯ç”¨äºç±»æˆ–æ–¹æ³•ä¸Šã€‚ç”¨äºç±»ä¸Šï¼Œè¡¨ç¤ºç±»ä¸­çš„æ‰€æœ‰å“åº”è¯·æ±‚çš„æ–¹æ³•éƒ½æ˜¯ä»¥è¯¥åœ°å€ä½œä¸ºçˆ¶è·¯å¾„ã€‚</p>
<ol>
<li><p>==<strong>value</strong>==ï¼š   æŒ‡å®šè¯·æ±‚çš„==å®é™…åœ°å€==ï¼ŒæŒ‡å®šçš„åœ°å€å¯ä»¥æ˜¯URI Template æ¨¡å¼ï¼›</p>
</li>
<li><p>==<strong>method</strong>==ï¼š æŒ‡å®šè¯·æ±‚çš„==methodç±»å‹==ï¼Œ GETã€POSTã€PUTã€DELETEç­‰ï¼›ã€4.5   4ã€‘</p>
</li>
<li><p>==consumes==ï¼š æŒ‡å®šå¤„ç†è¯·æ±‚çš„==æäº¤å†…å®¹ç±»å‹==ï¼ˆContent-Typeï¼‰ï¼Œä¾‹å¦‚application/json, text/html;</p>
</li>
<li><p>==produces==:  æŒ‡å®š==è¿”å›çš„å†…å®¹ç±»å‹==ï¼Œä»…å½“requestè¯·æ±‚å¤´ä¸­çš„(Accept)ç±»å‹ä¸­åŒ…å«è¯¥æŒ‡å®šç±»å‹æ‰è¿”å›ï¼›</p>
</li>
<li><p>==params==ï¼š æŒ‡å®šrequestä¸­å¿…é¡»åŒ…å«==æŸäº›å‚æ•°å€¼==ï¼Œæ‰è®©è¯¥æ–¹æ³•å¤„ç†ã€‚</p>
</li>
<li><p>==headers==ï¼š æŒ‡å®šrequestä¸­å¿…é¡»åŒ…å«æŸäº›æŒ‡å®šçš„headerå€¼ï¼Œæ‰èƒ½è®©è¯¥æ–¹æ³•å¤„ç†è¯·æ±‚ã€‚</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyControl</span> </span>&#123;</span><br><span class="line">	<span class="meta">@RequestMapping(value=&#123;&quot;/aa&quot;,&quot;/cc&quot;&#125;,method=RequestMethod.GET,</span></span><br><span class="line"><span class="meta">                    params=&#123;&quot;id&quot;,&quot;age=10&quot;&#125;,</span></span><br><span class="line"><span class="meta">                    headers=&#123;&quot;Accept-Language: zh-CN,zh;q=0.9&quot;&#125;)</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getDate</span><span class="params">(Model m)</span></span>&#123;</span><br><span class="line">		m.addAttribute(<span class="string">&quot;msg&quot;</span>, <span class="string">&quot;æäº¤æˆåŠŸ&quot;</span>);</span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;ok&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;/MyTest/aa&quot;</span> <span class="attr">method</span>=<span class="string">&quot;get&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- params=&#123;&quot;id&quot;,&quot;age=10&quot;&#125;--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;id&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span>&gt;</span><span class="comment">&lt;!--å€¼å¿…é¡»ä¸º10--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;detail&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æäº¤&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<hr>
</li>
<li><p>ä¸ºäº†æµ‹è¯•ç»“è®ºæ›´åŠ å‡†ç¡®ï¼Œæˆ‘ä»¬å¯ä»¥åŠ ä¸Šä¸€ä¸ªé¡¹ç›®åæµ‹è¯• myweb</p>
</li>
<li><p>åªæ³¨è§£åœ¨æ–¹æ³•ä¸Šé¢</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/h1&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;test&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è®¿é—®è·¯å¾„ï¼š<a target="_blank" rel="noopener" href="http://localhost:8080/">http://localhost:8080</a> / é¡¹ç›®å / h1</p>
</li>
<li><p>åŒæ—¶æ³¨è§£ç±»ä¸æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/admin&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/h1&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;test&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è®¿é—®è·¯å¾„ï¼š<a target="_blank" rel="noopener" href="http://localhost:8080/">http://localhost:8080</a> / é¡¹ç›®å/ admin /h1  , éœ€è¦å…ˆæŒ‡å®šç±»çš„è·¯å¾„å†æŒ‡å®šæ–¹æ³•çš„è·¯å¾„ï¼›</p>
</li>
</ul>
<h3 id="4-5-RestFul-é£æ ¼-ã€6-1-3ã€‘"><a href="#4-5-RestFul-é£æ ¼-ã€6-1-3ã€‘" class="headerlink" title="4.5  RestFul é£æ ¼ ã€6.1 3ã€‘"></a>4.5  RestFul é£æ ¼ ã€6.1 3ã€‘</h3><h4 id="1ã€æ¦‚å¿µ"><a href="#1ã€æ¦‚å¿µ" class="headerlink" title="1ã€æ¦‚å¿µ"></a>1ã€æ¦‚å¿µ</h4><p>Restfulå°±æ˜¯ä¸€ä¸ªèµ„æºå®šä½åŠèµ„æºæ“ä½œçš„é£æ ¼ã€‚ä¸æ˜¯æ ‡å‡†ä¹Ÿä¸æ˜¯åè®®ï¼Œåªæ˜¯ä¸€ç§é£æ ¼ã€‚åŸºäºè¿™ä¸ªé£æ ¼è®¾è®¡çš„è½¯ä»¶å¯ä»¥æ›´ç®€æ´ï¼Œæ›´æœ‰å±‚æ¬¡ï¼Œæ›´æ˜“äºå®ç°ç¼“å­˜ç­‰æœºåˆ¶ã€‚</p>
<h4 id="2ã€åŠŸèƒ½"><a href="#2ã€åŠŸèƒ½" class="headerlink" title="2ã€åŠŸèƒ½"></a>2ã€åŠŸèƒ½</h4><ul>
<li>èµ„æºï¼šäº’è”ç½‘æ‰€æœ‰çš„äº‹ç‰©éƒ½å¯ä»¥è¢«æŠ½è±¡ä¸ºèµ„æº</li>
<li>èµ„æºæ“ä½œï¼šä½¿ç”¨POSTã€DELETEã€PUTã€GETï¼Œä½¿ç”¨ä¸åŒæ–¹æ³•å¯¹èµ„æºè¿›è¡Œæ“ä½œã€‚</li>
<li>åˆ†åˆ«å¯¹åº” æ·»åŠ ã€ åˆ é™¤ã€ä¿®æ”¹ã€æŸ¥è¯¢ã€‚</li>
</ul>
<p><strong>ä¼ ç»Ÿæ–¹å¼æ“ä½œèµ„æº</strong>  ï¼šé€šè¿‡ä¸åŒçš„å‚æ•°æ¥å®ç°ä¸åŒçš„æ•ˆæœï¼æ–¹æ³•å•ä¸€ï¼Œpost å’Œ get</p>
<ul>
<li><a target="_blank" rel="noopener" href="http://127.0.0.1/item/queryItem.action?id=1">http://127.0.0.1/item/queryItem.action?id=1</a> æŸ¥è¯¢,GET</li>
<li><a target="_blank" rel="noopener" href="http://127.0.0.1/item/saveItem.action">http://127.0.0.1/item/saveItem.action</a> æ–°å¢,POST</li>
<li><a target="_blank" rel="noopener" href="http://127.0.0.1/item/updateItem.action">http://127.0.0.1/item/updateItem.action</a> æ›´æ–°,POST</li>
<li><a target="_blank" rel="noopener" href="http://127.0.0.1/item/deleteItem.action?id=1">http://127.0.0.1/item/deleteItem.action?id=1</a> åˆ é™¤,GETæˆ–POST</li>
</ul>
<p><strong>ä½¿ç”¨RESTfulæ“ä½œèµ„æº</strong> ï¼š å¯ä»¥é€šè¿‡ä¸åŒçš„è¯·æ±‚æ–¹å¼æ¥å®ç°ä¸åŒçš„æ•ˆæœï¼å¦‚ä¸‹ï¼šè¯·æ±‚åœ°å€ä¸€æ ·ï¼Œä½†æ˜¯åŠŸèƒ½å¯ä»¥ä¸åŒï¼</p>
<ul>
<li><a target="_blank" rel="noopener" href="http://127.0.0.1/item/1">http://127.0.0.1/item/1</a> æŸ¥è¯¢,GET</li>
<li><a target="_blank" rel="noopener" href="http://127.0.0.1/item">http://127.0.0.1/item</a> æ–°å¢,POST</li>
<li><a target="_blank" rel="noopener" href="http://127.0.0.1/item">http://127.0.0.1/item</a> æ›´æ–°,PUT</li>
<li><a target="_blank" rel="noopener" href="http://127.0.0.1/item/1">http://127.0.0.1/item/1</a> åˆ é™¤,DELETE</li>
</ul>
<h4 id="3ã€æ¡ˆä¾‹"><a href="#3ã€æ¡ˆä¾‹" class="headerlink" title="3ã€æ¡ˆä¾‹"></a>3ã€æ¡ˆä¾‹</h4><ol>
<li><p>åœ¨æ–°å»ºä¸€ä¸ªç±» RestFulController</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RestFulController</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>åœ¨Spring MVCä¸­å¯ä»¥ä½¿ç”¨  @PathVariable æ³¨è§£ï¼Œè®©æ–¹æ³•å‚æ•°çš„å€¼å¯¹åº”ç»‘å®šåˆ°ä¸€ä¸ªURIæ¨¡æ¿å˜é‡ä¸Šã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RestFulController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ˜ å°„è®¿é—®è·¯å¾„</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/commit/&#123;p1&#125;/&#123;p2&#125;&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">index</span><span class="params">(<span class="meta">@PathVariable</span> <span class="keyword">int</span> p1, <span class="meta">@PathVariable</span> <span class="keyword">int</span> p2, Model model)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> result = p1+p2;</span><br><span class="line">        <span class="comment">//Spring MVCä¼šè‡ªåŠ¨å®ä¾‹åŒ–ä¸€ä¸ªModelå¯¹è±¡ç”¨äºå‘è§†å›¾ä¸­ä¼ å€¼</span></span><br><span class="line">        model.addAttribute(<span class="string">&quot;msg&quot;</span>, <span class="string">&quot;ç»“æœï¼š&quot;</span>+result);</span><br><span class="line">        <span class="comment">//è¿”å›è§†å›¾ä½ç½®</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;test&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>æˆ‘ä»¬æ¥æµ‹è¯•è¯·æ±‚æŸ¥çœ‹ä¸‹<br><img src="Spring.assets/3098353110.png" alt="1570172985792.png" loading="lazy"></p>
</li>
</ol>
<h5 id="æ€è€ƒï¼šä½¿ç”¨è·¯å¾„å˜é‡çš„å¥½å¤„ï¼Ÿ"><a href="#æ€è€ƒï¼šä½¿ç”¨è·¯å¾„å˜é‡çš„å¥½å¤„ï¼Ÿ" class="headerlink" title="æ€è€ƒï¼šä½¿ç”¨è·¯å¾„å˜é‡çš„å¥½å¤„ï¼Ÿ"></a>æ€è€ƒï¼šä½¿ç”¨è·¯å¾„å˜é‡çš„å¥½å¤„ï¼Ÿ</h5><ul>
<li>ä½¿è·¯å¾„å˜å¾—æ›´åŠ ç®€æ´ï¼›</li>
<li>è·å¾—å‚æ•°æ›´åŠ æ–¹ä¾¿ï¼Œæ¡†æ¶ä¼šè‡ªåŠ¨è¿›è¡Œç±»å‹è½¬æ¢ã€‚</li>
<li>é€šè¿‡è·¯å¾„å˜é‡çš„ç±»å‹å¯ä»¥çº¦æŸè®¿é—®å‚æ•°ï¼Œå¦‚æœç±»å‹ä¸ä¸€æ ·ï¼Œåˆ™è®¿é—®ä¸åˆ°å¯¹åº”çš„è¯·æ±‚æ–¹æ³•ï¼Œå¦‚è¿™é‡Œè®¿é—®æ˜¯çš„è·¯å¾„æ˜¯/commit/1/aï¼Œåˆ™è·¯å¾„ä¸æ–¹æ³•ä¸åŒ¹é…ï¼Œè€Œä¸ä¼šæ˜¯å‚æ•°è½¬æ¢å¤±è´¥ã€‚</li>
</ul>
<p>   <img src="Spring.assets/3493099675.png" alt="1570173040458.png" loading="lazy"></p>
<ol start="4">
<li><p>æˆ‘ä»¬æ¥ä¿®æ”¹ä¸‹å¯¹åº”çš„å‚æ•°ç±»å‹ï¼Œå†æ¬¡æµ‹è¯•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ˜ å°„è®¿é—®è·¯å¾„</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/commit/&#123;p1&#125;/&#123;p2&#125;&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">index</span><span class="params">(<span class="meta">@PathVariable</span> <span class="keyword">int</span> p1, <span class="meta">@PathVariable</span> String p2, Model model)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    String result = p1+p2;</span><br><span class="line">    <span class="comment">//Spring MVCä¼šè‡ªåŠ¨å®ä¾‹åŒ–ä¸€ä¸ªModelå¯¹è±¡ç”¨äºå‘è§†å›¾ä¸­ä¼ å€¼</span></span><br><span class="line">    model.addAttribute(<span class="string">&quot;msg&quot;</span>, <span class="string">&quot;ç»“æœï¼š&quot;</span>+result);</span><br><span class="line">    <span class="comment">//è¿”å›è§†å›¾ä½ç½®</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;test&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<p><img src="Spring.assets/1066323228.png" alt="1570173149326.png" loading="lazy"></p>
<h4 id="4ã€ä½¿ç”¨methodå±æ€§æŒ‡å®šè¯·æ±‚ç±»å‹"><a href="#4ã€ä½¿ç”¨methodå±æ€§æŒ‡å®šè¯·æ±‚ç±»å‹" class="headerlink" title="4ã€ä½¿ç”¨methodå±æ€§æŒ‡å®šè¯·æ±‚ç±»å‹"></a>4ã€ä½¿ç”¨methodå±æ€§æŒ‡å®šè¯·æ±‚ç±»å‹</h4><p>ç”¨äºçº¦æŸè¯·æ±‚çš„ç±»å‹ï¼Œå¯ä»¥æ”¶çª„è¯·æ±‚èŒƒå›´ã€‚æŒ‡å®šè¯·æ±‚è°“è¯çš„ç±»å‹å¦‚GET, POST, HEAD, OPTIONS, PUT, PATCH, DELETE, TRACEç­‰</p>
<p>æˆ‘ä»¬æ¥æµ‹è¯•ä¸€ä¸‹ï¼š</p>
<ul>
<li><p>å¢åŠ ä¸€ä¸ªæ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ˜ å°„è®¿é—®è·¯å¾„,å¿…é¡»æ˜¯POSTè¯·æ±‚</span></span><br><span class="line"><span class="meta">@RequestMapping(value = &quot;/hello&quot;,method = &#123;RequestMethod.POST&#125;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">index2</span><span class="params">(Model model)</span></span>&#123;</span><br><span class="line">    model.addAttribute(<span class="string">&quot;msg&quot;</span>, <span class="string">&quot;hello!&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;test&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>æˆ‘ä»¬ä½¿ç”¨æµè§ˆå™¨åœ°å€æ è¿›è¡Œè®¿é—®é»˜è®¤æ˜¯Getè¯·æ±‚ï¼Œä¼šæŠ¥é”™405ï¼š<br><img src="Spring.assets/3397077617.png" alt="1570173341179.png" loading="lazy"></p>
</li>
<li><p>å¦‚æœå°†POSTä¿®æ”¹ä¸ºGETåˆ™æ­£å¸¸äº†ï¼›</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ˜ å°„è®¿é—®è·¯å¾„,å¿…é¡»æ˜¯Getè¯·æ±‚</span></span><br><span class="line"><span class="meta">@RequestMapping(value = &quot;/hello&quot;,method = &#123;RequestMethod.GET&#125;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">index2</span><span class="params">(Model model)</span></span>&#123;</span><br><span class="line">    model.addAttribute(<span class="string">&quot;msg&quot;</span>, <span class="string">&quot;hello!&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;test&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="Spring.assets/861763620.png" alt="1570173388674.png" loading="lazy"></p>
</li>
</ul>
<p><strong>å°ç»“ï¼š</strong></p>
<p>Spring MVC çš„ @RequestMapping æ³¨è§£èƒ½å¤Ÿå¤„ç† HTTP è¯·æ±‚çš„æ–¹æ³•, æ¯”å¦‚ GET, PUT, POST, DELETE ä»¥åŠ PATCHã€‚</p>
<p><strong>==æ‰€æœ‰çš„åœ°å€æ è¯·æ±‚é»˜è®¤éƒ½ä¼šæ˜¯ HTTP GET ç±»å‹çš„ã€‚==</strong></p>
<h4 id="5ã€-RequestMapping-çš„æ³¨è§£å˜ä½“"><a href="#5ã€-RequestMapping-çš„æ³¨è§£å˜ä½“" class="headerlink" title="5ã€@RequestMapping çš„æ³¨è§£å˜ä½“"></a>5ã€@RequestMapping çš„æ³¨è§£å˜ä½“</h4><p>æ–¹æ³•çº§åˆ«çš„æ³¨è§£å˜ä½“æœ‰å¦‚ä¸‹å‡ ä¸ªï¼š ç»„åˆæ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping</span></span><br><span class="line"><span class="meta">@PostMapping</span></span><br><span class="line"><span class="meta">@PutMapping</span></span><br><span class="line"><span class="meta">@DeleteMapping</span></span><br><span class="line"><span class="meta">@PatchMapping</span></span><br></pre></td></tr></table></figure>

<p>@GetMapping æ˜¯ä¸€ä¸ªç»„åˆæ³¨è§£</p>
<p>å®ƒæ‰€æ‰®æ¼”çš„æ˜¯ @RequestMapping(method =RequestMethod.GET) çš„ä¸€ä¸ªå¿«æ·æ–¹å¼ã€‚ </p>
<p>å¹³æ—¶ä½¿ç”¨çš„ä¼šæ¯”è¾ƒå¤šï¼</p>
<h3 id="4-6-å°é»„é¸­è°ƒè¯•æ³•"><a href="#4-6-å°é»„é¸­è°ƒè¯•æ³•" class="headerlink" title="4.6  å°é»„é¸­è°ƒè¯•æ³•"></a>4.6  å°é»„é¸­è°ƒè¯•æ³•</h3><p>åœºæ™¯ä¸€ï¼š<em>æˆ‘ä»¬éƒ½æœ‰è¿‡å‘åˆ«äººï¼ˆç”šè‡³å¯èƒ½å‘å®Œå…¨ä¸ä¼šç¼–ç¨‹çš„äººï¼‰æé—®åŠè§£é‡Šç¼–ç¨‹é—®é¢˜çš„ç»å†ï¼Œä½†æ˜¯å¾ˆå¤šæ—¶å€™å°±åœ¨æˆ‘ä»¬è§£é‡Šçš„è¿‡ç¨‹ä¸­è‡ªå·±å´æƒ³åˆ°äº†é—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼Œç„¶åå¯¹æ–¹å´ä¸€è„¸èŒ«ç„¶ã€‚</em></p>
<p>åœºæ™¯äºŒï¼šä½ çš„åŒè¡Œè·‘æ¥é—®ä½ ä¸€ä¸ªé—®é¢˜ï¼Œä½†æ˜¯å½“ä»–è‡ªå·±æŠŠé—®é¢˜è¯´å®Œï¼Œæˆ–è¯´åˆ°ä¸€åŠçš„æ—¶å€™å°±æƒ³å‡ºç­”æ¡ˆèµ°äº†ï¼Œç•™ä¸‹ä¸€è„¸èŒ«ç„¶çš„ä½ ã€‚</p>
<p>å…¶å®ä¸Šé¢ä¸¤ç§åœºæ™¯ç°è±¡å°±æ˜¯æ‰€è°“çš„å°é»„é¸­è°ƒè¯•æ³•ï¼ˆRubber Duck Debugingï¼‰ï¼Œåˆç§°æ©¡çš®é¸­è°ƒè¯•æ³•ï¼Œå®ƒæ˜¯æˆ‘ä»¬è½¯ä»¶å·¥ç¨‹ä¸­æœ€å¸¸ä½¿ç”¨è°ƒè¯•æ–¹æ³•ä¹‹ä¸€ã€‚</p>
<p><img src="Spring.assets/789741024.png" alt="1570173535995.png" loading="lazy"></p>
<p>æ­¤æ¦‚å¿µæ®è¯´æ¥è‡ªã€Šç¨‹åºå‘˜ä¿®ç‚¼ä¹‹é“ã€‹ä¹¦ä¸­çš„ä¸€ä¸ªæ•…äº‹ï¼Œä¼ è¯´ç¨‹åºå¤§å¸ˆéšèº«æºå¸¦ä¸€åªå°é»„é¸­ï¼Œåœ¨è°ƒè¯•ä»£ç çš„æ—¶å€™ä¼šåœ¨æ¡Œä¸Šæ”¾ä¸Šè¿™åªå°é»„é¸­ï¼Œç„¶åè¯¦ç»†åœ°å‘é¸­å­è§£é‡Šæ¯è¡Œä»£ç ï¼Œç„¶åå¾ˆå¿«å°±å°†é—®é¢˜å®šä½ä¿®å¤äº†ã€‚</p>
<h2 id="5-ç»“æœè·³è½¬æ–¹å¼"><a href="#5-ç»“æœè·³è½¬æ–¹å¼" class="headerlink" title="5 ç»“æœè·³è½¬æ–¹å¼"></a>5 ç»“æœè·³è½¬æ–¹å¼</h2><h3 id="5-1-ModelAndView"><a href="#5-1-ModelAndView" class="headerlink" title="5.1  ModelAndView"></a>5.1  ModelAndView</h3><p>è®¾ç½®ModelAndViewå¯¹è±¡ , æ ¹æ®viewçš„åç§° , å’Œè§†å›¾è§£æå™¨è·³åˆ°æŒ‡å®šçš„é¡µé¢ .</p>
<p>é¡µé¢ : {è§†å›¾è§£æå™¨å‰ç¼€} + viewName +{è§†å›¾è§£æå™¨åç¼€}</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- è§†å›¾è§£æå™¨ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">id</span>=<span class="string">&quot;internalResourceViewResolver&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å‰ç¼€ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;prefix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;/WEB-INF/jsp/&quot;</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- åç¼€ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;suffix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;.jsp&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å¯¹åº”çš„controllerç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ControllerTest1</span> <span class="keyword">implements</span> <span class="title">Controller</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ModelAndView <span class="title">handleRequest</span><span class="params">(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//è¿”å›ä¸€ä¸ªæ¨¡å‹è§†å›¾å¯¹è±¡</span></span><br><span class="line">        ModelAndView mv = <span class="keyword">new</span> ModelAndView();</span><br><span class="line">        mv.addObject(<span class="string">&quot;msg&quot;</span>,<span class="string">&quot;ControllerTest1&quot;</span>);</span><br><span class="line">        mv.setViewName(<span class="string">&quot;test&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> mv;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-2-ServletAPI"><a href="#5-2-ServletAPI" class="headerlink" title="5.2  ServletAPI"></a>5.2  ServletAPI</h3><p>é€šè¿‡è®¾ç½®ServletAPI , ==ä¸éœ€è¦è§†å›¾è§£æå™¨== .</p>
<ol>
<li>é€šè¿‡HttpServletResponseè¿›è¡Œè¾“å‡º</li>
<li>é€šè¿‡HttpServletResponseå®ç°é‡å®šå‘</li>
<li>é€šè¿‡HttpServletResponseå®ç°è½¬å‘</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ResultGo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/result/t1&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">(HttpServletRequest req, HttpServletResponse rsp)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        rsp.getWriter().println(<span class="string">&quot;Hello,Spring BY servlet API&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/result/t2&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">(HttpServletRequest req, HttpServletResponse rsp)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        rsp.sendRedirect(<span class="string">&quot;/index.jsp&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/result/t3&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test3</span><span class="params">(HttpServletRequest req, HttpServletResponse rsp)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//è½¬å‘</span></span><br><span class="line">        req.setAttribute(<span class="string">&quot;msg&quot;</span>,<span class="string">&quot;/result/t3&quot;</span>);</span><br><span class="line">        req.getRequestDispatcher(<span class="string">&quot;/WEB-INF/jsp/test.jsp&quot;</span>).forward(req,rsp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-3-è½¬å‘å’Œé‡å®šå‘"><a href="#5-3-è½¬å‘å’Œé‡å®šå‘" class="headerlink" title="5.3  è½¬å‘å’Œé‡å®šå‘"></a>5.3  è½¬å‘å’Œé‡å®šå‘</h3><p><strong>é€šè¿‡SpringMVCæ¥å®ç°è½¬å‘å’Œé‡å®šå‘ - ==æ— éœ€è§†å›¾è§£æå™¨==ï¼›</strong></p>
<p>æµ‹è¯•å‰ï¼Œéœ€è¦å°†è§†å›¾è§£æå™¨æ³¨é‡Šæ‰</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ResultSpringMVC</span> </span>&#123;</span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/rsm/t1&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">test1</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//è½¬å‘</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;/index.jsp&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/rsm/t2&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">test2</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//è½¬å‘äºŒ</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;forward:/index.jsp&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/rsm/t3&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">test3</span><span class="params">(Model m)</span></span>&#123;</span><br><span class="line">        m.addAttribute(<span class="string">&quot;user&quot;</span>,user);</span><br><span class="line">        <span class="comment">//é‡å®šå‘ï¼šè·³åˆ°å¦ä¸€ä¸ªindexé¡µé¢ï¼Œå–ä¸åˆ°userå€¼</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;redirect:/index.jsp&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>é€šè¿‡SpringMVCæ¥å®ç°è½¬å‘å’Œé‡å®šå‘ - æœ‰è§†å›¾è§£æå™¨ï¼›</strong></p>
<p><strong>==é‡å®šå‘ , ä¸éœ€è¦è§†å›¾è§£æå™¨==</strong> , æœ¬è´¨å°±æ˜¯é‡æ–°è¯·æ±‚ä¸€ä¸ªæ–°åœ°æ–¹å˜› , æ‰€ä»¥æ³¨æ„è·¯å¾„é—®é¢˜.</p>
<p>å¯ä»¥é‡å®šå‘åˆ°å¦å¤–ä¸€ä¸ªè¯·æ±‚å®ç° .</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ResultSpringMVC2</span> </span>&#123;</span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/rsm2/t1&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">test1</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//è½¬å‘</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;test&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ä¸å¯ä»¥é‡å®šå‘</span></span><br><span class="line">  <span class="meta">@RequestMapping(&quot;/t2&quot;)</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">test2</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">/*WEB-INF ç›®å½•ä¸‹çš„èµ„æºä¸æ˜¯ä¸ºå®¢æˆ·ç›´æ¥æœåŠ¡çš„*/</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;redirect:/WEB-INF/jsp/test.jsp&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">    </span><br><span class="line">  <span class="comment">//å¯ä»¥é‡å®šå‘</span></span><br><span class="line">  <span class="meta">@RequestMapping(&quot;/t3&quot;)</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">test7</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;redirect:/index.jsp&quot;</span>;</span><br><span class="line">         <span class="comment">//return &quot;redirect:hello.do&quot;; //hello.doä¸ºå¦ä¸€ä¸ªè¯·æ±‚/</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>WEB-INF ç›®å½•</strong>ä¸‹çš„èµ„æº</p>
<ul>
<li>ä¸æ˜¯ä¸ºå®¢æˆ·ç›´æ¥æœåŠ¡çš„</li>
<li>æˆ‘ä»¬ä»ç„¶å¯ä»¥ä½¿ç”¨WEB-INFç›®å½•ä¸‹çš„JSPé¡µé¢æ¥æä¾›è§†å›¾ç»™å®¢æˆ·ï¼Œå®¢æˆ·å´ä¸èƒ½ç›´æ¥è¯·æ±‚è®¿é—®JSPã€‚</li>
<li>åœ¨WEB-INF ä¸‹çš„æ‰€æœ‰é¡µé¢æˆ–è€…èµ„æºï¼Œåªèƒ½é€šè¿‡Controllerï¼Œæˆ–è€…servletè¿›è¡Œè®¿é—®</li>
</ul>
<h3 id="5-4-Ant-é€šé…ç¬¦"><a href="#5-4-Ant-é€šé…ç¬¦" class="headerlink" title="5.4  Ant é€šé…ç¬¦"></a>5.4  Ant é€šé…ç¬¦</h3><ul>
<li><p>Ant é£æ ¼çš„è·¯å¾„è¡¨è¾¾å¼åœ¨æ—¥å¸¸å¼€å‘ä¸­è¿›è¡Œä¸€äº›ç³»ç»Ÿé…ç½®çš„æ—¶å€™éå¸¸æœ‰ç”¨ï¼Œ</p>
</li>
<li><p>å¦‚ï¼šåœ¨web.xmlä¸­é…ç½®org.springframework.web.servlet.DispatcherServletçš„contextConfigLocationå±æ€§ï¼Œ</p>
</li>
<li><p>å› ä¸ºæœ‰å¯èƒ½ä½ çš„é¡¹ç›®ä¸­==å­˜åœ¨å¤šä¸ª==Springé…ç½®æ–‡ä»¶ï¼Œæ­¤æ—¶ä½ å°±éœ€è¦é€šè¿‡Anté£æ ¼è¡¨è¾¾å¼æ¥==æ¨¡ç³ŠåŒ¹é…==ä½ çš„æ‰€æœ‰æƒ³è¦åŠ è½½çš„é…ç½®æ–‡ä»¶ã€‚ </p>
</li>
<li><p>==<strong>ANTé€šé…ç¬¦æœ‰ä¸‰ç§ï¼š</strong>==</p>
<table>
<thead>
<tr>
<th>é€šé…ç¬¦</th>
<th>è¯´æ˜ï¼ˆ/configï¼šæ˜¯ä¸€ä¸ªç›®å½•ï¼›/config/pattern/â€¦ï¼šå¤šä¸ªç›®å½•ï¼‰</th>
</tr>
</thead>
<tbody><tr>
<td>==<strong>?</strong>==</td>
<td>åŒ¹é…ä»»ä½•==å•==å­—ç¬¦ï¼›ä¸€ä¸ªç›®å½•ä¸‹ä¸€ä¸ªä»»æ„å­—ç¬¦</td>
</tr>
<tr>
<td>==*****==</td>
<td>åŒ¹é…0æˆ–è€…ä»»æ„æ•°é‡çš„å­—ç¬¦ï¼›ä¸€ä¸ªç›®å½•ä¸‹ä¸€ä¸ªç›®å½•ä¸‹çš„==å¤šä¸ªä»»æ„==å­—ç¬¦</td>
</tr>
<tr>
<td>==******==</td>
<td>åŒ¹é…0æˆ–è€…æ›´å¤šçš„ç›®å½•ï¼›å¤šç›®å½•ä¸‹å¤šä¸ªä»»æ„å­—ç¬¦</td>
</tr>
</tbody></table>
</li>
<li><p>å®ä¾‹ï¼š</p>
<table>
<thead>
<tr>
<th>URLè·¯å¾„</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>/config/*.xml</td>
<td>åŒ¹é…configç›®å½•ä¸‹é¢çš„æ‰€æœ‰åç¼€ä¸º.xmlçš„æ–‡ä»¶</td>
</tr>
<tr>
<td>/config/p?ttern</td>
<td>åŒ¹é…/config/pattern å’Œ /config/pJtternç­‰ç­‰,ä½†æ˜¯ä¸åŒ…æ‹¬/app/pttern</td>
</tr>
<tr>
<td>/**/test</td>
<td>åŒ¹é…/com/bug315/test, com/bug315/web/test, å’Œ /testç­‰ç­‰</td>
</tr>
<tr>
<td>/config/* * /dir/readme.*</td>
<td>åŒ¹é…/com/bug315/dir/readme.text, /com/bug315/java/dir/readme.html,/com/bug315/web/dir/readme.pdfç­‰ç­‰</td>
</tr>
<tr>
<td>/**/*.class</td>
<td>åŒ¹é…ä»»ä½•çš„.class æ–‡ä»¶ï¼ˆæ³¨ï¼š.classæ˜¯javaçš„å­—èŠ‚ç æ–‡ä»¶ï¼‰</td>
</tr>
</tbody></table>
</li>
<li><p>å±æ€§ï¼š</p>
<p>æœ€é•¿åŒ¹é…åŸåˆ™(has more characters)ï¼ŒURLè¯·æ±‚/app/dir/file.jspï¼Œç°åœ¨å­˜åœ¨ä¸¤ä¸ªè·¯å¾„åŒ¹é…æ¨¡å¼/* */ *.jspå’Œ/app/dir/ * .jspï¼Œé‚£ä¹ˆä¼šæ ¹æ®æ¨¡å¼/app/dir/ * .jspæ¥åŒ¹é…ã€‚</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;form action=<span class="string">&quot;/MyTest/cc/&quot;</span> method=<span class="string">&quot;get&quot;</span>&gt;</span><br><span class="line">    &lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;id&quot;</span>&gt;</span><br><span class="line">    &lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;age&quot;</span>&gt;</span><br><span class="line">    &lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;æäº¤&quot;</span>&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">--------------------------------------------------------------------------------------</span><br><span class="line"><span class="meta">@RequestMapping(&quot;/cc/?&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getDate</span><span class="params">(Model m)</span></span>&#123;</span><br><span class="line">    m.addAttribute(<span class="string">&quot;msg&quot;</span>, <span class="string">&quot;æäº¤æˆåŠŸ&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;ok&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//http://localhost:8080/MyTest/cc/?id=a&amp;age=10ï¼š404é”™è¯¯</span></span><br><span class="line"><span class="comment">//http://localhost:8080/MyTest/cc/a?id=a&amp;age=10ï¼šæˆåŠŸ</span></span><br><span class="line"><span class="comment">//http://localhost:8080/MyTest/cc/aa?id=a&amp;age=10ï¼š404é”™è¯¯</span></span><br><span class="line"><span class="comment">//http://localhost:8080/MyTest/cc/a/a?id=a&amp;age=10ï¼š404é”™è¯¯</span></span><br><span class="line">--------------------------------------------------------------------------------------</span><br><span class="line"><span class="meta">@RequestMapping(&quot;/cc/*&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getDate</span><span class="params">(Model m)</span></span>&#123;</span><br><span class="line">    m.addAttribute(<span class="string">&quot;msg&quot;</span>, <span class="string">&quot;æäº¤æˆåŠŸ&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;ok&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//http://localhost:8080/MyTest/cc/?id=a&amp;age=10ï¼šæˆåŠŸ</span></span><br><span class="line"><span class="comment">//http://localhost:8080/MyTest/cc/a?id=a&amp;age=10ï¼šæˆåŠŸ</span></span><br><span class="line"><span class="comment">//http://localhost:8080/MyTest/cc/aa?id=a&amp;age=10ï¼šæˆåŠŸ</span></span><br><span class="line"><span class="comment">//http://localhost:8080/MyTest/cc/aa/aa?id=a&amp;age=10ï¼š404é”™è¯¯</span></span><br><span class="line">--------------------------------------------------------------------------------------</span><br><span class="line"><span class="meta">@RequestMapping(&quot;/cc/**&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getDate</span><span class="params">(Model m)</span></span>&#123;</span><br><span class="line">    m.addAttribute(<span class="string">&quot;msg&quot;</span>, <span class="string">&quot;æäº¤æˆåŠŸ&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;ok&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//http://localhost:8080/MyTest/cc/?id=a&amp;age=10ï¼šæˆåŠŸ</span></span><br><span class="line"><span class="comment">//http://localhost:8080/MyTest/cc/a?id=a&amp;age=10ï¼šæˆåŠŸ</span></span><br><span class="line"><span class="comment">//http://localhost:8080/MyTest/cc/aa?id=a&amp;age=10ï¼šæˆåŠŸ</span></span><br><span class="line"><span class="comment">//http://localhost:8080/MyTest/cc/aa/aa?id=a&amp;age=10ï¼šæˆåŠŸ</span></span><br></pre></td></tr></table></figure>



<h2 id="6-æ•°æ®å¤„ç†"><a href="#6-æ•°æ®å¤„ç†" class="headerlink" title="6 æ•°æ®å¤„ç†"></a>6 æ•°æ®å¤„ç†</h2><h3 id="6-1-å¤„ç†æäº¤æ•°æ®"><a href="#6-1-å¤„ç†æäº¤æ•°æ®" class="headerlink" title="6.1  å¤„ç†æäº¤æ•°æ®"></a>6.1  å¤„ç†æäº¤æ•°æ®</h3><h5 id="1ã€æºç±»å‹"><a href="#1ã€æºç±»å‹" class="headerlink" title="==1ã€æºç±»å‹=="></a>==1ã€æºç±»å‹==</h5><ul>
<li><p><strong>é€šè¿‡æ–¹æ³•å‚æ•°å®Œæˆ</strong></p>
</li>
<li><p><strong>æäº¤çš„åŸŸåç§°å’Œå¤„ç†æ–¹æ³•çš„å‚æ•°åä¸€è‡´</strong></p>
</li>
<li><p>æäº¤æ•°æ® : <a target="_blank" rel="noopener" href="http://localhost:8080/hello?name=kuangshen">http://localhost:8080/hello?name=kuangshen</a></p>
</li>
<li><p>å¤„ç†æ–¹æ³• :</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/hello&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">hello</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">    System.out.println(name);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>åå°è¾“å‡º : kuangshen </li>
</ul>
<h5 id="2ã€-RequestParam"><a href="#2ã€-RequestParam" class="headerlink" title="==2ã€@RequestParam=="></a>==2ã€@RequestParam==</h5><ul>
<li><p><strong>æäº¤çš„åŸŸåç§°å’Œå¤„ç†æ–¹æ³•çš„å‚æ•°åä¸ä¸€è‡´</strong></p>
</li>
<li><p>æäº¤æ•°æ® : <a target="_blank" rel="noopener" href="http://localhost:8080/hello?n=kuangshen">http://localhost:8080/hello?n=kuangshen</a></p>
</li>
<li><p>å¤„ç†æ–¹æ³• :</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//@RequestParam(&quot;n&quot;) : åœ¨è¯·æ±‚æ–¹æ³•çš„æ—¶å€™ï¼Œè¯·æ±‚å‚æ•°æ˜¯nï¼Œè€Œä¸æ˜¯nameï¼šnæ˜¯nameçš„åˆ«å</span></span><br><span class="line"><span class="comment">//åœ¨é¡µé¢æˆ–è€…è¯·æ±‚â€”â€”ä½¿ç”¨nï¼Œåœ¨æ–¹æ³•å†…â€”â€”ä½¿ç”¨name</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/hello&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">hello</span><span class="params">(<span class="meta">@RequestParam(&quot;n&quot;)</span> String name)</span></span>&#123;</span><br><span class="line">    System.out.println(name);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>åå°è¾“å‡º : kuangshen </li>
</ul>
<h5 id="3ã€-PathVariableï¼šå ä½ç¬¦"><a href="#3ã€-PathVariableï¼šå ä½ç¬¦" class="headerlink" title="==3ã€@PathVariableï¼šå ä½ç¬¦=="></a>==3ã€@PathVariableï¼šå ä½ç¬¦==</h5><p>ã€4.5  RestFul é£æ ¼ã€‘</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/commit/&#123;restful&#125;&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">index</span><span class="params">(<span class="meta">@PathVariable</span> <span class="keyword">int</span> restful, Model model)</span></span>&#123;</span><br><span class="line">    model.addAttribute(<span class="string">&quot;msg&quot;</span>, <span class="string">&quot;ç»“æœï¼š&quot;</span>+restful);</span><br><span class="line">    <span class="comment">//è¿”å›è§†å›¾ä½ç½®</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;test&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">-------------------------------------------------------------------------------------</span><br><span class="line"><span class="meta">@RequestMapping(&quot;/commit/&#123;r&#125;&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">index</span><span class="params">(<span class="meta">@PathVariable(&quot;r&quot;)</span> <span class="keyword">int</span> restful, Model model)</span></span>&#123;</span><br><span class="line">    model.addAttribute(<span class="string">&quot;msg&quot;</span>, <span class="string">&quot;ç»“æœï¼š&quot;</span>+restful);</span><br><span class="line">    <span class="comment">//è¿”å›è§†å›¾ä½ç½®</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;test&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="4ã€æäº¤çš„æ˜¯ä¸€ä¸ªå¯¹è±¡"><a href="#4ã€æäº¤çš„æ˜¯ä¸€ä¸ªå¯¹è±¡" class="headerlink" title="==4ã€æäº¤çš„æ˜¯ä¸€ä¸ªå¯¹è±¡=="></a>==4ã€æäº¤çš„æ˜¯ä¸€ä¸ªå¯¹è±¡==</h5><ul>
<li>è¦æ±‚æäº¤çš„è¡¨å•åŸŸå’Œå¯¹è±¡çš„å±æ€§åä¸€è‡´  , å‚æ•°ä½¿ç”¨å¯¹è±¡å³å¯</li>
</ul>
<ol>
<li><p>å®ä½“ç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">    <span class="comment">//æ„é€ </span></span><br><span class="line">    <span class="comment">//get/set</span></span><br><span class="line">    <span class="comment">//tostring()</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>æäº¤æ•°æ® : <a target="_blank" rel="noopener" href="http://localhost:8080/mvc04/user?name=kuangshen&amp;id=1&amp;age=15">http://localhost:8080/mvc04/user?name=kuangshen&amp;id=1&amp;age=15</a></p>
</li>
<li><p>å¤„ç†æ–¹æ³• :</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@SessionAttributes(&quot;student&quot;)</span><span class="comment">//sessionScope</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyControl</span> </span>&#123;</span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/user&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">user</span><span class="params">(User user)</span></span>&#123;</span><br><span class="line">     System.out.println(user);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">---------------------------------------------------------------------------</span><br><span class="line">ç¬¬ä¸€ç§æ–¹å¼ï¼š&lt;mvc:annotation-driven/&gt;</span><br><span class="line">ç¬¬äºŒç§æ–¹å¼ï¼šä¸åŠ &lt;mvc:annotation-driven/&gt;ï¼š<span class="meta">@ModelAttribute(&quot;stu&quot;)</span><span class="comment">//æ²¡è¿è¡Œå‡ºæ¥</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>åå°è¾“å‡º : User { id=1, name=â€™kuangshenâ€™, age=15 }</p>
</li>
<li><p>å‰å°è¾“å‡ºï¼šUser { id=1, name=â€™kuangshenâ€™, age=15 }</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--ç›´æ¥ä»modelä¸­å–ï¼Œé¦–å­—æ¯å°å†™--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>$&#123;user&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span>ç­‰ä»·äº</span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>$&#123;requestScope.user&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line">---------------------------------------------------------------------------</span><br><span class="line"><span class="comment">&lt;!--\$&#123;requestScope.student&#125;ä¸ç¼–è¯‘--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>$&#123;msg&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>\$&#123;requestScope.student&#125;:$&#123;requestScope.student&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>\$&#123;sessionScope.student&#125;:$&#123;sessionScope.student&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ol>
<p><strong>è¯´æ˜ï¼šå¦‚æœä½¿ç”¨å¯¹è±¡çš„è¯ï¼Œå‰ç«¯ä¼ é€’çš„å‚æ•°åå’Œå¯¹è±¡åå¿…é¡»ä¸€è‡´ï¼Œå¦åˆ™å°±æ˜¯nullã€‚</strong></p>
<h5 id="5ã€-RequestHeader"><a href="#5ã€-RequestHeader" class="headerlink" title="5ã€@RequestHeader"></a>5ã€@RequestHeader</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/msg&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getMsg4</span><span class="params">(<span class="meta">@RequestHeader(&quot;Accept-Encoding&quot;)</span>String head,Model m)</span></span>&#123;</span><br><span class="line">    m.addAttribute(<span class="string">&quot;msg&quot;</span>, head);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;AA&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">--------------------------------------------------------------------------------------</span><br><span class="line"><span class="comment">//å¦‚æœaaä¸å­˜åœ¨ï¼Œrequired=false(éå¿…é¡»)ï¼Œå¦åˆ™æŠ¥é”™</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/msg&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getMsg4</span><span class="params">(<span class="meta">@RequestHeader(value=&quot;aa&quot;,required=false,defaultValue=&quot;æ²¡æœ‰aa&quot;)</span>String head,Model m)</span></span>&#123;</span><br><span class="line">    m.addAttribute(<span class="string">&quot;msg&quot;</span>, head);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;AA&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="6ã€-CookieValue"><a href="#6ã€-CookieValue" class="headerlink" title="6ã€@CookieValue"></a>6ã€@CookieValue</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//JSESSIONIDæ˜¯cookieé‡Œçš„é”®ï¼Œè¾“å‡ºçš„æ˜¯å€¼</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/msg&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getMsg4</span><span class="params">(<span class="meta">@CookieValue(&quot;JSESSIONID&quot;)</span>String cookie,Model m)</span></span>&#123;</span><br><span class="line">    m.addAttribute(<span class="string">&quot;msg&quot;</span>, cookie);</span><br><span class="line">    System.out.println(cookie);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;AA&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="7ã€ServletAPI"><a href="#7ã€ServletAPI" class="headerlink" title="7ã€ServletAPI"></a>7ã€ServletAPI</h5><p><strong>ä½¿ç”¨åœ¨æ–‡ä»¶ä¸Šä¼ ä¸‹è½½</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping( &quot;servletAPI&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">servletAPI</span> <span class="params">(HttpServletRequest req,HttpServletResponse resp)</span></span>&#123;</span><br><span class="line">    System. out . println(req. getServletContext().getRealPath(<span class="string">&quot;/&quot;</span>));<span class="comment">//è·å¾—æ ¹ç›®å½•</span></span><br><span class="line">    Cookie c=<span class="keyword">new</span> Cookie(<span class="string">&quot;key&quot;</span>, <span class="string">&quot;value&quot;</span>);</span><br><span class="line">    resp.addCookie(c);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;ok&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">--------------------------------------------------------------------------------------</span><br><span class="line">&lt;%=request.getCookies()[<span class="number">0</span>].getValue() %&gt;&lt;br&gt;</span><br><span class="line">&lt;%=request.getCookies()[<span class="number">1</span>].getValue() %&gt;&lt;br&gt;</span><br></pre></td></tr></table></figure>

<h5 id="8ã€Map"><a href="#8ã€Map" class="headerlink" title="8ã€Map"></a>8ã€Map</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;map&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">map</span><span class="params">(Map&lt;String,String&gt; map)</span></span>&#123;</span><br><span class="line">    map.put(<span class="string">&quot;hehe&quot;</span>,<span class="string">&quot;å‘µå‘µ1&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;AA&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">--------------------------------------------------------------------------------------</span><br><span class="line">$&#123;hehe&#125;</span><br></pre></td></tr></table></figure>

<h5 id="9ã€ModelAndView"><a href="#9ã€ModelAndView" class="headerlink" title="9ã€ModelAndView"></a>9ã€ModelAndView</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;mv&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ModelAndView <span class="title">map2</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ModelAndView mv=<span class="keyword">new</span> ModelAndView();</span><br><span class="line">    mv.addObject(<span class="string">&quot;hehe&quot;</span>, <span class="string">&quot;å‘µå‘µ&quot;</span>);</span><br><span class="line">    mv.setViewName(<span class="string">&quot;AA&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> mv;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="6-2-æ•°æ®æ˜¾ç¤ºåˆ°å‰ç«¯"><a href="#6-2-æ•°æ®æ˜¾ç¤ºåˆ°å‰ç«¯" class="headerlink" title="6.2  æ•°æ®æ˜¾ç¤ºåˆ°å‰ç«¯"></a>6.2  æ•°æ®æ˜¾ç¤ºåˆ°å‰ç«¯</h3><p><strong>ç¬¬ä¸€ç§ : é€šè¿‡ModelAndView</strong></p>
<p>æˆ‘ä»¬å‰é¢ä¸€ç›´éƒ½æ˜¯å¦‚æ­¤ . å°±ä¸è¿‡å¤šè§£é‡Š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ControllerTest1</span> <span class="keyword">implements</span> <span class="title">Controller</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ModelAndView <span class="title">handleRequest</span><span class="params">(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//è¿”å›ä¸€ä¸ªæ¨¡å‹è§†å›¾å¯¹è±¡</span></span><br><span class="line">        ModelAndView mv = <span class="keyword">new</span> ModelAndView();</span><br><span class="line">        mv.addObject(<span class="string">&quot;msg&quot;</span>,<span class="string">&quot;ControllerTest1&quot;</span>);</span><br><span class="line">        mv.setViewName(<span class="string">&quot;test&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> mv;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ç¬¬äºŒç§ : é€šè¿‡ModelMap</strong></p>
<p>ModelMap</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/hello&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">hello</span><span class="params">(<span class="meta">@RequestParam(&quot;username&quot;)</span> String name, ModelMap model)</span></span>&#123;</span><br><span class="line">    <span class="comment">//å°è£…è¦æ˜¾ç¤ºåˆ°è§†å›¾ä¸­çš„æ•°æ®</span></span><br><span class="line">    <span class="comment">//ç›¸å½“äºreq.setAttribute(&quot;name&quot;,name);</span></span><br><span class="line">    model.addAttribute(<span class="string">&quot;name&quot;</span>,name);</span><br><span class="line">    System.out.println(name);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ç¬¬ä¸‰ç§ : é€šè¿‡Model</strong></p>
<p>Model</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/ct2/hello&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">hello</span><span class="params">(<span class="meta">@RequestParam(&quot;username&quot;)</span> String name, Model model)</span></span>&#123;</span><br><span class="line">    <span class="comment">//å°è£…è¦æ˜¾ç¤ºåˆ°è§†å›¾ä¸­çš„æ•°æ®</span></span><br><span class="line">    <span class="comment">//ç›¸å½“äºreq.setAttribute(&quot;name&quot;,name);</span></span><br><span class="line">    model.addAttribute(<span class="string">&quot;msg&quot;</span>,name);</span><br><span class="line">    System.out.println(name);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;test&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="6-3-Model-å¯¹æ¯”"><a href="#6-3-Model-å¯¹æ¯”" class="headerlink" title="6.3  Model å¯¹æ¯”"></a>6.3  Model å¯¹æ¯”</h3><p>å°±å¯¹äºæ–°æ‰‹è€Œè¨€ç®€å•æ¥è¯´ä½¿ç”¨åŒºåˆ«å°±æ˜¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Model åªæœ‰å¯¥å¯¥å‡ ä¸ªæ–¹æ³•åªé€‚åˆç”¨äºå‚¨å­˜æ•°æ®ï¼Œç®€åŒ–äº†æ–°æ‰‹å¯¹äºModelå¯¹è±¡çš„æ“ä½œå’Œç†è§£ï¼›</span><br><span class="line"></span><br><span class="line">ModelMap ç»§æ‰¿äº† LinkedMap ï¼Œé™¤äº†å®ç°äº†è‡ªèº«çš„ä¸€äº›æ–¹æ³•ï¼ŒåŒæ ·çš„ç»§æ‰¿ LinkedMap çš„æ–¹æ³•å’Œç‰¹æ€§ï¼›</span><br><span class="line"></span><br><span class="line">ModelAndView å¯ä»¥åœ¨å‚¨å­˜æ•°æ®çš„åŒæ—¶ï¼Œå¯ä»¥è¿›è¡Œè®¾ç½®è¿”å›çš„é€»è¾‘è§†å›¾ï¼Œè¿›è¡Œæ§åˆ¶å±•ç¤ºå±‚çš„è·³è½¬ã€‚</span><br></pre></td></tr></table></figure>

<p>å½“ç„¶æ›´å¤šçš„ä»¥åå¼€å‘è€ƒè™‘çš„æ›´å¤šçš„æ˜¯æ€§èƒ½å’Œä¼˜åŒ–ï¼Œå°±ä¸èƒ½å•å•ä»…é™äºæ­¤çš„äº†è§£ã€‚</p>
<p><strong>è¯·ä½¿ç”¨80%çš„æ—¶é—´æ‰“å¥½æ‰å®çš„åŸºç¡€ï¼Œå‰©ä¸‹18%çš„æ—¶é—´ç ”ç©¶æ¡†æ¶ï¼Œ2%çš„æ—¶é—´å»å­¦ç‚¹è‹±æ–‡ï¼Œæ¡†æ¶çš„å®˜æ–¹æ–‡æ¡£æ°¸è¿œæ˜¯æœ€å¥½çš„æ•™ç¨‹ã€‚</strong></p>
<h3 id="6-4-ä¹±ç é—®é¢˜"><a href="#6-4-ä¹±ç é—®é¢˜" class="headerlink" title="6.4  ä¹±ç é—®é¢˜"></a>6.4  ä¹±ç é—®é¢˜</h3><p>æµ‹è¯•æ­¥éª¤ï¼š</p>
<ol>
<li><p>æˆ‘ä»¬å¯ä»¥åœ¨é¦–é¡µç¼–å†™ä¸€ä¸ªæäº¤çš„è¡¨å•</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;/e/t&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>åå°ç¼–å†™å¯¹åº”çš„å¤„ç†ç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Encoding</span> </span>&#123;</span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/e/t&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">test</span><span class="params">(Model model,String name)</span></span>&#123;</span><br><span class="line">        model.addAttribute(<span class="string">&quot;msg&quot;</span>,name); <span class="comment">//è·å–è¡¨å•æäº¤çš„å€¼</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;test&quot;</span>; <span class="comment">//è·³è½¬åˆ°testé¡µé¢æ˜¾ç¤ºè¾“å…¥çš„å€¼</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>è¾“å…¥ä¸­æ–‡æµ‹è¯•ï¼Œå‘ç°ä¹±ç <br><img src="Spring.assets/709416281.png" alt="1570176982690.png" loading="lazy"></p>
</li>
</ol>
<p>ä¸å¾—ä¸è¯´ï¼Œä¹±ç é—®é¢˜æ˜¯åœ¨æˆ‘ä»¬å¼€å‘ä¸­ååˆ†å¸¸è§çš„é—®é¢˜ï¼Œä¹Ÿæ˜¯è®©æˆ‘ä»¬ç¨‹åºçŒ¿æ¯”è¾ƒå¤´å¤§çš„é—®é¢˜ï¼</p>
<p>ä»¥å‰ä¹±ç é—®é¢˜é€šè¿‡è¿‡æ»¤å™¨è§£å†³ , è€Œ<strong>SpringMVCç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªè¿‡æ»¤å™¨</strong> , å¯ä»¥åœ¨web.xmlä¸­é…ç½® . </p>
<p>ä¿®æ”¹äº†xmlæ–‡ä»¶éœ€è¦é‡å¯æœåŠ¡å™¨ï¼</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>utf-8<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æœ‰äº›æç«¯æƒ…å†µä¸‹.è¿™ä¸ªè¿‡æ»¤å™¨å¯¹getçš„æ”¯æŒä¸å¥½ .</p>
<p>å¤„ç†æ–¹æ³• :</p>
<ol>
<li><p>ä¿®æ”¹tomcaté…ç½®æ–‡ä»¶ ï¼š è®¾ç½®ç¼–ç ï¼</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Connector</span> <span class="attr">URIEncoding</span>=<span class="string">&quot;utf-8&quot;</span> <span class="attr">port</span>=<span class="string">&quot;8080&quot;</span> <span class="attr">protocol</span>=<span class="string">&quot;HTTP/1.1&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">connectionTimeout</span>=<span class="string">&quot;20000&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">redirectPort</span>=<span class="string">&quot;8443&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>è‡ªå®šä¹‰è¿‡æ»¤å™¨</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.kuang.filter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.*;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequestWrapper;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.UnsupportedEncodingException;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è§£å†³getå’Œpostè¯·æ±‚ å…¨éƒ¨ä¹±ç çš„è¿‡æ»¤å™¨</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericEncodingFilter</span> <span class="keyword">implements</span> <span class="title">Filter</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doFilter</span><span class="params">(ServletRequest request, ServletResponse response, FilterChain chain)</span> <span class="keyword">throws</span> IOException, ServletException </span>&#123;</span><br><span class="line">        <span class="comment">//å¤„ç†responseçš„å­—ç¬¦ç¼–ç </span></span><br><span class="line">        HttpServletResponse myResponse=(HttpServletResponse) response;</span><br><span class="line">        myResponse.setContentType(<span class="string">&quot;text/html;charset=UTF-8&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è½¬å‹ä¸ºä¸åè®®ç›¸å…³å¯¹è±¡</span></span><br><span class="line">        HttpServletRequest httpServletRequest = (HttpServletRequest) request;</span><br><span class="line">        <span class="comment">// å¯¹requeståŒ…è£…å¢å¼º</span></span><br><span class="line">        HttpServletRequest myrequest = <span class="keyword">new</span> MyRequest(httpServletRequest);</span><br><span class="line">        chain.doFilter(myrequest, response);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è‡ªå®šä¹‰requestå¯¹è±¡ï¼ŒHttpServletRequestçš„åŒ…è£…ç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyRequest</span> <span class="keyword">extends</span> <span class="title">HttpServletRequestWrapper</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> HttpServletRequest request;</span><br><span class="line">    <span class="comment">//æ˜¯å¦ç¼–ç çš„æ ‡è®°</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> hasEncode;</span><br><span class="line">    <span class="comment">//å®šä¹‰ä¸€ä¸ªå¯ä»¥ä¼ å…¥HttpServletRequestå¯¹è±¡çš„æ„é€ å‡½æ•°ï¼Œä»¥ä¾¿å¯¹å…¶è¿›è¡Œè£…é¥°</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyRequest</span><span class="params">(HttpServletRequest request)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(request);<span class="comment">// superå¿…é¡»å†™</span></span><br><span class="line">        <span class="keyword">this</span>.request = request;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¯¹éœ€è¦å¢å¼ºæ–¹æ³• è¿›è¡Œè¦†ç›–</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Map <span class="title">getParameterMap</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// å…ˆè·å¾—è¯·æ±‚æ–¹å¼</span></span><br><span class="line">        String method = request.getMethod();</span><br><span class="line">        <span class="keyword">if</span> (method.equalsIgnoreCase(<span class="string">&quot;post&quot;</span>)) &#123;</span><br><span class="line">            <span class="comment">// postè¯·æ±‚</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="comment">// å¤„ç†postä¹±ç </span></span><br><span class="line">                request.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">                <span class="keyword">return</span> request.getParameterMap();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (UnsupportedEncodingException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (method.equalsIgnoreCase(<span class="string">&quot;get&quot;</span>)) &#123;</span><br><span class="line">            <span class="comment">// getè¯·æ±‚</span></span><br><span class="line">            Map&lt;String, String[]&gt; parameterMap = request.getParameterMap();</span><br><span class="line">            <span class="keyword">if</span> (!hasEncode) &#123; <span class="comment">// ç¡®ä¿getæ‰‹åŠ¨ç¼–ç é€»è¾‘åªè¿è¡Œä¸€æ¬¡</span></span><br><span class="line">                <span class="keyword">for</span> (String parameterName : parameterMap.keySet()) &#123;</span><br><span class="line">                    String[] values = parameterMap.get(parameterName);</span><br><span class="line">                    <span class="keyword">if</span> (values != <span class="keyword">null</span>) &#123;</span><br><span class="line">                        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; values.length; i++) &#123;</span><br><span class="line">                            <span class="keyword">try</span> &#123;</span><br><span class="line">                                <span class="comment">// å¤„ç†getä¹±ç </span></span><br><span class="line">                                values[i] = <span class="keyword">new</span> String(values[i]</span><br><span class="line">                                        .getBytes(<span class="string">&quot;ISO-8859-1&quot;</span>), <span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">                            &#125; <span class="keyword">catch</span> (UnsupportedEncodingException e) &#123;</span><br><span class="line">                                e.printStackTrace();</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                hasEncode = <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> parameterMap;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.getParameterMap();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å–ä¸€ä¸ªå€¼</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getParameter</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        Map&lt;String, String[]&gt; parameterMap = getParameterMap();</span><br><span class="line">        String[] values = parameterMap.get(name);</span><br><span class="line">        <span class="keyword">if</span> (values == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> values[<span class="number">0</span>]; <span class="comment">// å–å›å‚æ•°çš„ç¬¬ä¸€ä¸ªå€¼</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å–æ‰€æœ‰å€¼</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String[] getParameterValues(String name) &#123;</span><br><span class="line">        Map&lt;String, String[]&gt; parameterMap = getParameterMap();</span><br><span class="line">        String[] values = parameterMap.get(name);</span><br><span class="line">        <span class="keyword">return</span> values;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>è¿™ä¸ªä¹Ÿæ˜¯æˆ‘åœ¨ç½‘ä¸Šæ‰¾çš„ä¸€äº›å¤§ç¥å†™çš„ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒSpringMVCé»˜è®¤çš„ä¹±ç å¤„ç†å°±å·²ç»èƒ½å¤Ÿå¾ˆå¥½çš„è§£å†³äº†ï¼</p>
<p><strong>ç„¶ååœ¨web.xmlä¸­é…ç½®è¿™ä¸ªè¿‡æ»¤å™¨å³å¯ï¼</strong></p>
<p>ä¹±ç é—®é¢˜ï¼Œéœ€è¦å¹³æ—¶å¤šæ³¨æ„ï¼Œåœ¨å°½å¯èƒ½èƒ½è®¾ç½®ç¼–ç çš„åœ°æ–¹ï¼Œéƒ½è®¾ç½®ä¸ºç»Ÿä¸€ç¼–ç  UTF-8ï¼</p>
<h2 id="7-JSON"><a href="#7-JSON" class="headerlink" title="7 JSON"></a>7 JSON</h2><h3 id="7-1-ä»€ä¹ˆæ˜¯JSONï¼Ÿ"><a href="#7-1-ä»€ä¹ˆæ˜¯JSONï¼Ÿ" class="headerlink" title="7.1  ä»€ä¹ˆæ˜¯JSONï¼Ÿ"></a>7.1  ä»€ä¹ˆæ˜¯JSONï¼Ÿ</h3><ul>
<li>JSON(JavaScript Object Notation, JS å¯¹è±¡æ ‡è®°) æ˜¯ä¸€ç§è½»é‡çº§çš„æ•°æ®äº¤æ¢æ ¼å¼ï¼Œç›®å‰ä½¿ç”¨ç‰¹åˆ«å¹¿æ³›ã€‚</li>
<li>é‡‡ç”¨å®Œå…¨ç‹¬ç«‹äºç¼–ç¨‹è¯­è¨€çš„<strong>æ–‡æœ¬æ ¼å¼</strong>æ¥å­˜å‚¨å’Œè¡¨ç¤ºæ•°æ®ã€‚</li>
<li>ç®€æ´å’Œæ¸…æ™°çš„å±‚æ¬¡ç»“æ„ä½¿å¾— JSON æˆä¸ºç†æƒ³çš„æ•°æ®äº¤æ¢è¯­è¨€ã€‚</li>
<li>æ˜“äºäººé˜…è¯»å’Œç¼–å†™ï¼ŒåŒæ—¶ä¹Ÿæ˜“äºæœºå™¨è§£æå’Œç”Ÿæˆï¼Œå¹¶æœ‰æ•ˆåœ°æå‡ç½‘ç»œä¼ è¾“æ•ˆç‡ã€‚</li>
</ul>
<p>åœ¨ JavaScript è¯­è¨€ä¸­ï¼Œä¸€åˆ‡éƒ½æ˜¯å¯¹è±¡ã€‚å› æ­¤ï¼Œä»»ä½•JavaScript æ”¯æŒçš„ç±»å‹éƒ½å¯ä»¥é€šè¿‡ JSON æ¥è¡¨ç¤ºï¼Œä¾‹å¦‚å­—ç¬¦ä¸²ã€æ•°å­—ã€å¯¹è±¡ã€æ•°ç»„ç­‰ã€‚çœ‹çœ‹ä»–çš„è¦æ±‚å’Œè¯­æ³•æ ¼å¼ï¼š</p>
<ul>
<li>å¯¹è±¡è¡¨ç¤ºä¸ºé”®å€¼å¯¹ï¼Œæ•°æ®ç”±é€—å·åˆ†éš”</li>
<li>èŠ±æ‹¬å·ä¿å­˜å¯¹è±¡</li>
<li>æ–¹æ‹¬å·ä¿å­˜æ•°ç»„</li>
</ul>
<p><strong>JSON é”®å€¼å¯¹</strong>æ˜¯ç”¨æ¥ä¿å­˜ JavaScript å¯¹è±¡çš„ä¸€ç§æ–¹å¼ï¼Œå’Œ JavaScript å¯¹è±¡çš„å†™æ³•ä¹Ÿå¤§åŒå°å¼‚ï¼Œé”®/å€¼å¯¹ç»„åˆä¸­çš„é”®åå†™åœ¨å‰é¢å¹¶ç”¨åŒå¼•å· â€œâ€ åŒ…è£¹ï¼Œä½¿ç”¨å†’å· : åˆ†éš”ï¼Œç„¶åç´§æ¥ç€å€¼ï¼š</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">&quot;name&quot;</span>: <span class="string">&quot;QinJiang&quot;</span>&#125;</span><br><span class="line">&#123;<span class="attr">&quot;age&quot;</span>: <span class="string">&quot;3&quot;</span>&#125;</span><br><span class="line">&#123;<span class="attr">&quot;sex&quot;</span>: <span class="string">&quot;ç”·&quot;</span>&#125;</span><br></pre></td></tr></table></figure>

<h4 id="â‘ -Json-å¯¹è±¡å’Œ-Json-å­—ç¬¦ä¸²"><a href="#â‘ -Json-å¯¹è±¡å’Œ-Json-å­—ç¬¦ä¸²" class="headerlink" title="â‘  Json å¯¹è±¡å’Œ Json å­—ç¬¦ä¸²"></a>â‘  Json å¯¹è±¡å’Œ Json å­—ç¬¦ä¸²</h4><p>å¾ˆå¤šäººæä¸æ¸…æ¥š JSON å’Œ JavaScript å¯¹è±¡çš„å…³ç³»ï¼Œç”šè‡³è¿è°æ˜¯è°éƒ½ä¸æ¸…æ¥šã€‚å…¶å®ï¼Œå¯ä»¥è¿™ä¹ˆç†è§£ï¼š</p>
<ul>
<li><p>JSON æ˜¯ JavaScript å¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤ºæ³•ï¼Œå®ƒä½¿ç”¨æ–‡æœ¬è¡¨ç¤ºä¸€ä¸ª JS å¯¹è±¡çš„ä¿¡æ¯ï¼Œæœ¬è´¨æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¿™æ˜¯ä¸€ä¸ªJsonå¯¹è±¡ï¼Œæ³¨æ„é”®åä¹Ÿæ˜¯å¯ä»¥ä½¿ç”¨å¼•å·åŒ…è£¹çš„</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">a</span>: <span class="string">&#x27;Hello&#x27;</span>, <span class="attr">b</span>: <span class="string">&#x27;World&#x27;</span>&#125;; </span><br><span class="line"><span class="comment">//è¿™æ˜¯ä¸€ä¸ªJsonå­—ç¬¦ä¸²ï¼Œæœ¬è´¨æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="keyword">var</span> json = <span class="string">&#x27;&#123;&quot;a&quot;: &quot;Hello&quot;, &quot;b&quot;: &quot;World&quot;&#125;&#x27;</span>; </span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="â‘¡-Jsonå¯¹è±¡å’Œ-Jsonå­—ç¬¦ä¸²äº’è½¬"><a href="#â‘¡-Jsonå¯¹è±¡å’Œ-Jsonå­—ç¬¦ä¸²äº’è½¬" class="headerlink" title="â‘¡ Jsonå¯¹è±¡å’Œ Jsonå­—ç¬¦ä¸²äº’è½¬"></a>â‘¡ Jsonå¯¹è±¡å’Œ Jsonå­—ç¬¦ä¸²äº’è½¬</h4><ul>
<li><p>è¦å®ç°ä» Json å­—ç¬¦ä¸²è½¬æ¢ä¸º Json å¯¹è±¡ï¼Œä½¿ç”¨ ==<strong>Json.parse()</strong>== æ–¹æ³•ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = <span class="built_in">JSON</span>.parse(<span class="string">&#x27;&#123;&quot;a&quot;: &quot;Hello&quot;, &quot;b&quot;: &quot;World&quot;&#125;&#x27;</span>); </span><br><span class="line"><span class="comment">//ç»“æœæ˜¯ &#123;a: &#x27;Hello&#x27;, b: &#x27;World&#x27;&#125;</span></span><br></pre></td></tr></table></figure></li>
<li><p>è¦å®ç°ä» Json å¯¹è±¡è½¬æ¢ä¸º Json å­—ç¬¦ä¸²ï¼Œä½¿ç”¨ ==<strong>Json.stringify()</strong>== æ–¹æ³•ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> json = <span class="built_in">JSON</span>.stringify(&#123;<span class="attr">a</span>: <span class="string">&#x27;Hello&#x27;</span>, <span class="attr">b</span>: <span class="string">&#x27;World&#x27;</span>&#125;);</span><br><span class="line"><span class="comment">//ç»“æœæ˜¯ &#x27;&#123;&quot;a&quot;: &quot;Hello&quot;, &quot;b&quot;: &quot;World&quot;&#125;&#x27;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>ä»£ç æµ‹è¯•</strong></p>
<ol>
<li><p>æ–°å»ºä¸€ä¸ªmodule ï¼Œspringmvc-05-json ï¼Œ æ·»åŠ webçš„æ”¯æŒ</p>
</li>
<li><p>åœ¨webç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª json-1.html ï¼Œ ç¼–å†™æµ‹è¯•å†…å®¹</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="comment">//ç¼–å†™ä¸€ä¸ªjsçš„å¯¹è±¡</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> user = &#123;</span></span><br><span class="line"><span class="javascript"> <span class="attr">name</span>:<span class="string">&quot;ç§¦ç–†&quot;</span>,</span></span><br><span class="line"><span class="javascript"> <span class="attr">age</span>:<span class="number">3</span>,</span></span><br><span class="line"><span class="javascript"> <span class="attr">sex</span>:<span class="string">&quot;ç”·&quot;</span></span></span><br><span class="line"><span class="javascript">&#125;;</span></span><br><span class="line"><span class="javascript"><span class="comment">//å°†jså¯¹è±¡è½¬æ¢æˆjsonå­—ç¬¦ä¸²</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> str = <span class="built_in">JSON</span>.stringify(user);</span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(str);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="comment">//å°†jsonå­—ç¬¦ä¸²è½¬æ¢ä¸ºjså¯¹è±¡</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> user2 = <span class="built_in">JSON</span>.parse(str);</span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(user2.age,user2.name,user2.sex);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>åœ¨IDEAä¸­ä½¿ç”¨æµè§ˆå™¨æ‰“å¼€ï¼ŒæŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºï¼</p>
</li>
</ol>
<h3 id="7-2-Controllerè¿”å›JSONæ•°æ®"><a href="#7-2-Controllerè¿”å›JSONæ•°æ®" class="headerlink" title="7.2  Controllerè¿”å›JSONæ•°æ®"></a>7.2  Controllerè¿”å›JSONæ•°æ®</h3><ul>
<li><p>Jacksonåº”è¯¥æ˜¯ç›®å‰æ¯”è¾ƒå¥½çš„jsonè§£æå·¥å…·äº†</p>
</li>
<li><p>å½“ç„¶å·¥å…·ä¸æ­¢è¿™ä¸€ä¸ªï¼Œæ¯”å¦‚è¿˜æœ‰é˜¿é‡Œå·´å·´çš„ fastjson ç­‰ç­‰ã€‚</p>
</li>
</ul>
<h4 id="â‘ -å¯¼å…¥jaråŒ…"><a href="#â‘ -å¯¼å…¥jaråŒ…" class="headerlink" title="â‘  å¯¼å…¥jaråŒ…"></a>â‘  å¯¼å…¥jaråŒ…</h4>  <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">//ä½¿ç”¨Jackson</span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-databind<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.10.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.10.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-annotations<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.10.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-collections<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-collections<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="â‘¡-web-xml"><a href="#â‘¡-web-xml" class="headerlink" title="â‘¡ web.xml"></a>â‘¡ web.xml</h4>  <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--1.æ³¨å†Œservlet--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>SpringMVC<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet</span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--é€šè¿‡åˆå§‹åŒ–å‚æ•°æŒ‡å®šSpringMVCé…ç½®æ–‡ä»¶çš„ä½ç½®ï¼Œè¿›è¡Œå…³è”--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>classpath:springmvc-servlet.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å¯åŠ¨é¡ºåºï¼Œæ•°å­—è¶Šå°ï¼Œå¯åŠ¨è¶Šæ—© --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>1<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--æ‰€æœ‰è¯·æ±‚éƒ½ä¼šè¢«springmvcæ‹¦æˆª --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>SpringMVC<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter</span><br><span class="line">    <span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>utf-8<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="â‘¢-springmvc-servlet-xml"><a href="#â‘¢-springmvc-servlet-xml" class="headerlink" title="â‘¢ springmvc-servlet.xml"></a>â‘¢ springmvc-servlet.xml</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- è‡ªåŠ¨æ‰«ææŒ‡å®šçš„åŒ…ï¼Œä¸‹é¢æ‰€æœ‰æ³¨è§£ç±»äº¤ç»™IOCå®¹å™¨ç®¡ç† --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.kuang.controller&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- è§†å›¾è§£æå™¨ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">id</span>=<span class="string">&quot;internalResourceViewResolver&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å‰ç¼€ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;prefix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;/WEB-INF/jsp/&quot;</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- åç¼€ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;suffix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;.jsp&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="â‘£-User"><a href="#â‘£-User" class="headerlink" title="â‘£ User"></a>â‘£ User</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//éœ€è¦å¯¼å…¥lombok</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> String sex;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="â‘¤-Controller"><a href="#â‘¤-Controller" class="headerlink" title="â‘¤ Controller"></a>â‘¤ Controller</h4><p>è¿™é‡Œæˆ‘ä»¬éœ€è¦ä¸¤ä¸ªæ–°ä¸œè¥¿ï¼Œä¸€ä¸ªæ˜¯@ResponseBodyï¼Œä¸€ä¸ªæ˜¯ObjectMapperå¯¹è±¡ï¼Œæˆ‘ä»¬çœ‹ä¸‹å…·ä½“çš„ç”¨æ³•</p>
<p>ç¼–å†™ä¸€ä¸ªControllerï¼›</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/json1&quot;)</span></span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">json1</span><span class="params">()</span> <span class="keyword">throws</span> JsonProcessingException </span>&#123;</span><br><span class="line">        <span class="comment">//åˆ›å»ºä¸€ä¸ªjacksonçš„å¯¹è±¡æ˜ å°„å™¨ï¼Œç”¨æ¥è§£ææ•°æ®</span></span><br><span class="line">        ObjectMapper mapper = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line">        <span class="comment">//åˆ›å»ºä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line">        User user = <span class="keyword">new</span> User(<span class="string">&quot;ç§¦ç–†1å·&quot;</span>, <span class="number">3</span>, <span class="string">&quot;ç”·&quot;</span>);</span><br><span class="line">        <span class="comment">//å°†æˆ‘ä»¬çš„å¯¹è±¡è§£ææˆä¸ºjsonæ ¼å¼</span></span><br><span class="line">        String str = mapper.writeValueAsString(user);</span><br><span class="line">        <span class="comment">//ç”±äº@ResponseBodyæ³¨è§£ï¼Œè¿™é‡Œä¼šå°†strè½¬æˆjsonæ ¼å¼è¿”å›ï¼›ååˆ†æ–¹ä¾¿</span></span><br><span class="line">        <span class="keyword">return</span> str;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>é…ç½®Tomcat ï¼Œ å¯åŠ¨æµ‹è¯•ä¸€ä¸‹ï¼<a target="_blank" rel="noopener" href="http://localhost:8080/json1">http://localhost:8080/json1</a></p>
</li>
<li><p>å‘ç°å‡ºç°äº†ä¹±ç é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½®ä¸€ä¸‹ä»–çš„ç¼–ç æ ¼å¼ä¸ºutf-8ï¼Œä»¥åŠå®ƒè¿”å›çš„ç±»å‹ï¼›</p>
</li>
<li><p>é€šè¿‡@RequestMapingçš„produceså±æ€§æ¥å®ç°ï¼Œä¿®æ”¹ä¸‹ä»£ç </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//produces:æŒ‡å®šå“åº”ä½“è¿”å›ç±»å‹å’Œç¼–ç </span></span><br><span class="line"><span class="meta">@RequestMapping(value = &quot;/json1&quot;,produces = &quot;application/json;charset=utf-8&quot;)</span></span><br></pre></td></tr></table></figure></li>
<li><p>å†æ¬¡æµ‹è¯•ï¼Œ <a target="_blank" rel="noopener" href="http://localhost:8080/json1">http://localhost:8080/json1</a> ï¼Œ ä¹±ç é—®é¢˜OKï¼</p>
</li>
</ul>
<p>==ã€æ³¨æ„ï¼šä½¿ç”¨jsonè®°å¾—å¤„ç†ä¹±ç é—®é¢˜ã€‘==</p>
<h3 id="7-3-ä¹±ç ç»Ÿä¸€è§£å†³"><a href="#7-3-ä¹±ç ç»Ÿä¸€è§£å†³" class="headerlink" title="7.3  ä¹±ç ç»Ÿä¸€è§£å†³"></a>7.3  ä¹±ç ç»Ÿä¸€è§£å†³</h3><p>â€‹    ä¸Šä¸€ç§æ–¹æ³•æ¯”è¾ƒéº»çƒ¦ï¼Œå¦‚æœé¡¹ç›®ä¸­æœ‰è®¸å¤šè¯·æ±‚åˆ™æ¯ä¸€ä¸ªéƒ½è¦æ·»åŠ ï¼Œå¯ä»¥é€šè¿‡Springé…ç½®ç»Ÿä¸€æŒ‡å®šï¼Œè¿™æ ·å°±ä¸ç”¨æ¯æ¬¡éƒ½å»å¤„ç†äº†ï¼</p>
<p>â€‹    æˆ‘ä»¬å¯ä»¥åœ¨springmvcçš„é…ç½®æ–‡ä»¶ä¸Šæ·»åŠ ä¸€æ®µStringHttpMessageConverter<strong>æ¶ˆæ¯è½¬æ¢é…ç½®</strong>ï¼</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mvc:annotation-driven</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:message-converters</span> <span class="attr">register-defaults</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.http.converter.StringHttpMessageConverter&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">value</span>=<span class="string">&quot;UTF-8&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.http.converter.json.MappingJackson2HttpMessageConverter&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;objectMapper&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.http.converter.json.Jackson2ObjectMapperFactoryBean&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;failOnEmptyBeans&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mvc:message-converters</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mvc:annotation-driven</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="7-4-è¿”å›jsonå­—ç¬¦ä¸²ç»Ÿä¸€è§£å†³"><a href="#7-4-è¿”å›jsonå­—ç¬¦ä¸²ç»Ÿä¸€è§£å†³" class="headerlink" title="7.4 è¿”å›jsonå­—ç¬¦ä¸²ç»Ÿä¸€è§£å†³"></a>7.4 è¿”å›jsonå­—ç¬¦ä¸²ç»Ÿä¸€è§£å†³</h3><p>==<strong>@RestController</strong>==</p>
<p>åœ¨ç±»ä¸Šç›´æ¥ä½¿ç”¨ <strong>@RestController</strong> ï¼Œè¿™æ ·å­ï¼Œé‡Œé¢æ‰€æœ‰çš„æ–¹æ³•éƒ½åªä¼šè¿”å› json å­—ç¬¦ä¸²äº†ï¼Œä¸ç”¨å†æ¯ä¸€ä¸ªéƒ½æ·»åŠ @ResponseBody ï¼æˆ‘ä»¬åœ¨å‰åç«¯åˆ†ç¦»å¼€å‘ä¸­ï¼Œä¸€èˆ¬éƒ½ä½¿ç”¨ @RestController ï¼Œååˆ†ä¾¿æ·ï¼</p>
<ul>
<li>==Controller ï¼šç”¨è§†å›¾è§£æå™¨ ï¼Œæ·»åŠ ResponseBody ï¼Œæ–¹æ³•è¿”å› å­—ç¬¦ä¸²==ï¼ˆç”¨äºè·³è½¬å…¶ä»–é¡µé¢ï¼‰</li>
<li>==RestControllerï¼šä¸èµ°è§†å›¾è§£æå™¨ï¼Œä¸æ·»åŠ ResponseBody== </li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserController</span> </span>&#123;</span><br><span class="line">    <span class="comment">//produces:æŒ‡å®šå“åº”ä½“è¿”å›ç±»å‹å’Œç¼–ç </span></span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/json1&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">json1</span><span class="params">()</span> <span class="keyword">throws</span> JsonProcessingException </span>&#123;</span><br><span class="line">        <span class="comment">//åˆ›å»ºä¸€ä¸ªjacksonçš„å¯¹è±¡æ˜ å°„å™¨ï¼Œç”¨æ¥è§£ææ•°æ®</span></span><br><span class="line">        ObjectMapper mapper = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line">        <span class="comment">//åˆ›å»ºä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line">        User user = <span class="keyword">new</span> User(<span class="string">&quot;ç§¦ç–†1å·&quot;</span>, <span class="number">3</span>, <span class="string">&quot;ç”·&quot;</span>);</span><br><span class="line">        <span class="comment">//å°†æˆ‘ä»¬çš„å¯¹è±¡è§£ææˆä¸ºjsonæ ¼å¼</span></span><br><span class="line">        String str = mapper.writeValueAsString(user);</span><br><span class="line">        <span class="comment">//ç”±äº@ResponseBodyæ³¨è§£ï¼Œè¿™é‡Œä¼šå°†strè½¬æˆjsonæ ¼å¼è¿”å›ï¼›ååˆ†æ–¹ä¾¿</span></span><br><span class="line">        <span class="keyword">return</span> str;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯åŠ¨tomcatæµ‹è¯•ï¼Œç»“æœéƒ½æ­£å¸¸è¾“å‡ºï¼</p>
<h3 id="7-5-é›†åˆè¾“å‡º"><a href="#7-5-é›†åˆè¾“å‡º" class="headerlink" title="7.5  é›†åˆè¾“å‡º"></a>7.5  é›†åˆè¾“å‡º</h3><p>å¢åŠ ä¸€ä¸ªæ–°çš„æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/json2&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">json2</span><span class="params">()</span> <span class="keyword">throws</span> JsonProcessingException </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆ›å»ºä¸€ä¸ªjacksonçš„å¯¹è±¡æ˜ å°„å™¨ï¼Œç”¨æ¥è§£ææ•°æ®</span></span><br><span class="line">    ObjectMapper mapper = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line">    <span class="comment">//åˆ›å»ºä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line">    User user1 = <span class="keyword">new</span> User(<span class="string">&quot;ç§¦ç–†1å·&quot;</span>, <span class="number">3</span>, <span class="string">&quot;ç”·&quot;</span>);</span><br><span class="line">    User user2 = <span class="keyword">new</span> User(<span class="string">&quot;ç§¦ç–†2å·&quot;</span>, <span class="number">3</span>, <span class="string">&quot;ç”·&quot;</span>);</span><br><span class="line">    User user3 = <span class="keyword">new</span> User(<span class="string">&quot;ç§¦ç–†3å·&quot;</span>, <span class="number">3</span>, <span class="string">&quot;ç”·&quot;</span>);</span><br><span class="line">    User user4 = <span class="keyword">new</span> User(<span class="string">&quot;ç§¦ç–†4å·&quot;</span>, <span class="number">3</span>, <span class="string">&quot;ç”·&quot;</span>);</span><br><span class="line">    List&lt;User&gt; list = <span class="keyword">new</span> ArrayList&lt;User&gt;();</span><br><span class="line">    list.add(user1);</span><br><span class="line">    list.add(user2);</span><br><span class="line">    list.add(user3);</span><br><span class="line">    list.add(user4);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å°†æˆ‘ä»¬çš„å¯¹è±¡è§£ææˆä¸ºjsonæ ¼å¼</span></span><br><span class="line">    String str = mapper.writeValueAsString(list);</span><br><span class="line">    <span class="keyword">return</span> str;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœ : ååˆ†å®Œç¾ï¼Œæ²¡æœ‰ä»»ä½•é—®é¢˜ï¼</p>
<h3 id="7-6-æ—¥æœŸ"><a href="#7-6-æ—¥æœŸ" class="headerlink" title="7.6  æ—¥æœŸ"></a>7.6  æ—¥æœŸ</h3><h4 id="1ã€æ—¥æœŸå¤„ç†"><a href="#1ã€æ—¥æœŸå¤„ç†" class="headerlink" title="1ã€æ—¥æœŸå¤„ç†"></a>1ã€<a target="_blank" rel="noopener" href="https://www.cnblogs.com/ldwnana/p/8279216.html">æ—¥æœŸå¤„ç†</a></h4><h5 id="â‘ -è¯·æ±‚"><a href="#â‘ -è¯·æ±‚" class="headerlink" title="â‘  è¯·æ±‚"></a>â‘  è¯·æ±‚</h5><p>ä½¿ç”¨2012/4/5æ ¼å¼</p>
<p><a target="_blank" rel="noopener" href="http://localhost:8080/Test/pojoDate?name=aaa&amp;age=12&amp;birth=2012/4/5">http://localhost:8080/Test/pojoDate?name=aaa&amp;age=12&amp;birth=2012/4/5</a></p>
<h5 id="â‘¡-æ³¨è§£æ–¹å¼"><a href="#â‘¡-æ³¨è§£æ–¹å¼" class="headerlink" title="â‘¡ æ³¨è§£æ–¹å¼"></a>â‘¡ æ³¨è§£æ–¹å¼</h5><p><strong>@DateTimeFormat</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">	<span class="meta">@DateTimeFormat(pattern=&quot;yyyy-MM-dd&quot;)</span></span><br><span class="line">	<span class="keyword">private</span> Date birth;</span><br><span class="line">&#125;</span><br><span class="line">--------------------------------------------------------------------------------------</span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@RequestMapping</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyControl</span> </span>&#123;</span><br><span class="line">	<span class="meta">@RequestMapping(&quot;/pojoDate&quot;)</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">pojoDate</span><span class="params">(Student stu)</span></span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;AA&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">--------------------------------------------------------------------------------------</span><br><span class="line">&lt;!--å¿…é¡»æœ‰ï¼šé©±åŠ¨æ³¨è§£--&gt;</span><br><span class="line">&lt;mvc:annotation-driven/&gt;</span><br></pre></td></tr></table></figure>

<h5 id="â‘¢-Converter"><a href="#â‘¢-Converter" class="headerlink" title="â‘¢ Converter"></a>â‘¢ Converter</h5><ul>
<li>==éœ€è¦é…ç½®xml== </li>
<li>å¯ä»¥åœ¨ç³»ç»Ÿä¸­åŠ å…¥ä¸€ä¸ªå…¨å±€ç±»å‹è½¬æ¢å™¨</li>
</ul>
<ol>
<li><p>å·¥å…·ç±»ï¼š**==å®ç°è½¬æ¢å™¨==**</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.core.convert.converter.Converter;</span><br><span class="line"><span class="comment">//æ¡†æ¶æ ¸å¿ƒä¸­çš„è½¬æ¢è€…çš„è½¬æ¢è€…</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DateConvertor</span> <span class="keyword">implements</span> <span class="title">Converter</span>&lt;<span class="title">String</span>,<span class="title">Date</span>&gt;</span>&#123;</span><br><span class="line">	<span class="comment">//ä¼ å…¥æ—¥æœŸæ ¼å¼</span></span><br><span class="line">	<span class="keyword">private</span> String pattern;<span class="comment">//yyyy-MM-dd</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">DateConvertor</span><span class="params">(String pattern)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">super</span>();</span><br><span class="line">		<span class="keyword">this</span>.pattern = pattern;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> Date <span class="title">convert</span><span class="params">(String source)</span> </span>&#123;<span class="comment">//2012-1-1</span></span><br><span class="line">		SimpleDateFormat dateFormat = <span class="keyword">new</span> SimpleDateFormat(pattern);</span><br><span class="line">		Date d =<span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			d = dateFormat.parse(source);</span><br><span class="line">		&#125; <span class="keyword">catch</span> (ParseException e) &#123;</span><br><span class="line">			<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> d;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>é…ç½®XML</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--é…ç½®è½¬æ¢å™¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;com.aaa.util.DateConvertor&quot;</span> <span class="attr">id</span>=<span class="string">&quot;converter&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">value</span>=<span class="string">&quot;yyyy-MM-dd&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--é…ç½®è½¬æ¢æœåŠ¡--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;conversionService&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.context.support.ConversionServiceFactoryBean&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;converters&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--ä¸ºä»€ä¹ˆä½¿ç”¨listï¼Œä¸ä½¿ç”¨set--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--listæ–¹æ³•å¯ä»¥å…è®¸é‡å¤çš„å¯¹è±¡ï¼Œè€Œsetæ–¹æ³•ä¸å…è®¸é‡å¤å¯¹è±¡--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;converter&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--å‘Šè¯‰é©±åŠ¨æ³¨è§£æœ‰conversionService--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mvc:annotation-driven</span> <span class="attr">conversion-service</span>=<span class="string">&quot;conversionService&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>å®ä½“ç±»å’Œæ§åˆ¶å±‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@RequestMapping</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyControl</span> </span>&#123;</span><br><span class="line">	<span class="meta">@RequestMapping(&quot;/pojoDate&quot;)</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">pojoDate</span><span class="params">(Student stu)</span></span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;AA&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">----------------------------------------------------------------------------------</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;<span class="comment">//ä¸éœ€è¦æ³¨è§£</span></span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">	<span class="keyword">private</span> Date birth;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h5 id="â‘£-InitBinder"><a href="#â‘£-InitBinder" class="headerlink" title="â‘£ @InitBinder"></a>â‘£ @InitBinder</h5><ul>
<li>==ä¸éœ€è¦é…ç½®xml== </li>
<li>åªè´Ÿè´£webå±‚çš„å¼€å‘ï¼Œå°±éœ€è¦åœ¨controllerä¸­åŠ å…¥æ•°æ®ç»‘å®š</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å·¥å…·ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyFormController</span> </span>&#123;</span><br><span class="line">	<span class="meta">@InitBinder</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">initBinder</span><span class="params">(WebDataBinder binder)</span></span>&#123;</span><br><span class="line">		SimpleDateFormat dateFormat = <span class="keyword">new</span> SimpleDateFormat(<span class="string">&quot;yyyy-MM-dd&quot;</span>);</span><br><span class="line">   <span class="comment">//setLenientç”¨äºè®¾ç½®Calendaræ˜¯å¦å®½æ¾è§£æå­—ç¬¦ä¸²ï¼Œå¦‚æœä¸ºfalseï¼Œåˆ™ä¸¥æ ¼è§£æï¼›é»˜è®¤ä¸ºtrueï¼Œå®½æ¾è§£æ</span></span><br><span class="line">		dateFormat.setLenient(<span class="keyword">false</span>);</span><br><span class="line">   <span class="comment">//æ³¨å†Œå³å‘Šè¯‰Springï¼Œæ³¨å†Œçš„å±æ€§ç”±æˆ‘æ¥æ³¨å…¥ï¼Œä¸ç”¨ä½ ç®¡äº†ã€‚</span></span><br><span class="line">		binder.registerCustomEditor(Date.class, <span class="keyword">new</span> CustomDateEditor(dateFormat, <span class="keyword">true</span>));</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">----------------------------------------------------------------------------------</span><br><span class="line"><span class="comment">//ç»§æ‰¿å·¥å…·ç±»</span></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@RequestMapping</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyControl</span> <span class="keyword">extends</span> <span class="title">MyFormController</span></span>&#123;</span><br><span class="line">	<span class="meta">@RequestMapping(&quot;/pojoDate&quot;)</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">pojoDate</span><span class="params">(Student stu)</span></span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;AA&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="2ã€-jsonæ—¥æœŸå¤„ç†"><a href="#2ã€-jsonæ—¥æœŸå¤„ç†" class="headerlink" title="2ã€==jsonæ—¥æœŸå¤„ç†=="></a>2ã€==jsonæ—¥æœŸå¤„ç†==</h4><h5 id="â‘ -spring-3-å’Œspring-4å¤„ç†æ–¹å¼ä¸åŒ"><a href="#â‘ -spring-3-å’Œspring-4å¤„ç†æ–¹å¼ä¸åŒ" class="headerlink" title="â‘  spring 3 å’Œspring 4å¤„ç†æ–¹å¼ä¸åŒ"></a>â‘  spring 3 å’Œspring 4å¤„ç†æ–¹å¼ä¸åŒ</h5><table>
<thead>
<tr>
<th>spring 3</th>
<th>spring 4</th>
</tr>
</thead>
<tbody><tr>
<td>==â‘  æ‹·jar==<br/>jackson-core-asl-1.9.11.jar <br/>jackson-mapper-asl-1.9.11.jar</td>
<td>==â‘  æ‹·jar==<br/>jackson-annotations-2.5.0.jar<br/>jackson-core-2.5.4.jar <br/>jackson-databind-2.5.4.jar</td>
</tr>
<tr>
<td>==â‘¡ å†™é¡µé¢æµ‹è¯•(æ³¨æ„ç”¨åˆ°äº†jquey ï¼Œéœ€è¦é…ç½®é™æ€èµ„æºæ–‡ä»¶å¤„ç†)==</td>
<td>==â‘¡ åŒå·¦ä¾§==</td>
</tr>
<tr>
<td>==â‘¢ ä½¿ç”¨@ResponseBodyè¿”å›jsonæ•°æ® ï¼ˆå¯ä»¥ç›´æ¥è¿”å›å¯¹è±¡ï¼‰==</td>
<td>==â‘¢ åŒå·¦ä¾§==</td>
</tr>
<tr>
<td>==â‘£ æ—¥æœŸè½¬æ¢ï¼ˆç‰¹æŒ‡ä»åå°ä¼ åˆ°å‰å°ï¼‰==<br/>é»˜è®¤æƒ…å†µä¸‹ json æ•°æ®ç›´æ¥è¾“å‡ºåˆ°å‰å°æ˜¯æ—¶é—´æˆ³ï¼Œ<br/>æ˜¯ä¸€ä¸ªæ•°å­— éœ€è¦åšç‰¹æ®Šå¤„ç†<br/>==ä¸€ç§æ–¹æ³•==<br/>             1ã€å†™ä¸€ä¸ªç»§æ‰¿ObjectMapperå·¥å…·ç±»<br/>             2ã€é…ç½®xml</td>
<td>==â‘£ æ—¥æœŸè½¬æ¢ï¼ˆç‰¹æŒ‡ä»åå°ä¼ åˆ°å‰å°ï¼‰==<br/>==ä¸¤ç§æ–¹æ³•==<br/>             æ–¹å¼ä¸€ ä½¿ç”¨@JsonFormat<br/>             æ–¹å¼äºŒ ä½¿ç”¨xmlé…ç½®ï¼šç›´æ¥é…ç½®ObjectMapper</td>
</tr>
</tbody></table>
<h5 id="â‘¡-é¡µé¢æµ‹è¯•ï¼šä¸‰ç§æ–¹å¼"><a href="#â‘¡-é¡µé¢æµ‹è¯•ï¼šä¸‰ç§æ–¹å¼" class="headerlink" title="â‘¡ é¡µé¢æµ‹è¯•ï¼šä¸‰ç§æ–¹å¼"></a>â‘¡ é¡µé¢æµ‹è¯•ï¼šä¸‰ç§æ–¹å¼</h5><ol>
<li>jsonå¯¹è±¡è½¬æ¢</li>
<li>æ‹¼æ¥å­—ç¬¦ä¸²</li>
<li>jsonå¯¹è±¡ï¼ˆä¸ç”¨è½¬æ¢ï¼‰</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">	$(<span class="function"><span class="keyword">function</span>(<span class="params"> </span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">		$(<span class="string">&quot;form&quot;</span>).submit(<span class="function"><span class="keyword">function</span>(<span class="params"> </span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">			<span class="comment">//ç¦æ­¢æäº¤</span></span></span><br><span class="line"><span class="javascript">			<span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="javascript">		&#125;);</span></span><br><span class="line"><span class="javascript">		$(<span class="string">&quot;input[type=&#x27;submit&#x27;]&quot;</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"> </span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> stuId=$(<span class="string">&quot;input[name=&#x27;stuId&#x27;]&quot;</span>).val();</span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> stuName=$(<span class="string">&quot;input[name=&#x27;stuName&#x27;]&quot;</span>).val();</span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> borndate=$(<span class="string">&quot;input[name=&#x27;borndate&#x27;]&quot;</span>).val();</span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> address=$(<span class="string">&quot;input[name=&#x27;address&#x27;]&quot;</span>).val();</span></span><br><span class="line"><span class="javascript">--------------------------------------------------------------------------------------</span></span><br><span class="line"><span class="javascript"><span class="string">`1ã€jsonå¯¹è±¡è½¬æ¢â€”â€”contentType`</span></span></span><br><span class="line"><span class="javascript">			<span class="comment">//æ—¥æœŸä¸éœ€è¦è½¬æ¢ï¼Œjsonå¯¹è±¡</span></span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> stu =&#123;</span></span><br><span class="line"><span class="javascript">				<span class="string">&quot;stuId&quot;</span> : stuId,</span></span><br><span class="line"><span class="javascript">				<span class="string">&quot;stuName&quot;</span> : stuName ,</span></span><br><span class="line"><span class="javascript">				<span class="string">&quot;borndate&quot;</span> : borndate, </span></span><br><span class="line"><span class="javascript">				<span class="string">&quot;address&quot;</span> :address</span></span><br><span class="line"><span class="javascript">			&#125;;			</span></span><br><span class="line"><span class="javascript">			$.ajax(&#123;</span></span><br><span class="line"><span class="javascript">				<span class="attr">type</span>: <span class="string">&quot;post&quot;</span>,</span></span><br><span class="line"><span class="javascript">                <span class="comment">//è½¬æ¢ä¸º json å­—ç¬¦ä¸²æ—¶ï¼Œå¿…é¡»æœ‰contentType</span></span></span><br><span class="line"><span class="javascript">				<span class="attr">contentType</span>:<span class="string">&quot;application/json&quot;</span>,</span></span><br><span class="line"><span class="javascript">				<span class="attr">url</span>:<span class="string">&quot;/Json/json&quot;</span>,				</span></span><br><span class="line"><span class="javascript">				<span class="comment">//ä¼ å‚ä¸å¯ä»¥ä¼ å¯¹è±¡</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">//JSON.stringify()çš„ä½œç”¨æ˜¯å°† json å¯¹è±¡è½¬æ¢ä¸º json å­—ç¬¦ä¸²</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">//è€ŒJSON.parse()å¯ä»¥å°†JSONå­—ç¬¦ä¸²è½¬ä¸ºä¸€ä¸ªå¯¹è±¡ã€‚</span></span></span><br><span class="line"><span class="javascript">				<span class="attr">data</span>: <span class="built_in">JSON</span>.stringify(stu),</span></span><br><span class="line"><span class="javascript">				<span class="attr">success</span>: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">					$(<span class="string">&quot;div&quot;</span>).html(<span class="string">&quot;ç”Ÿæ—¥: &quot;</span>+data.borndate);</span></span><br><span class="line"><span class="javascript">				&#125;</span></span><br><span class="line"><span class="javascript">			&#125;);</span></span><br><span class="line"><span class="javascript">--------------------------------------------------------------------------------------</span></span><br><span class="line"><span class="javascript"><span class="string">`2ã€æ‹¼æ¥å­—ç¬¦ä¸²`</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//æ—¥æœŸè¦è½¬æ¢</span></span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> stu =<span class="string">&quot;stuId=&quot;</span>+stuId+<span class="string">&quot;&amp;stuName=&quot;</span>+stuName+<span class="string">&quot;&amp;borndate=&quot;</span>+borndate+<span class="string">&quot; &amp;address=&quot;</span>+address;</span></span><br><span class="line"><span class="javascript">			<span class="comment">//ç›´æ¥ä¼ å¯¹è±¡ï¼Œä¼ ä¸è¿‡å»</span></span></span><br><span class="line"><span class="javascript">			$.ajax(&#123;</span></span><br><span class="line"><span class="javascript">				<span class="attr">type</span>: <span class="string">&quot;post&quot;</span>,</span></span><br><span class="line"><span class="javascript">				<span class="attr">url</span>:<span class="string">&quot;/Json/json2&quot;</span>,</span></span><br><span class="line"><span class="javascript">				<span class="attr">data</span>: stu,</span></span><br><span class="line"><span class="javascript">				<span class="attr">success</span>: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">					$(<span class="string">&quot;div&quot;</span>).html(<span class="string">&quot;ç”Ÿæ—¥: &quot;</span>+data.borndate);</span></span><br><span class="line"><span class="javascript">				&#125;</span></span><br><span class="line"><span class="javascript">			&#125;);</span></span><br><span class="line"><span class="javascript">--------------------------------------------------------------------------------------</span></span><br><span class="line"><span class="javascript"><span class="string">`3ã€jsonå¯¹è±¡ï¼ˆä¸ç”¨è½¬æ¢ï¼‰â€”â€”dataType`</span>	</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> user = &#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">id</span> : id,</span></span><br><span class="line"><span class="javascript">                <span class="attr">birthDay</span> : birthDay,</span></span><br><span class="line"><span class="javascript">                <span class="attr">name</span> : name</span></span><br><span class="line"><span class="javascript">            &#125;;</span></span><br><span class="line"><span class="javascript">            $.ajax(&#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">url</span> : <span class="string">&quot;json3&quot;</span>,</span></span><br><span class="line"><span class="javascript">                <span class="attr">method</span>:<span class="string">&quot;post&quot;</span>,</span></span><br><span class="line"><span class="javascript">                <span class="comment">//contentType:&quot;application/json&quot;,</span></span></span><br><span class="line"><span class="javascript">                <span class="attr">data</span> : user,</span></span><br><span class="line"><span class="javascript">                <span class="comment">//dataTypeå€¼å¦‚æœä¸º&#x27;json&#x27;</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">//jqueryå°±ä¼šæŠŠåç«¯è¿”å›çš„å­—ç¬¦ä¸²å°è¯•é€šè¿‡JSON.parse()å°è¯•è§£æä¸ºjså¯¹è±¡ã€‚</span></span></span><br><span class="line"><span class="javascript">                <span class="attr">dataType</span> : <span class="string">&quot;json&quot;</span>,</span></span><br><span class="line"><span class="javascript">                <span class="attr">success</span> : <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                    $(<span class="string">&quot;div&quot;</span>).html(data.birthDay);</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;);</span></span><br><span class="line"><span class="javascript">--------------------------------------------------------------------------------------</span></span><br><span class="line"><span class="javascript">		&#125;);</span></span><br><span class="line"><span class="javascript">	&#125;);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">		å­¦å·: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;stuId&quot;</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span> </span><br><span class="line">		å§“å: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;stuName&quot;</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span> </span><br><span class="line">		ç”Ÿæ—¥: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;borndate&quot;</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">		åœ°å€: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;address&quot;</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span> </span><br><span class="line">		<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æäº¤&quot;</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="â‘¢-Controller"><a href="#â‘¢-Controller" class="headerlink" title="â‘¢ Controller"></a>â‘¢ Controller</h5><ul>
<li><p>ä½¿ç”¨@ResponseBodyè¿”å›jsonæ•°æ®</p>
</li>
<li><p>ä¸ä¸Šé¢çš„<strong>é¡µé¢æµ‹è¯•</strong>ç›¸å¯¹åº”ï¼šä¸‰ç§æ–¹å¼</p>
</li>
</ul>
<ol>
<li><p>jsonå¯¹è±¡è½¬æ¢</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@RequestMapping</span>(&quot;/json&quot;)</span><br><span class="line">public @ResponseBody Student getMsg(@RequestBody Student stu)&#123;</span><br><span class="line">    System<span class="selector-class">.out</span><span class="selector-class">.println</span>(stu);</span><br><span class="line">    return stu;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>æ‹¼æ¥å­—ç¬¦ä¸²</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@RequestMapping</span>(&quot;/json2&quot;)</span><br><span class="line">public @ResponseBody Student getMsg2(Student stu)&#123;</span><br><span class="line">    System<span class="selector-class">.out</span><span class="selector-class">.println</span>(stu);</span><br><span class="line">    return stu;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure></li>
<li><p>jsonå¯¹è±¡ï¼ˆä¸ç”¨è½¬æ¢ï¼‰</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@RequestMapping</span>(&quot;/json3&quot;)</span><br><span class="line">public @ResponseBody User json(User user) &#123;</span><br><span class="line">    return user;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h5 id="â‘£-spring3æ—¥æœŸè½¬æ¢-ä¸€ç§"><a href="#â‘£-spring3æ—¥æœŸè½¬æ¢-ä¸€ç§" class="headerlink" title="â‘£ spring3æ—¥æœŸè½¬æ¢:ä¸€ç§"></a>â‘£ spring3æ—¥æœŸè½¬æ¢:ä¸€ç§</h5><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*1ã€ç»§æ‰¿ObjectMapperå·¥å…·ç±»</span></span><br><span class="line"><span class="comment">handlerå¾€é¡µé¢é»˜è®¤ä¼ çš„æ˜¯æ—¶é—´æˆ³,æ€ä¹ˆå¤„ç†æ—¥æœŸ</span></span><br><span class="line"><span class="comment">jsonæ—¥æœŸå¤„ç†*/</span></span><br><span class="line">public class CustomDateConverter extends ObjectMapper &#123;</span><br><span class="line">	private String pattrn;</span><br><span class="line">	public void setPattrn(String pattrn) &#123;</span><br><span class="line">		this<span class="selector-class">.pattrn</span> = pattrn;</span><br><span class="line">	&#125;</span><br><span class="line">	public CustomDateConverter()&#123;</span><br><span class="line">		CustomSerializerFactory factory = new CustomSerializerFactory();</span><br><span class="line">		factory<span class="selector-class">.addGenericMapping</span>(Date<span class="selector-class">.class</span>, new JsonSerializer&lt;Date&gt;()&#123;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">@Override</span></span><br><span class="line">			public void serialize(Date value, JsonGenerator jsonGenerator,</span><br><span class="line">                SerializerProvider provider) throws Exception &#123;</span><br><span class="line">                SimpleDateFormat sdf = new SimpleDateFormat(pattrn);</span><br><span class="line">                jsonGenerator<span class="selector-class">.writeString</span>(sdf<span class="selector-class">.format</span>(value));</span><br><span class="line">            &#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		this<span class="selector-class">.setSerializerFactory</span>(factory);</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">--------------------------------------------------------------------------------------</span><br><span class="line"><span class="comment">/*2ã€é…ç½®xml</span></span><br><span class="line"><span class="comment">jsonæ—¥æœŸå¤„ç†*/</span></span><br><span class="line">&lt;bean class=&quot;com<span class="selector-class">.aaa</span><span class="selector-class">.util</span><span class="selector-class">.CustomDateConverter</span>&quot; id=&quot;customDateConverter&quot;&gt;</span><br><span class="line">    &lt;property name=&quot;pattrn&quot; value=&quot;yyyyå¹´MMæœˆ<span class="selector-tag">dd</span>æ—¥ &quot;/&gt;</span><br><span class="line">&lt;/bean&gt;</span><br><span class="line">&lt;mvc:annotation-driven&gt;</span><br><span class="line">    &lt;mvc:message-converters&gt;</span><br><span class="line">        &lt;bean class=<span class="string">&quot;org.springframework.http.converter.json.MappingJacksonHttpMessageConverter&quot;</span>&gt;</span><br><span class="line">            &lt;property name=<span class="string">&quot;objectMapper&quot;</span> ref=<span class="string">&quot;customDateConverter&quot;</span>/&gt;</span><br><span class="line">        &lt;/bean&gt;</span><br><span class="line">    &lt;/mvc:message-converters&gt;</span><br><span class="line">&lt;/mvc:annotation-driven&gt;</span><br></pre></td></tr></table></figure>

<h5 id="â‘¤-spring4æ—¥æœŸè½¬æ¢-ä¸¤ç§"><a href="#â‘¤-spring4æ—¥æœŸè½¬æ¢-ä¸¤ç§" class="headerlink" title="â‘¤ spring4æ—¥æœŸè½¬æ¢:ä¸¤ç§"></a>â‘¤ spring4æ—¥æœŸè½¬æ¢:ä¸¤ç§</h5><ol>
<li>æ–¹å¼ä¸€ ä½¿ç”¨@JsonFormat<ul>
<li>æ³¨è§£<code>@JsonFormat</code>ä¸»è¦æ˜¯==åå°åˆ°å‰å°==çš„æ—¶é—´æ ¼å¼çš„è½¬æ¢</li>
<li>æ³¨è§£<code>@DataFormAT</code>ä¸»è¦æ˜¯==å‰ååˆ°åå°==çš„æ—¶é—´æ ¼å¼çš„è½¬æ¢</li>
</ul>
</li>
</ol>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@JsonFormat</span>(pattern=&quot;yyyy-MM-dd&quot;) </span><br></pre></td></tr></table></figure>

<ol start="2">
<li>æ–¹å¼äºŒ ä½¿ç”¨xmlé…ç½®</li>
</ol>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;mvc:annotation-driven&gt;</span><br><span class="line">   &lt;mvc:message-converters&gt;</span><br><span class="line">       &lt;bean  class=<span class="string">&quot;org.springframework.http.converter.json.MappingJackson2HttpMessageConverter&quot;</span>&gt;</span><br><span class="line">           &lt;property name=<span class="string">&quot;objectMapper&quot;</span>&gt;</span><br><span class="line">				//å°±åƒå·¥å…·ç±»</span><br><span class="line">               &lt;bean class=<span class="string">&quot;com.fasterxml.jackson.databind.ObjectMapper&quot;</span>&gt;</span><br><span class="line">                   &lt;property name=<span class="string">&quot;dateFormat&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">                       &lt;bean class=<span class="string">&quot;java.text.SimpleDateFormat&quot;</span>&gt;</span><br><span class="line">                          &lt;constructor-arg type=<span class="string">&quot;java.lang.String&quot;</span> </span><br><span class="line">								value=<span class="string">&quot;yyyy-MM-dd&quot;</span>/&gt;</span><br><span class="line">                       &lt;/bean&gt;</span><br><span class="line">                   &lt;/property&gt;</span><br><span class="line">               &lt;/bean&gt;</span><br><span class="line">           &lt;/property&gt;</span><br><span class="line">       &lt;/bean&gt;</span><br><span class="line">   &lt;/mvc:message-converters&gt;</span><br><span class="line">&lt;/mvc:annotation-driven&gt;</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="ä¸€ã€-Controller"><a href="#ä¸€ã€-Controller" class="headerlink" title="ä¸€ã€ Controller"></a>ä¸€ã€ Controller</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/json3&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">json3</span><span class="params">()</span> <span class="keyword">throws</span> JsonProcessingException </span>&#123;</span><br><span class="line"></span><br><span class="line">    ObjectMapper mapper = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆ›å»ºæ—¶é—´ä¸€ä¸ªå¯¹è±¡ï¼Œjava.util.Date</span></span><br><span class="line">    Date date = <span class="keyword">new</span> Date();</span><br><span class="line">    <span class="comment">//å°†æˆ‘ä»¬çš„å¯¹è±¡è§£ææˆä¸ºjsonæ ¼å¼</span></span><br><span class="line">    String str = mapper.writeValueAsString(date);</span><br><span class="line">    <span class="keyword">return</span> str;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœ :</p>
<ul>
<li>é»˜è®¤æ—¥æœŸæ ¼å¼ä¼šå˜æˆä¸€ä¸ªæ•°å­—ï¼Œæ˜¯1970å¹´1æœˆ1æ—¥åˆ°å½“å‰æ—¥æœŸçš„æ¯«ç§’æ•°ï¼</li>
<li><strong>Jackson é»˜è®¤æ˜¯ä¼šæŠŠæ—¶é—´è½¬æˆtimestampsæ—¶é—´æˆ³å½¢å¼</strong></li>
</ul>
<h5 id="äºŒã€-è‡ªå®šä¹‰æ—¶é—´æ ¼å¼"><a href="#äºŒã€-è‡ªå®šä¹‰æ—¶é—´æ ¼å¼" class="headerlink" title="==äºŒã€ è‡ªå®šä¹‰æ—¶é—´æ ¼å¼=="></a>==äºŒã€ è‡ªå®šä¹‰æ—¶é—´æ ¼å¼==</h5><ul>
<li>å–æ¶ˆtimestampså½¢å¼ ï¼Œ è‡ªå®šä¹‰æ—¶é—´æ ¼å¼</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/json4&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">json4</span><span class="params">()</span> <span class="keyword">throws</span> JsonProcessingException </span>&#123;</span><br><span class="line"></span><br><span class="line">    ObjectMapper mapper = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ä¸ä½¿ç”¨æ—¶é—´æˆ³çš„æ–¹å¼ï¼šå»æ‰mapperä½¿ç”¨æ—¶é—´æˆ³çš„æ–¹å¼</span></span><br><span class="line">    mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, <span class="keyword">false</span>);</span><br><span class="line">    <span class="comment">//è‡ªå®šä¹‰æ—¥æœŸæ ¼å¼å¯¹è±¡</span></span><br><span class="line">    SimpleDateFormat sdf = <span class="keyword">new</span> SimpleDateFormat(<span class="string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>);</span><br><span class="line">    <span class="comment">//æŒ‡å®šæ—¥æœŸæ ¼å¼</span></span><br><span class="line">    mapper.setDateFormat(sdf);</span><br><span class="line"></span><br><span class="line">    Date date = <span class="keyword">new</span> Date();</span><br><span class="line">    String str = mapper.writeValueAsString(date);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> str;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœ : æˆåŠŸçš„è¾“å‡ºäº†æ—¶é—´ï¼</p>
<h3 id="7-7-è‡ªå®šä¹‰æ—¶é—´å·¥å…·ç±»"><a href="#7-7-è‡ªå®šä¹‰æ—¶é—´å·¥å…·ç±»" class="headerlink" title="7.7  è‡ªå®šä¹‰æ—¶é—´å·¥å…·ç±»"></a>7.7  è‡ªå®šä¹‰æ—¶é—´å·¥å…·ç±»</h3><h4 id="â‘ -åˆ›å»º-ObjectMapper-å¯¹è±¡"><a href="#â‘ -åˆ›å»º-ObjectMapper-å¯¹è±¡" class="headerlink" title="â‘  åˆ›å»º ObjectMapper å¯¹è±¡"></a>â‘  åˆ›å»º ObjectMapper å¯¹è±¡</h4><ul>
<li>å¦‚æœè¦ç»å¸¸ä½¿ç”¨çš„è¯ï¼Œè¿™æ ·æ˜¯æ¯”è¾ƒéº»çƒ¦çš„ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™äº›ä»£ç å°è£…åˆ°ä¸€ä¸ªå·¥å…·ç±»ä¸­ï¼›</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//é‡è½½æ–¹å¼</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JsonUtils</span> </span>&#123;</span><br><span class="line">    <span class="comment">//å›ºå®šçš„æ—¶é—´æ ¼å¼</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">getJson</span><span class="params">(Object object)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> getJson(object,<span class="string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="comment">//è‡ªå®šä¹‰çš„æ—¶é—´æ ¼å¼</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">getJson</span><span class="params">(Object object,String dateFormat)</span> </span>&#123;</span><br><span class="line">        ObjectMapper mapper = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line">        <span class="comment">//ä¸ä½¿ç”¨æ—¶é—´å·®çš„æ–¹å¼</span></span><br><span class="line">        mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, <span class="keyword">false</span>);</span><br><span class="line">        <span class="comment">//è‡ªå®šä¹‰æ—¥æœŸæ ¼å¼å¯¹è±¡</span></span><br><span class="line">        SimpleDateFormat sdf = <span class="keyword">new</span> SimpleDateFormat(dateFormat);</span><br><span class="line">        <span class="comment">//æŒ‡å®šæ—¥æœŸæ ¼å¼</span></span><br><span class="line">        mapper.setDateFormat(sdf);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> mapper.writeValueAsString(object);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (JsonProcessingException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>==è°ƒç”¨å·¥å…·ç±»ï¼Œä¸éœ€è¦é…ç½®xml==</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/json5&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">json5</span><span class="params">()</span> <span class="keyword">throws</span> JsonProcessingException </span>&#123;</span><br><span class="line">    Date date = <span class="keyword">new</span> Date();</span><br><span class="line">    ---------------------------------------</span><br><span class="line">    String json = JsonUtils.getJson(date);</span><br><span class="line">    ---------------------------------------</span><br><span class="line">    <span class="keyword">return</span> json;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="â‘¡-ç»§æ‰¿ObjectMapper"><a href="#â‘¡-ç»§æ‰¿ObjectMapper" class="headerlink" title="â‘¡ ç»§æ‰¿ObjectMapper"></a>â‘¡ ç»§æ‰¿ObjectMapper</h4><ul>
<li>==ä¸éœ€è¦è°ƒç”¨å·¥å…·ç±»ï¼Œéœ€è¦é…ç½®xml==</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//handlerå¾€é¡µé¢é»˜è®¤ä¼ çš„æ˜¯æ—¶é—´æˆ³,æ€ä¹ˆå¤„ç†æ—¥æœŸ</span></span><br><span class="line"><span class="comment">//jsonæ—¥æœŸå¤„ç†</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CustomDateConverter</span> <span class="keyword">extends</span> <span class="title">ObjectMapper</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> String pattrn;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPattrn</span><span class="params">(String pattrn)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.pattrn = pattrn;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">CustomDateConverter</span><span class="params">()</span></span>&#123;</span><br><span class="line">		CustomSerializerFactory factory = <span class="keyword">new</span> CustomSerializerFactory();</span><br><span class="line">		<span class="comment">//Class type, JsonSerializer ser</span></span><br><span class="line">		factory.addGenericMapping(Date.class, <span class="keyword">new</span> JsonSerializer&lt;Date&gt;()&#123;</span><br><span class="line">			<span class="meta">@Override</span></span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">serialize</span><span class="params">(Date arg0, JsonGenerator arg1,</span></span></span><br><span class="line"><span class="params"><span class="function">					SerializerProvider arg2)</span> <span class="keyword">throws</span> IOException,</span></span><br><span class="line"><span class="function">					JsonProcessingException </span>&#123;</span><br><span class="line">				SimpleDateFormat sd = <span class="keyword">new</span> SimpleDateFormat(pattrn);</span><br><span class="line">				arg1.writeString(sd.format(arg0));</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		<span class="keyword">this</span>.setSerializerFactory(factory);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">--------------------------------------------------------------------------------------</span><br><span class="line"><span class="comment">//æ³¨å†Œ</span></span><br><span class="line">&lt;bean <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;com.aaa.util.CustomDateConverter&quot;</span> id=<span class="string">&quot;customDateConverter&quot;</span>&gt;</span><br><span class="line">    &lt;property name=<span class="string">&quot;pattrn&quot;</span> value=<span class="string">&quot;yyyyå¹´MMæœˆddæ—¥ &quot;</span>/&gt;</span><br><span class="line">&lt;/bean&gt;</span><br><span class="line"><span class="comment">//å‘Šè¯‰æ³¨è§£é©±åŠ¨</span></span><br><span class="line">&lt;mvc:annotation-driven&gt;</span><br><span class="line">    &lt;mvc:message-converters&gt;</span><br><span class="line">        &lt;bean <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;org.springframework.http.converter.json.MappingJacksonHttpMessageConverter&quot;</span>&gt;</span><br><span class="line">            &lt;property name=<span class="string">&quot;objectMapper&quot;</span> ref=<span class="string">&quot;customDateConverter&quot;</span>/&gt;</span><br><span class="line">        &lt;/bean&gt;</span><br><span class="line">    &lt;/mvc:message-converters&gt;</span><br><span class="line">&lt;/mvc:annotation-driven&gt;</span><br></pre></td></tr></table></figure>



<h3 id="7-8-FastJson"><a href="#7-8-FastJson" class="headerlink" title="7.8  FastJson"></a>7.8  FastJson</h3><p>â€‹     fastjson.jaræ˜¯é˜¿é‡Œå¼€å‘çš„ä¸€æ¬¾ä¸“é—¨ç”¨äºJavaå¼€å‘çš„åŒ…ï¼Œå¯ä»¥æ–¹ä¾¿çš„å®ç°jsonå¯¹è±¡ä¸JavaBeanå¯¹è±¡çš„è½¬æ¢ï¼Œå®ç°JavaBeanå¯¹è±¡ä¸jsonå­—ç¬¦ä¸²çš„è½¬æ¢ï¼Œå®ç°jsonå¯¹è±¡ä¸jsonå­—ç¬¦ä¸²çš„è½¬æ¢ã€‚å®ç°jsonçš„è½¬æ¢æ–¹æ³•å¾ˆå¤šï¼Œæœ€åçš„å®ç°ç»“æœéƒ½æ˜¯ä¸€æ ·çš„ã€‚</p>
<p>fastjson çš„ pomä¾èµ–ï¼</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>fastjson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.60<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>fastjson ä¸‰ä¸ªä¸»è¦çš„ç±»ï¼š</p>
<ul>
<li>ã€JSONObject  ä»£è¡¨ json å¯¹è±¡ ã€‘<ul>
<li>JSONObjectå®ç°äº†Mapæ¥å£, çŒœæƒ³ JSONObjectåº•å±‚æ“ä½œæ˜¯ç”±Mapå®ç°çš„ã€‚</li>
<li>JSONObjectå¯¹åº”jsonå¯¹è±¡ï¼Œé€šè¿‡å„ç§å½¢å¼çš„get()æ–¹æ³•å¯ä»¥è·å–jsonå¯¹è±¡ä¸­çš„æ•°æ®ï¼Œä¹Ÿå¯åˆ©ç”¨è¯¸å¦‚size()ï¼ŒisEmpty()ç­‰æ–¹æ³•è·å–â€é”®ï¼šå€¼â€å¯¹çš„ä¸ªæ•°å’Œåˆ¤æ–­æ˜¯å¦ä¸ºç©ºã€‚å…¶æœ¬è´¨æ˜¯é€šè¿‡å®ç°Mapæ¥å£å¹¶è°ƒç”¨æ¥å£ä¸­çš„æ–¹æ³•å®Œæˆçš„ã€‚</li>
</ul>
</li>
<li>ã€JSONArray   ä»£è¡¨ json å¯¹è±¡æ•°ç»„ã€‘<ul>
<li>å†…éƒ¨æ˜¯æœ‰Listæ¥å£ä¸­çš„æ–¹æ³•æ¥å®Œæˆæ“ä½œçš„ã€‚</li>
</ul>
</li>
<li>ã€JSON  ä»£è¡¨ JSONObjectå’ŒJSONArrayçš„è½¬åŒ–ã€‘<ul>
<li>JSONç±»æºç åˆ†æä¸ä½¿ç”¨</li>
<li>ä»”ç»†è§‚å¯Ÿè¿™äº›æ–¹æ³•ï¼Œä¸»è¦æ˜¯å®ç°jsonå¯¹è±¡ï¼Œjsonå¯¹è±¡æ•°ç»„ï¼Œjavabeanå¯¹è±¡ï¼Œjsonå­—ç¬¦ä¸²ä¹‹é—´çš„ç›¸äº’è½¬åŒ–ã€‚</li>
</ul>
</li>
</ul>
<p><strong>ä»£ç æµ‹è¯•ï¼Œæˆ‘ä»¬æ–°å»ºä¸€ä¸ªFastJsonDemo ç±»</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FastJsonDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//åˆ›å»ºä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line">        User user1 = <span class="keyword">new</span> User(<span class="string">&quot;ç§¦ç–†1å·&quot;</span>, <span class="number">3</span>, <span class="string">&quot;ç”·&quot;</span>);</span><br><span class="line">        User user2 = <span class="keyword">new</span> User(<span class="string">&quot;ç§¦ç–†2å·&quot;</span>, <span class="number">3</span>, <span class="string">&quot;ç”·&quot;</span>);</span><br><span class="line">        User user3 = <span class="keyword">new</span> User(<span class="string">&quot;ç§¦ç–†3å·&quot;</span>, <span class="number">3</span>, <span class="string">&quot;ç”·&quot;</span>);</span><br><span class="line">        User user4 = <span class="keyword">new</span> User(<span class="string">&quot;ç§¦ç–†4å·&quot;</span>, <span class="number">3</span>, <span class="string">&quot;ç”·&quot;</span>);</span><br><span class="line">        List&lt;User&gt; list = <span class="keyword">new</span> ArrayList&lt;User&gt;();</span><br><span class="line">        list.add(user1);</span><br><span class="line">        list.add(user2);</span><br><span class="line">        list.add(user3);</span><br><span class="line">        list.add(user4);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;*******Javaå¯¹è±¡ è½¬ JSONå­—ç¬¦ä¸²*******&quot;</span>);</span><br><span class="line">        String str1 = JSON.toJSONString(list);</span><br><span class="line">        System.out.println(<span class="string">&quot;JSON.toJSONString(list)==&gt;&quot;</span>+str1);</span><br><span class="line">        String str2 = JSON.toJSONString(user1);</span><br><span class="line">        System.out.println(<span class="string">&quot;JSON.toJSONString(user1)==&gt;&quot;</span>+str2);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;\n****** JSONå­—ç¬¦ä¸² è½¬ Javaå¯¹è±¡*******&quot;</span>);</span><br><span class="line">        User jp_user1=JSON.parseObject(str2,User.class);</span><br><span class="line">        System.out.println(<span class="string">&quot;JSON.parseObject(str2,User.class)==&gt;&quot;</span>+jp_user1);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;\n****** Javaå¯¹è±¡ è½¬ JSONå¯¹è±¡ ******&quot;</span>);</span><br><span class="line">        JSONObject jsonObject1 = (JSONObject) JSON.toJSON(user2);</span><br><span class="line">        System.out.println(<span class="string">&quot;(JSONObject) JSON.toJSON(user2)==&gt;&quot;</span>+jsonObject1.getString(<span class="string">&quot;name&quot;</span>));</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;\n****** JSONå¯¹è±¡ è½¬ Javaå¯¹è±¡ ******&quot;</span>);</span><br><span class="line">        User to_java_user = JSON.toJavaObject(jsonObject1, User.class);</span><br><span class="line">        System.out.println(<span class="string">&quot;JSON.toJavaObject(jsonObject1, User.class)==&gt;&quot;</span>+to_java_user);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ç§å·¥å…·ç±»ï¼Œæˆ‘ä»¬åªéœ€è¦æŒæ¡ä½¿ç”¨å°±å¥½äº†ï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™åœ¨æ ¹æ®å…·ä½“çš„ä¸šåŠ¡å»æ‰¾å¯¹åº”çš„å®ç°ã€‚å’Œä»¥å‰çš„commons-ioé‚£ç§å·¥å…·åŒ…ä¸€æ ·ï¼Œæ‹¿æ¥ç”¨å°±å¥½äº†ï¼</p>
<h3 id="7-9-ResponseBody-å’Œ-RequestBody-çš„ä½œç”¨"><a href="#7-9-ResponseBody-å’Œ-RequestBody-çš„ä½œç”¨" class="headerlink" title="7.9 @ResponseBody å’Œ @RequestBody çš„ä½œç”¨"></a>7.9 @ResponseBody å’Œ @RequestBody çš„ä½œç”¨</h3><ul>
<li><p>@RequestMapping(â€œurlâ€)</p>
<ul>
<li>è¿™é‡Œçš„ urlå†™çš„æ˜¯è¯·æ±‚è·¯å¾„çš„ä¸€éƒ¨åˆ†ï¼Œä¸€èˆ¬ä½œç”¨åœ¨ Controllerçš„æ–¹æ³•ä¸Šï¼Œä½œä¸ºè¯·æ±‚çš„æ˜ å°„åœ°å€ã€‚</li>
</ul>
</li>
<li><p>@ResponseBody</p>
<ul>
<li>ä½œç”¨åœ¨==æ–¹æ³•æˆ–æœ‰è¿”å›å€¼==ä¸Šï¼Œè¡¨ç¤ºè¯¥==æ–¹æ³•çš„è¿”å›ç»“æœ==ç›´æ¥å†™å…¥ HTTP response body ä¸­</li>
<li>ä¸€èˆ¬åœ¨==å¼‚æ­¥è·å–æ•°æ®==æ—¶ä½¿ç”¨ã€ä¹Ÿå°±æ˜¯AJAXã€‘</li>
<li>åœ¨ä½¿ç”¨ @RequestMapping åï¼Œè¿”å›å€¼é€šå¸¸è§£æä¸ºè·³è½¬è·¯å¾„</li>
<li>ä½†æ˜¯åŠ ä¸Š @ResponseBody åè¿”å›ç»“æœä¸ä¼šè¢«è§£æä¸ºè·³è½¬è·¯å¾„ï¼Œè€Œæ˜¯ç›´æ¥å†™å…¥ HTTP response body ä¸­ã€‚</li>
<li><strong>æ¯”å¦‚å¼‚æ­¥è·å– json æ•°æ®ï¼ŒåŠ ä¸Š @ResponseBody åï¼Œä¼šç›´æ¥è¿”å› json æ•°æ®ã€‚</strong></li>
</ul>
</li>
<li><p>@RequestBody</p>
<ul>
<li>å®ƒæ˜¯ä½œç”¨åœ¨==å½¢å‚==åˆ—è¡¨ä¸Šï¼Œ</li>
<li>ç”¨äºå°†==å‰å°å‘é€è¿‡æ¥å›ºå®šæ ¼å¼çš„æ•°æ®==ã€xml æ ¼å¼æˆ–è€… jsonç­‰ã€‘å°è£…ä¸ºå¯¹åº”çš„ <strong>JavaBean å¯¹è±¡</strong></li>
<li>å°è£…æ—¶ä½¿ç”¨åˆ°çš„ä¸€ä¸ªå¯¹è±¡æ˜¯ç³»ç»Ÿé»˜è®¤é…ç½®çš„ HttpMessageConverterè¿›è¡Œè§£æï¼Œç„¶åå°è£…åˆ°å½¢å‚ä¸Šã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*æœ‰è¿”å›å€¼ä¸Š*/</span></span><br><span class="line"><span class="keyword">@RequestMapping</span>(&quot;/json&quot;)</span><br><span class="line">public @ResponseBody Student getMsg(@RequestBody Student stu)&#123;</span><br><span class="line">    System<span class="selector-class">.out</span><span class="selector-class">.println</span>(stu);</span><br><span class="line">    return stu;</span><br><span class="line">&#125;</span><br><span class="line">--------------------------------------------------------------------------------------</span><br><span class="line"><span class="comment">/*æœ‰è¿”å›å€¼ä¸Š*/</span></span><br><span class="line"><span class="keyword">@RequestMapping</span>(&quot;/json&quot;)</span><br><span class="line">public @ResponseBody Student getMsg(Student stu)&#123;</span><br><span class="line">    System<span class="selector-class">.out</span><span class="selector-class">.println</span>(stu);</span><br><span class="line">    return stu;</span><br><span class="line">&#125;</span><br><span class="line">--------------------------------------------------------------------------------------</span><br><span class="line"><span class="comment">/*æ–¹æ³•ä¸Š*/</span></span><br><span class="line"><span class="keyword">@RequestMapping</span>(&quot;/json&quot;)</span><br><span class="line">@ResponseBody  </span><br><span class="line">public Student getMsg(Student stu)&#123;</span><br><span class="line">    System<span class="selector-class">.out</span><span class="selector-class">.println</span>(stu);</span><br><span class="line">    return stu;</span><br><span class="line">&#125;</span><br><span class="line">--------------------------------------------------------------------------------------</span><br><span class="line"><span class="comment">/*ç±»ä¸Šä½¿ç”¨RestControllerã€7.4ã€‘*/</span></span><br><span class="line"><span class="keyword">@RestController</span></span><br><span class="line">@RequestMapping</span><br><span class="line">public class MyControl&#123;&#125;</span><br></pre></td></tr></table></figure>

<h2 id="8-æ•´åˆSSM"><a href="#8-æ•´åˆSSM" class="headerlink" title="8 æ•´åˆSSM"></a>8 æ•´åˆSSM</h2><h3 id="8-1-æ•´åˆçš„æ€è·¯"><a href="#8-1-æ•´åˆçš„æ€è·¯" class="headerlink" title="8.1 æ•´åˆçš„æ€è·¯"></a>8.1 æ•´åˆçš„æ€è·¯</h3><img src="SpringMVC.assets/1586921554980.png" alt="1586921554980" style="zoom: 50%;float:left" / loading="lazy">

<h4 id="â‘ -spirngä¸mybatisæ•´åˆ"><a href="#â‘ -spirngä¸mybatisæ•´åˆ" class="headerlink" title="â‘  spirngä¸mybatisæ•´åˆ"></a>â‘  spirngä¸mybatisæ•´åˆ</h4><ul>
<li>mapper å’Œæ˜ å°„æ–‡ä»¶ï¼Œæ•°æ®æºäº¤ç»™springç®¡ç†</li>
<li>==springä¸mybatisæ•´åˆï¼Œjarçš„ç±»æ¥ç®¡ç†==</li>
<li>åˆ›å»ºmapperå¯¹è±¡</li>
</ul>
<h4 id="â‘¡springä¸serviceæ•´åˆ"><a href="#â‘¡springä¸serviceæ•´åˆ" class="headerlink" title="â‘¡springä¸serviceæ•´åˆ"></a>â‘¡springä¸serviceæ•´åˆ</h4><ul>
<li>serviceå¯¹è±¡äº¤ç»™springç®¡ç†ï¼šæ‰«æserviceåŒ…</li>
<li>åˆ›å»ºserviceå¯¹è±¡</li>
<li>serviceå¯ä»¥è°ƒç”¨mapperå¯¹è±¡ </li>
<li>serviceå±‚è¦ä½¿ç”¨springçš„å£°æ˜å¼äº‹åŠ¡</li>
</ul>
<h4 id="â‘¢springä¸springmvcæ•´åˆ"><a href="#â‘¢springä¸springmvcæ•´åˆ" class="headerlink" title="â‘¢springä¸springmvcæ•´åˆ"></a>â‘¢springä¸springmvcæ•´åˆ</h4><ul>
<li>æ— ç¼æ•´åˆ</li>
<li>handleräº¤ç»™springç®¡ç†</li>
<li>handlerå¯¹è±¡å¯ä»¥è°ƒç”¨serviceå¯¹è±¡</li>
</ul>
<h3 id="8-2-æ•°æ®åº“ç¯å¢ƒ"><a href="#8-2-æ•°æ®åº“ç¯å¢ƒ" class="headerlink" title="8.2  æ•°æ®åº“ç¯å¢ƒ"></a>8.2  æ•°æ®åº“ç¯å¢ƒ</h3><p>åˆ›å»ºä¸€ä¸ªå­˜æ”¾ä¹¦ç±æ•°æ®çš„æ•°æ®åº“è¡¨</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE `ssmbuild`;</span><br><span class="line">USE `ssmbuild`;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `books`;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `books` (</span><br><span class="line">  `bookID` <span class="type">INT</span>(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;ä¹¦id&#x27;</span>,</span><br><span class="line">  `bookName` <span class="type">VARCHAR</span>(<span class="number">100</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;ä¹¦å&#x27;</span>,</span><br><span class="line">  `bookCounts` <span class="type">INT</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;æ•°é‡&#x27;</span>,</span><br><span class="line">  `detai  l` <span class="type">VARCHAR</span>(<span class="number">200</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;æè¿°&#x27;</span>,</span><br><span class="line">  KEY `bookID` (`bookID`)</span><br><span class="line">) ENGINE<span class="operator">=</span>INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8</span><br><span class="line"><span class="keyword">INSERT</span>  <span class="keyword">INTO</span> `books`(`bookID`,`bookName`,`bookCounts`,`detail`)<span class="keyword">VALUES</span> </span><br><span class="line">(<span class="number">1</span>,<span class="string">&#x27;Java&#x27;</span>,<span class="number">1</span>,<span class="string">&#x27;ä»å…¥é—¨åˆ°æ”¾å¼ƒ&#x27;</span>),</span><br><span class="line">(<span class="number">2</span>,<span class="string">&#x27;MySQL&#x27;</span>,<span class="number">10</span>,<span class="string">&#x27;ä»åˆ åº“åˆ°è·‘è·¯&#x27;</span>),</span><br><span class="line">(<span class="number">3</span>,<span class="string">&#x27;Linux&#x27;</span>,<span class="number">5</span>,<span class="string">&#x27;ä»è¿›é—¨åˆ°è¿›ç‰¢&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="8-3-åŸºæœ¬ç¯å¢ƒæ­å»º"><a href="#8-3-åŸºæœ¬ç¯å¢ƒæ­å»º" class="headerlink" title="8.3  åŸºæœ¬ç¯å¢ƒæ­å»º"></a>8.3  åŸºæœ¬ç¯å¢ƒæ­å»º</h3><h4 id="ä¸€ã€æ­å»ºæ¡†æ¶"><a href="#ä¸€ã€æ­å»ºæ¡†æ¶" class="headerlink" title="ä¸€ã€æ­å»ºæ¡†æ¶"></a>ä¸€ã€æ­å»ºæ¡†æ¶</h4><h5 id="â‘ æ‹·jar"><a href="#â‘ æ‹·jar" class="headerlink" title="â‘ æ‹·jar"></a>â‘ æ‹·jar</h5><ol>
<li><p>æ•°æ®åº“çš„jar</p>
<ul>
<li><p>æ•°æ®åº“é©±åŠ¨jar</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ojdbc14<span class="selector-class">.jar</span></span><br></pre></td></tr></table></figure></li>
<li><p>è¿æ¥æ± jar</p>
<ul>
<li><p>c3p0</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">c3p0-<span class="number">0.9</span>.<span class="number">5.2</span><span class="selector-class">.jar</span></span><br><span class="line">mchange-commons-java-<span class="number">0.2</span>.<span class="number">11</span><span class="selector-class">.jar</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>dbcp</p>
  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">commons-dbcp-<span class="number">1.2</span>.<span class="number">1</span><span class="selector-class">.jar</span></span><br><span class="line">commons-pool-<span class="number">1.2</span><span class="selector-class">.jar</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>mybatisçš„jar</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>og4j-<span class="number">1.2</span>.<span class="number">17</span><span class="selector-class">.jar</span> </span><br><span class="line">mybatis-<span class="number">3.4</span>.<span class="number">2</span><span class="selector-class">.jar</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>æ‡’åŠ è½½</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">asm-<span class="number">3.3</span>.<span class="number">1</span><span class="selector-class">.jar</span></span><br><span class="line">cglib-<span class="number">2.2</span>.<span class="number">2</span><span class="selector-class">.jar</span> </span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>springçš„15ä¸ªjar</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">com<span class="selector-class">.springsource</span><span class="selector-class">.net</span><span class="selector-class">.sf</span><span class="selector-class">.cglib-2</span>.<span class="number">2.0</span><span class="selector-class">.jar</span></span><br><span class="line">com<span class="selector-class">.springsource</span><span class="selector-class">.org</span><span class="selector-class">.apache</span><span class="selector-class">.commons</span><span class="selector-class">.logging-1</span>.<span class="number">1.1</span><span class="selector-class">.jar</span></span><br><span class="line">com<span class="selector-class">.springsource</span><span class="selector-class">.org</span><span class="selector-class">.aspectj</span><span class="selector-class">.weaver-1</span>.<span class="number">6.8</span><span class="selector-class">.RELEASE</span><span class="selector-class">.jar</span></span><br><span class="line">log4j-<span class="number">1.2</span>.<span class="number">17</span><span class="selector-class">.jar</span></span><br><span class="line">spring-aop-<span class="number">4.3</span>.<span class="number">9</span><span class="selector-class">.RELEASE</span><span class="selector-class">.jar</span></span><br><span class="line">spring-aspects-<span class="number">4.3</span>.<span class="number">9</span><span class="selector-class">.RELEASE</span><span class="selector-class">.jar</span></span><br><span class="line">spring-beans-<span class="number">4.3</span>.<span class="number">9</span><span class="selector-class">.RELEASE</span><span class="selector-class">.jar</span></span><br><span class="line">spring-context-<span class="number">4.3</span>.<span class="number">9</span><span class="selector-class">.RELEASE</span><span class="selector-class">.jar</span></span><br><span class="line">spring-core-<span class="number">4.3</span>.<span class="number">9</span><span class="selector-class">.RELEASE</span><span class="selector-class">.jar</span></span><br><span class="line">spring-expression-<span class="number">4.3</span>.<span class="number">9</span><span class="selector-class">.RELEASE</span><span class="selector-class">.jar</span></span><br><span class="line">spring-jdbc-<span class="number">4.3</span>.<span class="number">9</span><span class="selector-class">.RELEASE</span><span class="selector-class">.jar</span></span><br><span class="line">spring-orm-<span class="number">4.3</span>.<span class="number">9</span><span class="selector-class">.RELEASE</span><span class="selector-class">.jar</span></span><br><span class="line">spring-tx-<span class="number">4.3</span>.<span class="number">9</span><span class="selector-class">.RELEASE</span><span class="selector-class">.jar</span></span><br><span class="line">spring-web-<span class="number">4.3</span>.<span class="number">9</span><span class="selector-class">.RELEASE</span><span class="selector-class">.jar</span></span><br><span class="line">spring-webmvc-<span class="number">4.3</span>.<span class="number">9</span><span class="selector-class">.RELEASE</span><span class="selector-class">.jar</span></span><br></pre></td></tr></table></figure></li>
<li><p>springmvcçš„jar</p>
<ul>
<li><p>æ–‡ä»¶ä¸Šä¼ </p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">commons-fileupload-<span class="number">1.3</span>.<span class="number">1</span><span class="selector-class">.jar</span></span><br><span class="line">commons-io-<span class="number">2.2</span><span class="selector-class">.jar</span></span><br></pre></td></tr></table></figure></li>
<li><p>jackson</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">jackson-core-as1-<span class="number">1.9</span>.<span class="number">11</span><span class="selector-class">.jar</span></span><br><span class="line">jackson-mapper-as1-<span class="number">1.9</span>.<span class="number">11</span><span class="selector-class">.jar</span></span><br></pre></td></tr></table></figure></li>
<li><p>jsr303ï¼švalidation</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">validation-api-<span class="number">1.1</span>.<span class="number">0</span><span class="selector-class">.Final</span><span class="selector-class">.jar</span></span><br><span class="line">hibernate-validator-<span class="number">5.2</span>.<span class="number">0</span><span class="selector-class">.Final</span><span class="selector-class">.jar</span></span><br><span class="line">jboss-logging-<span class="number">3.2</span>.<span class="number">1</span><span class="selector-class">.Final</span><span class="selector-class">.jar</span></span><br><span class="line">classmate-<span class="number">1.1</span>.<span class="number">0</span><span class="selector-class">.jar</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>springå’Œmybatisæ•´åˆjar</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mybatis-spring-<span class="number">1.3</span>.<span class="number">0</span><span class="selector-class">.jar</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h5 id="â‘¡-å±æ€§æ–‡ä»¶"><a href="#â‘¡-å±æ€§æ–‡ä»¶" class="headerlink" title="â‘¡ å±æ€§æ–‡ä»¶"></a>â‘¡ å±æ€§æ–‡ä»¶</h5><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>og4j<span class="selector-class">.properties</span></span><br><span class="line">oracleDB<span class="selector-class">.properties</span></span><br></pre></td></tr></table></figure>

<h5 id="â‘¢-æ‹·æ ¸å¿ƒæ–‡ä»¶"><a href="#â‘¢-æ‹·æ ¸å¿ƒæ–‡ä»¶" class="headerlink" title="â‘¢ æ‹·æ ¸å¿ƒæ–‡ä»¶"></a>â‘¢ æ‹·æ ¸å¿ƒæ–‡ä»¶</h5><ol>
<li><p>==mybatisæ ¸å¿ƒæ–‡ä»¶==</p>
<ul>
<li><p><strong>mybatis.xml</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--ç¨‹åºæ‰§è¡Œè·¯å¾„--&gt;</span><br><span class="line">&lt;settings&gt;</span><br><span class="line">    &lt;setting name=&quot;lazyLoadingEnabled&quot; value=&quot;true&quot; /&gt;</span><br><span class="line">    &lt;setting name=&quot; aggressiveLazyLoading&quot; value=&quot;false&quot; /&gt;</span><br><span class="line">    &lt;setting name= &quot; autoMappingBehavior&quot; value=&quot;PARTIAL&quot; /&gt;</span><br><span class="line">&lt;/settings&gt;</span><br><span class="line">&lt;!--åˆ«å--&gt;</span><br><span class="line">&lt;typeAliases&gt;</span><br><span class="line">    &lt;package name=&quot; com. java05. model&quot;/&gt;</span><br><span class="line">&lt;/typeAliases&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>==springçš„æ ¸å¿ƒæ–‡ä»¶==</p>
<ul>
<li><strong>applicationContext-mapper.xml</strong> </li>
<li><strong>applicationContext-service.xml</strong> </li>
<li><strong>applicationContext-trans.xml</strong> </li>
</ul>
</li>
<li><p>==springmvcçš„æ ¸å¿ƒæ–‡ä»¶==</p>
<ul>
<li><strong>springmvc.xml</strong> </li>
</ul>
</li>
</ol>
<hr>
<h4 id="äºŒã€Maven-æ­å»ºæ¡†æ¶"><a href="#äºŒã€Maven-æ­å»ºæ¡†æ¶" class="headerlink" title="äºŒã€Maven æ­å»ºæ¡†æ¶"></a>äºŒã€Maven æ­å»ºæ¡†æ¶</h4><h5 id="â‘ -å¯¼å…¥pomä¾èµ–"><a href="#â‘ -å¯¼å…¥pomä¾èµ–" class="headerlink" title="â‘  å¯¼å…¥pomä¾èµ–"></a>â‘  å¯¼å…¥pomä¾èµ–</h5><p>æ–°å»ºä¸€Mavené¡¹ç›®ï¼ ssmbuild ï¼Œ æ·»åŠ webçš„æ”¯æŒ</p>
<p>å¯¼å…¥ç›¸å…³çš„pomä¾èµ–ï¼</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--Junit--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--æ•°æ®åº“é©±åŠ¨--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.47<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æ•°æ®åº“è¿æ¥æ±  --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.mchange<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>c3p0<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.9.5.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--Servlet - JSP --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet.jsp<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jsp-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jstl<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--Mybatis--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--Spring--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.9.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.9.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="â‘¡-Mavenèµ„æºè¿‡æ»¤è®¾ç½®"><a href="#â‘¡-Mavenèµ„æºè¿‡æ»¤è®¾ç½®" class="headerlink" title="â‘¡ Mavenèµ„æºè¿‡æ»¤è®¾ç½®"></a>â‘¡ Mavenèµ„æºè¿‡æ»¤è®¾ç½®</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/java<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>false<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>false<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="â‘¢-å»ºç«‹åŸºæœ¬ç»“æ„å’Œé…ç½®æ¡†æ¶ï¼"><a href="#â‘¢-å»ºç«‹åŸºæœ¬ç»“æ„å’Œé…ç½®æ¡†æ¶ï¼" class="headerlink" title="â‘¢ å»ºç«‹åŸºæœ¬ç»“æ„å’Œé…ç½®æ¡†æ¶ï¼"></a>â‘¢ å»ºç«‹åŸºæœ¬ç»“æ„å’Œé…ç½®æ¡†æ¶ï¼</h5><ul>
<li><p>com.kuang.pojo</p>
</li>
<li><p>com.kuang.dao</p>
</li>
<li><p>com.kuang.serviceï¼šå¤„ç†äº‹åŠ¡</p>
</li>
<li><p>com.kuang.controller</p>
</li>
<li><p>mybatis-config.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">configuration</span></span></span><br><span class="line"><span class="meta">        <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>applicationContext.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">        http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="8-4-Mybatiså±‚"><a href="#8-4-Mybatiså±‚" class="headerlink" title="8.4  Mybatiså±‚"></a>8.4  Mybatiså±‚</h3><h4 id="â‘ -æ•°æ®åº“é…ç½®æ–‡ä»¶"><a href="#â‘ -æ•°æ®åº“é…ç½®æ–‡ä»¶" class="headerlink" title="â‘  æ•°æ®åº“é…ç½®æ–‡ä»¶"></a>â‘  æ•°æ®åº“é…ç½®æ–‡ä»¶</h4><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># database.properties</span></span><br><span class="line"><span class="meta">jdbc.driver</span>=<span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line"><span class="meta">jdbc.url</span>=<span class="string">jdbc:mysql://localhost:3306/ssmbuild?useSSL=true&amp;useUnicode=true&amp;characterEncoding=utf8</span></span><br><span class="line"><span class="meta">jdbc.username</span>=<span class="string">root</span></span><br><span class="line"><span class="meta">jdbc.password</span>=<span class="string">123456</span></span><br></pre></td></tr></table></figure>

<h4 id="â‘¡-IDEAå…³è”æ•°æ®åº“"><a href="#â‘¡-IDEAå…³è”æ•°æ®åº“" class="headerlink" title="â‘¡ IDEAå…³è”æ•°æ®åº“"></a>â‘¡ IDEAå…³è”æ•°æ®åº“</h4><h4 id="â‘¢-MyBatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶"><a href="#â‘¢-MyBatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶" class="headerlink" title="â‘¢ MyBatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶"></a>â‘¢ MyBatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">configuration</span></span></span><br><span class="line"><span class="meta">        <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">&quot;com.kuang.pojo&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;com/kuang/dao/BookMapper.xml&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="â‘£-æ•°æ®åº“å¯¹åº”çš„å®ä½“ç±»"><a href="#â‘£-æ•°æ®åº“å¯¹åº”çš„å®ä½“ç±»" class="headerlink" title="â‘£ æ•°æ®åº“å¯¹åº”çš„å®ä½“ç±»"></a>â‘£ æ•°æ®åº“å¯¹åº”çš„å®ä½“ç±»</h4><p>ä½¿ç”¨lombokæ’ä»¶ï¼</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Books</span> </span>&#123;    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> bookID;</span><br><span class="line">    <span class="keyword">private</span> String bookName;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> bookCounts;</span><br><span class="line">    <span class="keyword">private</span> String detail;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="â‘¤-Daoå±‚çš„-Mapperæ¥å£"><a href="#â‘¤-Daoå±‚çš„-Mapperæ¥å£" class="headerlink" title="â‘¤ Daoå±‚çš„ Mapperæ¥å£"></a>â‘¤ Daoå±‚çš„ Mapperæ¥å£</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.kuang.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.kuang.pojo.Books;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">BookMapper</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å¢åŠ ä¸€ä¸ªBook</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">addBook</span><span class="params">(Books book)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ ¹æ®idåˆ é™¤ä¸€ä¸ªBook</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">deleteBookById</span><span class="params">(<span class="keyword">int</span> id)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ›´æ–°Book</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">updateBook</span><span class="params">(Books books)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ ¹æ®idæŸ¥è¯¢,è¿”å›ä¸€ä¸ªBook</span></span><br><span class="line">    <span class="function">Books <span class="title">queryBookById</span><span class="params">(<span class="keyword">int</span> id)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æŸ¥è¯¢å…¨éƒ¨Book,è¿”å›listé›†åˆ</span></span><br><span class="line">    <span class="function">List&lt;Books&gt; <span class="title">queryAllBook</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="â‘¥-æ¥å£å¯¹åº”çš„-Mapper-xml"><a href="#â‘¥-æ¥å£å¯¹åº”çš„-Mapper-xml" class="headerlink" title="â‘¥ æ¥å£å¯¹åº”çš„ Mapper.xml"></a>â‘¥ æ¥å£å¯¹åº”çš„ Mapper.xml</h4><ul>
<li>éœ€è¦å¯¼å…¥MyBatisçš„åŒ…</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.kuang.dao.BookMapper&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--å¢åŠ ä¸€ä¸ªBook--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;addBook&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;Books&quot;</span>&gt;</span></span><br><span class="line">        insert into ssmbuild.books(bookName,bookCounts,detail)</span><br><span class="line">        values (#&#123;bookName&#125;, #&#123;bookCounts&#125;, #&#123;detail&#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--æ ¹æ®idåˆ é™¤ä¸€ä¸ªBook--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">delete</span> <span class="attr">id</span>=<span class="string">&quot;deleteBookById&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;int&quot;</span>&gt;</span></span><br><span class="line">        delete from ssmbuild.books where bookID=#&#123;bookID&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">delete</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--æ›´æ–°Book--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;updateBook&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;Books&quot;</span>&gt;</span></span><br><span class="line">        update ssmbuild.books</span><br><span class="line">        set bookName = #&#123;bookName&#125;,bookCounts = #&#123;bookCounts&#125;,detail = #&#123;detail&#125;</span><br><span class="line">        where bookID = #&#123;bookID&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--æ ¹æ®idæŸ¥è¯¢,è¿”å›ä¸€ä¸ªBook--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;queryBookById&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;Books&quot;</span>&gt;</span></span><br><span class="line">        select * from ssmbuild.books</span><br><span class="line">        where bookID = #&#123;bookID&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--æŸ¥è¯¢å…¨éƒ¨Book--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;queryAllBook&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;Books&quot;</span>&gt;</span></span><br><span class="line">        SELECT * from ssmbuild.books</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="â‘¦-Serviceå±‚çš„æ¥å£å’Œå®ç°ç±»"><a href="#â‘¦-Serviceå±‚çš„æ¥å£å’Œå®ç°ç±»" class="headerlink" title="â‘¦ Serviceå±‚çš„æ¥å£å’Œå®ç°ç±»"></a>â‘¦ Serviceå±‚çš„æ¥å£å’Œå®ç°ç±»</h4><h5 id="æ¥å£ï¼š"><a href="#æ¥å£ï¼š" class="headerlink" title="æ¥å£ï¼š"></a>æ¥å£ï¼š</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//BookService:åº•ä¸‹éœ€è¦å»å®ç°,è°ƒç”¨daoå±‚</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">BookService</span> </span>&#123;</span><br><span class="line">    <span class="comment">//å¢åŠ ä¸€ä¸ªBook</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">addBook</span><span class="params">(Books book)</span></span>;</span><br><span class="line">    <span class="comment">//æ ¹æ®idåˆ é™¤ä¸€ä¸ªBook</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">deleteBookById</span><span class="params">(<span class="keyword">int</span> id)</span></span>;</span><br><span class="line">    <span class="comment">//æ›´æ–°Book</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">updateBook</span><span class="params">(Books books)</span></span>;</span><br><span class="line">    <span class="comment">//æ ¹æ®idæŸ¥è¯¢,è¿”å›ä¸€ä¸ªBook</span></span><br><span class="line">    <span class="function">Books <span class="title">queryBookById</span><span class="params">(<span class="keyword">int</span> id)</span></span>;</span><br><span class="line">    <span class="comment">//æŸ¥è¯¢å…¨éƒ¨Book,è¿”å›listé›†åˆ</span></span><br><span class="line">    <span class="function">List&lt;Books&gt; <span class="title">queryAllBook</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="å®ç°ç±»ï¼š"><a href="#å®ç°ç±»ï¼š" class="headerlink" title="å®ç°ç±»ï¼š"></a>å®ç°ç±»ï¼š</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.kuang.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.kuang.dao.BookMapper;</span><br><span class="line"><span class="keyword">import</span> com.kuang.pojo.Books;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BookServiceImpl</span> <span class="keyword">implements</span> <span class="title">BookService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è°ƒç”¨daoå±‚çš„æ“ä½œï¼Œè®¾ç½®ä¸€ä¸ªsetæ¥å£ï¼Œæ–¹ä¾¿Springç®¡ç†</span></span><br><span class="line">    <span class="keyword">private</span> BookMapper bookMapper;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setBookMapper</span><span class="params">(BookMapper bookMapper)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.bookMapper = bookMapper;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">addBook</span><span class="params">(Books book)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> bookMapper.addBook(book);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">deleteBookById</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> bookMapper.deleteBookById(id);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">updateBook</span><span class="params">(Books books)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> bookMapper.updateBook(books);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> Books <span class="title">queryBookById</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> bookMapper.queryBookById(id);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Books&gt; <span class="title">queryAllBook</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> bookMapper.queryAllBook();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>OKï¼Œåˆ°æ­¤ï¼Œåº•å±‚éœ€æ±‚æ“ä½œç¼–å†™å®Œæ¯•ï¼</strong></p>
<h3 id="8-5-Springå±‚"><a href="#8-5-Springå±‚" class="headerlink" title="8.5  Springå±‚"></a>8.5  Springå±‚</h3><h4 id="â‘ -Springæ•´åˆMyBatis"><a href="#â‘ -Springæ•´åˆMyBatis" class="headerlink" title="â‘  Springæ•´åˆMyBatis"></a>â‘  Springæ•´åˆMyBatis</h4><ul>
<li><p>æˆ‘ä»¬è¿™é‡Œæ•°æ®æºä½¿ç”¨c3p0è¿æ¥æ± ï¼›</p>
</li>
<li><p>æˆ‘ä»¬å»ç¼–å†™Springæ•´åˆMybatisçš„ç›¸å…³çš„é…ç½®æ–‡ä»¶ï¼› spring-dao.xml</p>
<ol>
<li><p>å…³è”æ•°æ®åº“æ–‡ä»¶</p>
</li>
<li><p>è¿æ¥æ•°æ®åº“</p>
</li>
<li><p>é…ç½®SqlSessionFactoryå¯¹è±¡</p>
<ul>
<li>æ³¨å…¥æ•°æ®åº“è¿æ¥æ± </li>
<li>é…ç½®MyBatieså…¨å±€é…ç½®æ–‡ä»¶:mybatis-config.xml</li>
</ul>
</li>
<li><p>é…ç½®æ‰«æDaoæ¥å£åŒ…ï¼ŒåŠ¨æ€å®ç°Daoæ¥å£æ³¨å…¥åˆ°springå®¹å™¨ä¸­ï¼šMapperScannerConfigurer</p>
<ul>
<li>æ³¨å…¥sqlSessionFactory</li>
<li>==æ‰«æDaoæ¥å£åŒ…==</li>
</ul>
</li>
</ol>
</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="string"><span class="tag">https://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- é…ç½®æ•´åˆmybatis --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 1.å…³è”æ•°æ®åº“æ–‡ä»¶ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;classpath:database.properties&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 2.æ•°æ®åº“è¿æ¥æ±  --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--æ•°æ®åº“è¿æ¥æ± </span></span><br><span class="line"><span class="comment">    dbcp  åŠè‡ªåŠ¨åŒ–æ“ä½œ  ä¸èƒ½è‡ªåŠ¨è¿æ¥</span></span><br><span class="line"><span class="comment">    c3p0  è‡ªåŠ¨åŒ–æ“ä½œï¼ˆè‡ªåŠ¨çš„åŠ è½½é…ç½®æ–‡ä»¶ å¹¶ä¸”è®¾ç½®åˆ°å¯¹è±¡é‡Œé¢ï¼‰</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- é…ç½®è¿æ¥æ± å±æ€§ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClass&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.driver&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;jdbcUrl&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.url&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;user&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.username&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.password&#125;&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- c3p0è¿æ¥æ± çš„ç§æœ‰å±æ€§ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;maxPoolSize&quot;</span> <span class="attr">value</span>=<span class="string">&quot;30&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;minPoolSize&quot;</span> <span class="attr">value</span>=<span class="string">&quot;10&quot;</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- å…³é—­è¿æ¥åä¸è‡ªåŠ¨commit --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;autoCommitOnClose&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- è·å–è¿æ¥è¶…æ—¶æ—¶é—´ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;checkoutTimeout&quot;</span> <span class="attr">value</span>=<span class="string">&quot;10000&quot;</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- å½“è·å–è¿æ¥å¤±è´¥é‡è¯•æ¬¡æ•° --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;acquireRetryAttempts&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 3.é…ç½®SqlSessionFactoryå¯¹è±¡ï¼šé…ç½®è¿æ¥æ•°æ®åº“çš„é©±åŠ¨ï¼ŒURLï¼Œè´¦å·å’Œå¯†ç --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;sqlSessionFactory&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æ³¨å…¥æ•°æ®åº“è¿æ¥æ±  --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dataSource&quot;</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- é…ç½®MyBatieså…¨å±€é…ç½®æ–‡ä»¶:mybatis-config.xml --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;configLocation&quot;</span> <span class="attr">value</span>=<span class="string">&quot;classpath:mybatis-config.xml&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 4.é…ç½®æ‰«æDaoæ¥å£åŒ…ï¼ŒåŠ¨æ€å®ç°Daoæ¥å£æ³¨å…¥åˆ°springå®¹å™¨ä¸­ --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--è§£é‡Š ï¼š https://www.cnblogs.com/jpfss/p/7799806.html--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æ³¨å…¥sqlSessionFactory --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;sqlSessionFactoryBeanName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;sqlSessionFactory&quot;</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- ç»™å‡ºéœ€è¦æ‰«æDaoæ¥å£åŒ… --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;basePackage&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.kuang.dao&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p><strong>MapperScannerConfigurer è‡ªåŠ¨æ‰«æå¹¶åˆ›å»ºçš„æ˜¯java çš„mapperæ–‡ä»¶ï¼Œå³ç¼–è¯‘åçš„classæ–‡ä»¶ï¼Œå¹¶ä¸æ˜¯xmlæ–‡ä»¶</strong></p>
</li>
<li><p>å¯ä»¥ä½¿ç”¨ä¸€ä¸ª MapperScannerConfigurer , å®ƒ å°† ä¼š æŸ¥ æ‰¾ ç±» è·¯ å¾„ ä¸‹ çš„ æ˜  å°„ å™¨ å¹¶ è‡ª åŠ¨ å°† å®ƒ ä»¬ åˆ› å»º æˆ MapperFactoryBeanã€‚æ²¡ æœ‰ å¿… è¦ å» æŒ‡ å®š SqlSessionFactory æˆ– SqlSessionTemplate , å›  ä¸º MapperScannerConfigurer å°†ä¼šåˆ›å»º MapperFactoryBean,ä¹‹åè‡ªåŠ¨è£…é…</p>
</li>
<li><p> <strong>mappperæ¥å£å¯ä»¥ç›´æ¥è°ƒç”¨çš„åŸå› ï¼Ÿ</strong></p>
</li>
</ul>
<ol>
<li>ä¸ºäº†ä»£æ›¿æ‰‹å·¥ä½¿ç”¨ SqlSessionDaoSupport æˆ– SqlSessionTemplate <strong>ç¼–å†™æ•°æ®è®¿é—®å¯¹è±¡</strong> (DAO)çš„ä»£ç ,<strong>MyBatis-Spring</strong> æä¾›äº†ä¸€ä¸ªåŠ¨æ€ä»£ç†çš„å®ç°:MapperFactoryBeanã€‚</li>
<li>è¿™ä¸ªç±» å¯ä»¥è®©ä½ ç›´æ¥æ³¨å…¥æ•°æ®æ˜ å°„å™¨æ¥å£åˆ°ä½ çš„ service å±‚ bean ä¸­ã€‚å½“ä½¿ç”¨æ˜ å°„å™¨æ—¶,ä½ ä»…ä»…å¦‚è°ƒ ç”¨ä½ çš„ DAO ä¸€æ ·è°ƒç”¨å®ƒä»¬å°±å¯ä»¥äº†,ä½†æ˜¯ä½ ä¸éœ€è¦ç¼–å†™ä»»ä½• DAO å®ç°çš„ä»£ç ,å› ä¸º MyBatis-Spring å°†ä¼šä¸ºä½ åˆ›å»ºä»£ç†ã€‚</li>
<li>ä¸Šé¢çš„é…ç½®æœ‰ä¸€ä¸ªå¾ˆå¤§çš„ç¼ºç‚¹ï¼Œå°±æ˜¯ç³»ç»Ÿæœ‰å¾ˆå¤šçš„é…ç½®æ–‡ä»¶æ—¶ å…¨éƒ¨éœ€è¦æ‰‹åŠ¨ç¼–å†™ï¼Œæ‰€ä»¥ä¸Šè¿°çš„æ–¹å¼æ›¿æ¢æˆMapperScannerConfigurer å½¢å¼çš„é…ç½®</li>
</ol>
<h4 id="â‘¡-Springæ•´åˆServiceå±‚"><a href="#â‘¡-Springæ•´åˆServiceå±‚" class="headerlink" title="â‘¡ Springæ•´åˆServiceå±‚"></a>â‘¡ Springæ•´åˆServiceå±‚</h4><p>==<strong>Spring çš„æ ¸å¿ƒåŠŸèƒ½ï¼šIOC å’Œ AOP</strong>==</p>
<ol>
<li>==æ‰«æservice==</li>
<li>æ³¨å…¥åˆ°IOCå®¹å™¨ä¸­ï¼šä½¿ç”¨æ³¨è§£æ–¹å¼ï¼Œå°±ä¸éœ€è¦å†™è¿™ä¸ªbean</li>
<li>==äº‹åŠ¡ç®¡ç†å™¨==ï¼šæäº¤ï¼Œå›æ»š</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">    http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">    http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="string"><span class="tag">    http://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- æ‰«æservice --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.kuang.service&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--BookServiceImplæ³¨å…¥åˆ°IOCå®¹å™¨ä¸­ï¼šä½¿ç”¨æ³¨è§£æ–¹å¼ï¼Œå°±ä¸éœ€è¦å†™è¿™ä¸ªbean--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;BookServiceImpl&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.kuang.service.BookServiceImpl&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;bookMapper&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;bookMapper&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- é…ç½®äº‹åŠ¡ç®¡ç†å™¨ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;transactionManager&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æ³¨å…¥æ•°æ®åº“è¿æ¥æ±  --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dataSource&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Springå±‚æå®šï¼å†æ¬¡ç†è§£ä¸€ä¸‹ï¼ŒSpringå°±æ˜¯ä¸€ä¸ªå¤§æ‚çƒ©ï¼Œä¸€ä¸ªå®¹å™¨ï¼å¯¹å§ï¼</p>
<h3 id="8-6-SpringMVCå±‚"><a href="#8-6-SpringMVCå±‚" class="headerlink" title="8.6  SpringMVCå±‚"></a>8.6  SpringMVCå±‚</h3><h4 id="â‘ -web-xml"><a href="#â‘ -web-xml" class="headerlink" title="â‘  web.xml"></a>â‘  web.xml</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--é…ç½®Springæ¡†æ¶çš„ä¿¡æ¯--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>classpath:spring/spring-*.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">context-param</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">listener</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">listener-class</span>&gt;</span>org.springframework.web.context.ContextLoaderListener<span class="tag">&lt;/<span class="name">listener-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">listener</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--SpringMVCçš„è°ƒåº¦Servletï¼Œå‰ç«¯æ§åˆ¶å™¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>springmvc<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>classpath:spring/springmvc.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>1<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>springmvc<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>encodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>utf-8<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>encodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--Sessionè¿‡æœŸæ—¶é—´--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">session-config</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">session-timeout</span>&gt;</span>15<span class="tag">&lt;/<span class="name">session-timeout</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">session-config</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="â‘¡-spring-mvc-xml"><a href="#â‘¡-spring-mvc-xml" class="headerlink" title="â‘¡ spring-mvc.xml"></a>â‘¡ spring-mvc.xml</h4><ol>
<li>SpringMVCæ³¨è§£é©±åŠ¨</li>
<li>é™æ€èµ„æº</li>
<li>è§†å›¾è§£æå™¨</li>
<li>==æ‰«æcontroller==</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:mvc</span>=<span class="string">&quot;http://www.springframework.org/schema/mvc&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">    http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">    http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="string"><span class="tag">    http://www.springframework.org/schema/context/spring-context.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">    http://www.springframework.org/schema/mvc</span></span></span><br><span class="line"><span class="string"><span class="tag">    https://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- é…ç½®SpringMVC --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 1.å¼€å¯SpringMVCæ³¨è§£é©±åŠ¨ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:annotation-driven</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 2.é™æ€èµ„æºé»˜è®¤servleté…ç½®--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:default-servlet-handler</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 3.é…ç½®jsp æ˜¾ç¤ºViewResolverè§†å›¾è§£æå™¨ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;viewClass&quot;</span> <span class="attr">value</span>=<span class="string">&quot;org.springframework.web.servlet.view.JstlView&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;prefix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;/WEB-INF/jsp/&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;suffix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;.jsp&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 4.æ‰«æcontroller--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.kuang.controller&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="â‘¢-applicationContext-xml"><a href="#â‘¢-applicationContext-xml" class="headerlink" title="â‘¢ applicationContext.xml"></a>â‘¢ applicationContext.xml</h4><ul>
<li>Springé…ç½®æ•´åˆæ–‡ä»¶</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">        http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">import</span> <span class="attr">resource</span>=<span class="string">&quot;spring-dao.xml&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">import</span> <span class="attr">resource</span>=<span class="string">&quot;spring-service.xml&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">import</span> <span class="attr">resource</span>=<span class="string">&quot;spring-mvc.xml&quot;</span>/&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>é…ç½®æ–‡ä»¶ï¼Œæš‚æ—¶ç»“æŸï¼</strong></p>
<h3 id="8-7-Controller-å’Œ-è§†å›¾å±‚"><a href="#8-7-Controller-å’Œ-è§†å›¾å±‚" class="headerlink" title="8.7 Controller å’Œ è§†å›¾å±‚"></a>8.7 Controller å’Œ è§†å›¾å±‚</h3><h4 id="â‘ -æ–¹æ³•ä¸€ï¼šæŸ¥è¯¢å…¨éƒ¨ä¹¦ç±"><a href="#â‘ -æ–¹æ³•ä¸€ï¼šæŸ¥è¯¢å…¨éƒ¨ä¹¦ç±" class="headerlink" title="â‘   æ–¹æ³•ä¸€ï¼šæŸ¥è¯¢å…¨éƒ¨ä¹¦ç±"></a>â‘   æ–¹æ³•ä¸€ï¼šæŸ¥è¯¢å…¨éƒ¨ä¹¦ç±</h4><h5 id="â… ã€BookController-ç±»"><a href="#â… ã€BookController-ç±»" class="headerlink" title="â… ã€BookController ç±»"></a>â… ã€BookController ç±»</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/book&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BookController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="meta">@Qualifier(&quot;BookServiceImpl&quot;)</span><span class="comment">//è‡ªåŠ¨è£…é…æŠŠautowire = â€œbyNameâ€</span></span><br><span class="line">    <span class="keyword">private</span> BookService bookService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/allBook&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">list</span><span class="params">(Model model)</span> </span>&#123;</span><br><span class="line">        List&lt;Books&gt; list = bookService.queryAllBook();</span><br><span class="line">        model.addAttribute(<span class="string">&quot;list&quot;</span>, list);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;allBook&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="â…¡ã€é¦–é¡µ-index-jsp"><a href="#â…¡ã€é¦–é¡µ-index-jsp" class="headerlink" title="â…¡ã€é¦–é¡µ index.jsp"></a>â…¡ã€é¦–é¡µ index.jsp</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot; %&gt;</span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">HTML</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>é¦–é¡µ<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">        <span class="selector-tag">a</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">text-decoration</span>: none;</span></span><br><span class="line"><span class="css">            <span class="attribute">color</span>: black;</span></span><br><span class="line"><span class="css">            <span class="attribute">font-size</span>: <span class="number">18px</span>;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">h3</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">180px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">38px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">margin</span>: <span class="number">100px</span> auto;</span></span><br><span class="line"><span class="css">            <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="css">            <span class="attribute">line-height</span>: <span class="number">38px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">background</span>: deepskyblue;</span></span><br><span class="line"><span class="css">            <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span></span><br><span class="line"> 	<span class="comment">&lt;!--$&#123;pageContext.request.contextPath&#125;--&gt;</span>   </span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/book/allBook&quot;</span>&gt;</span>ç‚¹å‡»è¿›å…¥åˆ—è¡¨é¡µ<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>==${pageContext.request.contextPath}==</strong></p>
<ul>
<li><p>æ˜¯JSPå–å¾—==ç»å¯¹è·¯å¾„==çš„æ–¹æ³•ï¼Œç­‰ä»·äº&lt;%=request.getContextPath()%&gt; ã€‚</p>
</li>
<li><p>ä¹Ÿå°±æ˜¯å–å‡ºéƒ¨ç½²çš„åº”ç”¨ç¨‹åºåæˆ–è€…æ˜¯å½“å‰çš„é¡¹ç›®åç§°</p>
</li>
<li><p>æ¯”å¦‚æˆ‘çš„<strong>é¡¹ç›®åç§°æ˜¯demo1</strong>åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ä¸º**<a target="_blank" rel="noopener" href="http://localhost:8080/demo1/a.jsp">http://localhost:8080/demo1/a.jsp</a> **</p>
</li>
<li><p><strong>${pageContext.request.contextPath</strong>}æˆ–**&lt;%=request.getContextPath()%&gt;<strong>å–å‡ºæ¥çš„å°±æ˜¯</strong>/demo1**,</p>
</li>
<li><p>è€Œâ€/â€œä»£è¡¨çš„å«ä¹‰å°±æ˜¯<strong><a target="_blank" rel="noopener" href="http://localhost:8080/">http://localhost:8080</a></strong></p>
</li>
<li><p>æ•…æœ‰æ—¶å€™é¡¹ç›®ä¸­è¿™æ ·å†™**${pageContext.request.contextPath}/a.jsp**æ˜¯JSPå–å¾—ç»å¯¹è·¯å¾„çš„æ–¹æ³•ï¼Œç­‰ä»·äº&lt;%=request.getContextPath()%&gt; </p>
</li>
</ul>
<h5 id="â…¢ã€ä¹¦ç±åˆ—è¡¨é¡µé¢-allbook-jsp"><a href="#â…¢ã€ä¹¦ç±åˆ—è¡¨é¡µé¢-allbook-jsp" class="headerlink" title="â…¢ã€ä¹¦ç±åˆ—è¡¨é¡µé¢ allbook.jsp"></a>â…¢ã€ä¹¦ç±åˆ—è¡¨é¡µé¢ allbook.jsp</h5><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ taglib prefix=<span class="string">&quot;c&quot;</span> uri=<span class="string">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> %&gt;</span><br><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;ä¹¦ç±åˆ—è¡¨&lt;/title&gt;</span><br><span class="line">    &lt;meta name=<span class="string">&quot;viewport&quot;</span> content=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br><span class="line">    &lt;!-- å¼•å…¥ Bootstrap --&gt;</span><br><span class="line">    &lt;link href=<span class="string">&quot;https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css&quot;</span> rel=<span class="string">&quot;stylesheet&quot;</span>&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;container&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;row clearfix&quot;</span>&gt;</span><br><span class="line">        &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;col-md-12 column&quot;</span>&gt;</span><br><span class="line">            &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;page-header&quot;</span>&gt;</span><br><span class="line">                &lt;h1&gt;</span><br><span class="line">                    &lt;small&gt;ä¹¦ç±åˆ—è¡¨ â€”â€” æ˜¾ç¤ºæ‰€æœ‰ä¹¦ç±&lt;/small&gt;</span><br><span class="line">                &lt;/h1&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;row&quot;</span>&gt;</span><br><span class="line">        &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;col-md-4 column&quot;</span>&gt;</span><br><span class="line">            &lt;a <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;btn btn-primary&quot;</span> href=<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/book/toAddBook&quot;</span>&gt;æ–°å¢&lt;/a&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;row clearfix&quot;</span>&gt;</span><br><span class="line">        &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;col-md-12 column&quot;</span>&gt;</span><br><span class="line">            &lt;table <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;table table-hover table-striped&quot;</span>&gt;</span><br><span class="line">                &lt;thead&gt;</span><br><span class="line">                &lt;tr&gt;</span><br><span class="line">                    &lt;th&gt;ä¹¦ç±ç¼–å·&lt;/th&gt;</span><br><span class="line">                    &lt;th&gt;ä¹¦ç±åå­—&lt;/th&gt;</span><br><span class="line">                    &lt;th&gt;ä¹¦ç±æ•°é‡&lt;/th&gt;</span><br><span class="line">                    &lt;th&gt;ä¹¦ç±è¯¦æƒ…&lt;/th&gt;</span><br><span class="line">                    &lt;th&gt;æ“ä½œ&lt;/th&gt;</span><br><span class="line">                &lt;/tr&gt;</span><br><span class="line">                &lt;/thead&gt;</span><br><span class="line"></span><br><span class="line">                &lt;tbody&gt;</span><br><span class="line">                &lt;c:forEach <span class="keyword">var</span>=<span class="string">&quot;book&quot;</span> items=<span class="string">&quot;$&#123;requestScope.get(&#x27;list&#x27;)&#125;&quot;</span>&gt;</span><br><span class="line">                    &lt;tr&gt;</span><br><span class="line">                        &lt;td&gt;$&#123;book.getBookID()&#125;&lt;/td&gt;</span><br><span class="line">                        &lt;td&gt;$&#123;book.getBookName()&#125;&lt;/td&gt;</span><br><span class="line">                        &lt;td&gt;$&#123;book.getBookCounts()&#125;&lt;/td&gt;</span><br><span class="line">                        &lt;td&gt;$&#123;book.getDetail()&#125;&lt;/td&gt;</span><br><span class="line">                        &lt;td&gt;</span><br><span class="line">                            &lt;a href=<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/book/toUpdateBook?id=$&#123;book.getBookID()&#125;&quot;</span>&gt;æ›´æ”¹&lt;/a&gt; |</span><br><span class="line">                            &lt;a href=<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/book/del/$&#123;book.getBookID()&#125;&quot;</span>&gt;åˆ é™¤&lt;/a&gt;</span><br><span class="line">                        &lt;/td&gt;</span><br><span class="line">                    &lt;/tr&gt;</span><br><span class="line">                &lt;/c:forEach&gt;</span><br><span class="line">                &lt;/tbody&gt;</span><br><span class="line">            &lt;/table&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<h4 id="â‘¡-æ–¹æ³•äºŒï¼šæ·»åŠ ä¹¦ç±"><a href="#â‘¡-æ–¹æ³•äºŒï¼šæ·»åŠ ä¹¦ç±" class="headerlink" title="â‘¡ æ–¹æ³•äºŒï¼šæ·»åŠ ä¹¦ç±"></a>â‘¡ æ–¹æ³•äºŒï¼šæ·»åŠ ä¹¦ç±</h4><h5 id="â… ã€BookController-ç±»-1"><a href="#â… ã€BookController-ç±»-1" class="headerlink" title="â… ã€BookController ç±»"></a>â… ã€BookController ç±»</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/toAddBook&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">toAddPaper</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;addBook&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/addBook&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">addPaper</span><span class="params">(Books books)</span> </span>&#123;</span><br><span class="line">    System.out.println(books);</span><br><span class="line">    bookService.addBook(books);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;redirect:/book/allBook&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="â…¡ã€æ·»åŠ ä¹¦ç±é¡µé¢ï¼šaddBook-jsp"><a href="#â…¡ã€æ·»åŠ ä¹¦ç±é¡µé¢ï¼šaddBook-jsp" class="headerlink" title="â…¡ã€æ·»åŠ ä¹¦ç±é¡µé¢ï¼šaddBook.jsp"></a>â…¡ã€æ·»åŠ ä¹¦ç±é¡µé¢ï¼š<strong>addBook.jsp</strong></h5><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ taglib prefix=<span class="string">&quot;c&quot;</span> uri=<span class="string">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> %&gt;</span><br><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line"></span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;æ–°å¢ä¹¦ç±&lt;/title&gt;</span><br><span class="line">    &lt;meta name=<span class="string">&quot;viewport&quot;</span> content=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br><span class="line">    &lt;!-- å¼•å…¥ Bootstrap --&gt;</span><br><span class="line">    &lt;link href=<span class="string">&quot;https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css&quot;</span> rel=<span class="string">&quot;stylesheet&quot;</span>&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;container&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;row clearfix&quot;</span>&gt;</span><br><span class="line">        &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;col-md-12 column&quot;</span>&gt;</span><br><span class="line">            &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;page-header&quot;</span>&gt;</span><br><span class="line">                &lt;h1&gt;</span><br><span class="line">                    &lt;small&gt;æ–°å¢ä¹¦ç±&lt;/small&gt;</span><br><span class="line">                &lt;/h1&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;form action=<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/book/addBook&quot;</span> method=<span class="string">&quot;post&quot;</span>&gt;</span><br><span class="line">        ä¹¦ç±åç§°ï¼š&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;bookName&quot;</span>&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;</span><br><span class="line">        ä¹¦ç±æ•°é‡ï¼š&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;bookCounts&quot;</span>&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;</span><br><span class="line">        ä¹¦ç±è¯¦æƒ…ï¼š&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;detail&quot;</span>&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;</span><br><span class="line">        &lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;æ·»åŠ &quot;</span>&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<h4 id="â‘¢-æ–¹æ³•ä¸‰ï¼šä¿®æ”¹ä¹¦ç±"><a href="#â‘¢-æ–¹æ³•ä¸‰ï¼šä¿®æ”¹ä¹¦ç±" class="headerlink" title="â‘¢ æ–¹æ³•ä¸‰ï¼šä¿®æ”¹ä¹¦ç±"></a>â‘¢ æ–¹æ³•ä¸‰ï¼šä¿®æ”¹ä¹¦ç±</h4><h5 id="â… ã€BookController-ç±»-2"><a href="#â… ã€BookController-ç±»-2" class="headerlink" title="â… ã€BookController ç±»"></a>â… ã€BookController ç±»</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/toUpdateBook&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">toUpdateBook</span><span class="params">(Model model, <span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">    Books books = bookService.queryBookById(id);</span><br><span class="line">    System.out.println(books);</span><br><span class="line">    model.addAttribute(<span class="string">&quot;book&quot;</span>,books );</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;updateBook&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/updateBook&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">updateBook</span><span class="params">(Model model, Books book)</span> </span>&#123;</span><br><span class="line">    System.out.println(book);</span><br><span class="line">    bookService.updateBook(book);</span><br><span class="line">    Books books = bookService.queryBookById(book.getBookID());</span><br><span class="line">    model.addAttribute(<span class="string">&quot;books&quot;</span>, books);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;redirect:/book/allBook&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="â…¡ã€ä¿®æ”¹ä¹¦ç±é¡µé¢-updateBook-jsp"><a href="#â…¡ã€ä¿®æ”¹ä¹¦ç±é¡µé¢-updateBook-jsp" class="headerlink" title="â…¡ã€ä¿®æ”¹ä¹¦ç±é¡µé¢  updateBook.jsp"></a>â…¡ã€ä¿®æ”¹ä¹¦ç±é¡µé¢  <strong>updateBook.jsp</strong></h5><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ taglib prefix=<span class="string">&quot;c&quot;</span> uri=<span class="string">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> %&gt;</span><br><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;ä¿®æ”¹ä¿¡æ¯&lt;/title&gt;</span><br><span class="line">    &lt;meta name=<span class="string">&quot;viewport&quot;</span> content=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br><span class="line">    &lt;!-- å¼•å…¥ Bootstrap --&gt;</span><br><span class="line">    &lt;link href=<span class="string">&quot;https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css&quot;</span> rel=<span class="string">&quot;stylesheet&quot;</span>&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;container&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;row clearfix&quot;</span>&gt;</span><br><span class="line">        &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;col-md-12 column&quot;</span>&gt;</span><br><span class="line">            &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;page-header&quot;</span>&gt;</span><br><span class="line">                &lt;h1&gt;</span><br><span class="line">                    &lt;small&gt;ä¿®æ”¹ä¿¡æ¯&lt;/small&gt;</span><br><span class="line">                &lt;/h1&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;form action=<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/book/updateBook&quot;</span> method=<span class="string">&quot;post&quot;</span>&gt;</span><br><span class="line">        &lt;input type=<span class="string">&quot;hidden&quot;</span> name=<span class="string">&quot;bookID&quot;</span> value=<span class="string">&quot;$&#123;book.getBookID()&#125;&quot;</span>/&gt;</span><br><span class="line">        ä¹¦ç±åç§°ï¼š&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;bookName&quot;</span> value=<span class="string">&quot;$&#123;book.getBookName()&#125;&quot;</span>/&gt;</span><br><span class="line">        ä¹¦ç±æ•°é‡ï¼š&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;bookCounts&quot;</span> value=<span class="string">&quot;$&#123;book.getBookCounts()&#125;&quot;</span>/&gt;</span><br><span class="line">        ä¹¦ç±è¯¦æƒ…ï¼š&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;detail&quot;</span> value=<span class="string">&quot;$&#123;book.getDetail() &#125;&quot;</span>/&gt;</span><br><span class="line">        &lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;æäº¤&quot;</span>/&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line"></span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<h4 id="â‘£-æ–¹æ³•å››ï¼šåˆ é™¤ä¹¦ç±"><a href="#â‘£-æ–¹æ³•å››ï¼šåˆ é™¤ä¹¦ç±" class="headerlink" title="â‘£ æ–¹æ³•å››ï¼šåˆ é™¤ä¹¦ç±"></a>â‘£ æ–¹æ³•å››ï¼šåˆ é™¤ä¹¦ç±</h4><h5 id="BookController-ç±»"><a href="#BookController-ç±»" class="headerlink" title="BookController ç±»"></a>BookController ç±»</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/del/&#123;bookId&#125;&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">deleteBook</span><span class="params">(<span class="meta">@PathVariable(&quot;bookId&quot;)</span> <span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">    bookService.deleteBookById(id);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;redirect:/book/allBook&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>é…ç½®Tomcatï¼Œè¿›è¡Œè¿è¡Œï¼</strong></p>
<p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œè¿™ä¸ªSSMé¡¹ç›®æ•´åˆå·²ç»å®Œå…¨çš„OKäº†ï¼Œå¯ä»¥ç›´æ¥è¿è¡Œè¿›è¡Œæµ‹è¯•ï¼è¿™ä¸ªç»ƒä¹ ååˆ†çš„é‡è¦ï¼Œå¤§å®¶éœ€è¦ä¿è¯ï¼Œä¸çœ‹ä»»ä½•ä¸œè¥¿ï¼Œè‡ªå·±ä¹Ÿå¯ä»¥å®Œæ•´çš„å®ç°å‡ºæ¥ï¼</p>
<p><strong>é¡¹ç›®ç»“æ„å›¾</strong> </p>
<img src="Spring.assets/1086489242.png" alt="1570186854191.png" style="zoom:80%;float:left" / loading="lazy">

<img src="Spring.assets/2326667495.png" alt="1570186868239.png" style="zoom:80%;float:left" / loading="lazy">

<h3 id="å°ç»“åŠå±•æœ›"><a href="#å°ç»“åŠå±•æœ›" class="headerlink" title="å°ç»“åŠå±•æœ›"></a>å°ç»“åŠå±•æœ›</h3><p>ç¬¬ä¸€ä¸ªSSMæ•´åˆæ¡ˆä¾‹ï¼Œä¸€å®šè¦çƒ‚ç†Ÿäºå¿ƒï¼</p>
<p>SSMæ¡†æ¶çš„é‡è¦ç¨‹åº¦æ˜¯ä¸è¨€è€Œå–»çš„ï¼Œå­¦åˆ°è¿™é‡Œï¼Œå·²ç»å¯ä»¥è¿›è¡ŒåŸºæœ¬ç½‘ç«™çš„å•ç‹¬å¼€å‘ã€‚ä½†æ˜¯è¿™åªæ˜¯å¢åˆ æ”¹æŸ¥çš„åŸºæœ¬æ“ä½œã€‚å¯ä»¥è¯´å­¦åˆ°è¿™é‡Œï¼Œæ‰ç®—æ˜¯çœŸæ­£çš„æ­¥å…¥äº†åå°å¼€å‘çš„é—¨ã€‚ä¹Ÿå°±æ˜¯èƒ½æ‰¾ä¸€ä¸ªåå°ç›¸å…³å·¥ä½œçš„åº•çº¿ã€‚</p>
<h2 id="9-æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½"><a href="#9-æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½" class="headerlink" title="9 æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½"></a>9 æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½</h2><h3 id="9-1-å‡†å¤‡å·¥ä½œ"><a href="#9-1-å‡†å¤‡å·¥ä½œ" class="headerlink" title="9.1  å‡†å¤‡å·¥ä½œ"></a>9.1  å‡†å¤‡å·¥ä½œ</h3><p>â€‹    æ–‡ä»¶ä¸Šä¼ æ˜¯é¡¹ç›®å¼€å‘ä¸­æœ€å¸¸è§çš„åŠŸèƒ½ä¹‹ä¸€ ,springMVC  å¯ä»¥å¾ˆå¥½çš„æ”¯æŒæ–‡ä»¶ä¸Šä¼ ï¼Œä½†æ˜¯SpringMVCä¸Šä¸‹æ–‡ä¸­é»˜è®¤æ²¡æœ‰è£…é…MultipartResolverï¼Œå› æ­¤é»˜è®¤æƒ…å†µä¸‹å…¶ä¸èƒ½å¤„ç†æ–‡ä»¶ä¸Šä¼ å·¥ä½œã€‚å¦‚æœæƒ³ä½¿ç”¨Springçš„æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½ï¼Œåˆ™éœ€è¦åœ¨ä¸Šä¸‹æ–‡ä¸­é…ç½®MultipartResolverã€‚</p>
<p>â€‹    å‰ç«¯è¡¨å•è¦æ±‚ï¼šä¸ºäº†èƒ½ä¸Šä¼ æ–‡ä»¶ï¼Œå¿…é¡»å°†è¡¨å•çš„methodè®¾ç½®ä¸ºPOSTï¼Œå¹¶å°†enctypeè®¾ç½®ä¸ºmultipart/form-dataã€‚åªæœ‰åœ¨è¿™æ ·çš„æƒ…å†µä¸‹ï¼Œæµè§ˆå™¨æ‰ä¼šæŠŠç”¨æˆ·é€‰æ‹©çš„æ–‡ä»¶ä»¥äºŒè¿›åˆ¶æ•°æ®å‘é€ç»™æœåŠ¡å™¨ï¼›</p>
<p><strong>å¯¹è¡¨å•ä¸­çš„ enctype å±æ€§åšä¸ªè¯¦ç»†çš„è¯´æ˜ï¼š</strong></p>
<ul>
<li>application/x-www=form-urlencodedï¼šé»˜è®¤æ–¹å¼ï¼Œåªå¤„ç†è¡¨å•åŸŸä¸­çš„ value å±æ€§å€¼ï¼Œé‡‡ç”¨è¿™ç§ç¼–ç æ–¹å¼çš„è¡¨å•ä¼šå°†è¡¨å•åŸŸä¸­çš„å€¼å¤„ç†æˆ URL ç¼–ç æ–¹å¼ã€‚</li>
<li>multipart/form-dataï¼šè¿™ç§ç¼–ç æ–¹å¼ä¼šä»¥äºŒè¿›åˆ¶æµçš„æ–¹å¼æ¥å¤„ç†è¡¨å•æ•°æ®ï¼Œè¿™ç§ç¼–ç æ–¹å¼ä¼šæŠŠæ–‡ä»¶åŸŸæŒ‡å®šæ–‡ä»¶çš„å†…å®¹ä¹Ÿå°è£…åˆ°è¯·æ±‚å‚æ•°ä¸­ï¼Œä¸ä¼šå¯¹å­—ç¬¦ç¼–ç ã€‚</li>
<li>text/plainï¼šé™¤äº†æŠŠç©ºæ ¼è½¬æ¢ä¸º â€œ+â€ å·å¤–ï¼Œå…¶ä»–å­—ç¬¦éƒ½ä¸åšç¼–ç å¤„ç†ï¼Œè¿™ç§æ–¹å¼é€‚ç”¨ç›´æ¥é€šè¿‡è¡¨å•å‘é€é‚®ä»¶ã€‚</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;&quot;</span> <span class="attr">enctype</span>=<span class="string">&quot;multipart/form-data&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">name</span>=<span class="string">&quot;file&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>â€‹     ä¸€æ—¦è®¾ç½®äº†enctypeä¸ºmultipart/form-dataï¼Œæµè§ˆå™¨å³ä¼šé‡‡ç”¨äºŒè¿›åˆ¶æµçš„æ–¹å¼æ¥å¤„ç†è¡¨å•æ•°æ®ï¼Œè€Œå¯¹äºæ–‡ä»¶ä¸Šä¼ çš„å¤„ç†åˆ™æ¶‰åŠåœ¨æœåŠ¡å™¨ç«¯è§£æåŸå§‹çš„HTTPå“åº”ã€‚åœ¨2003å¹´ï¼ŒApache Software Foundationå‘å¸ƒäº†å¼€æºçš„Commons  FileUploadç»„ä»¶ï¼Œå…¶å¾ˆå¿«æˆä¸ºServlet/JSPç¨‹åºå‘˜ä¸Šä¼ æ–‡ä»¶çš„æœ€ä½³é€‰æ‹©ã€‚</p>
<ul>
<li>Servlet3.0è§„èŒƒå·²ç»æä¾›æ–¹æ³•æ¥å¤„ç†æ–‡ä»¶ä¸Šä¼ ï¼Œä½†è¿™ç§ä¸Šä¼ éœ€è¦åœ¨Servletä¸­å®Œæˆã€‚</li>
<li>è€ŒSpring MVCåˆ™æä¾›äº†æ›´ç®€å•çš„å°è£…ã€‚</li>
<li>Spring MVCä¸ºæ–‡ä»¶ä¸Šä¼ æä¾›äº†ç›´æ¥çš„æ”¯æŒï¼Œè¿™ç§æ”¯æŒæ˜¯ç”¨å³æ’å³ç”¨çš„MultipartResolverå®ç°çš„ã€‚</li>
<li>Spring MVCä½¿ç”¨Apache Commons  FileUploadæŠ€æœ¯å®ç°äº†ä¸€ä¸ªMultipartResolverå®ç°ç±»ï¼šCommonsMultipartResolverã€‚å› æ­¤ï¼Œ==SpringMVCçš„æ–‡ä»¶ä¸Šä¼ è¿˜éœ€è¦ä¾èµ–Apache Commons FileUploadçš„ç»„ä»¶==ã€‚</li>
</ul>
<h3 id="9-2-æ–‡ä»¶ä¸Šä¼ "><a href="#9-2-æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="9.2  æ–‡ä»¶ä¸Šä¼ "></a>9.2  æ–‡ä»¶ä¸Šä¼ </h3><p>â‘  æ‹·jar</p>
<ul>
<li>commons-fileupload-1.2.1.jar</li>
<li>commons-io-1.3.2.jar</li>
</ul>
<p>â‘¡ jspé¡µé¢</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;/upload/fileup&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">enctype</span>=<span class="string">&quot;multipart/form-data&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">name</span>=<span class="string">&quot;file&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æäº¤&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>â‘¢ é…ç½®</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.aaa.handler&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mvc:annotation-driven</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;prefix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;/WEB-INF/jsp/&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;suffix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;.jsp&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">--------------------------------------------------------------------------------------</span><br><span class="line"><span class="comment">&lt;!-- å®šä¹‰æ–‡ä»¶ä¸Šä¼ è§£æå™¨ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;multipartResolver&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- è®¾å®šé»˜è®¤ç¼–ç  --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;defaultEncoding&quot;</span> <span class="attr">value</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- è®¾å®šæ–‡ä»¶ä¸Šä¼ çš„æœ€å¤§å€¼5MBï¼Œ5*1024*1024 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;maxUploadSize&quot;</span> <span class="attr">value</span>=<span class="string">&quot;5242880&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>â‘£ handlerç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@RequestMapping</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileUpHandler</span> </span>&#123;</span><br><span class="line">	<span class="meta">@RequestMapping(value=&quot;/fileup&quot;,method=RequestMethod.POST)</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">handleFormUpload</span><span class="params">(String name,MultipartFile file)</span></span>&#123;</span><br><span class="line">        <span class="comment">//MultipartFile  è¿™ä¸ªç±»ä¸€èˆ¬æ˜¯ç”¨æ¥æ¥å—å‰å°ä¼ è¿‡æ¥çš„æ–‡ä»¶</span></span><br><span class="line">		<span class="comment">//MultipartFileçš„è¡Œä¸º</span></span><br><span class="line">		System.out.println(name);</span><br><span class="line">		System.out.println(file.getName());<span class="comment">//å†…å®¹ç±»å‹</span></span><br><span class="line">		System.out.println(file.getContentType());<span class="comment">//è¡¨å•å…ƒç´ å</span></span><br><span class="line">		System.out.println(file.getOriginalFilename());<span class="comment">//æ–‡ä»¶å</span></span><br><span class="line">		System.out.println(file.getSize());<span class="comment">//æ–‡ä»¶å¤§å°</span></span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;ok&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">-------------------------------------------------------------------------------------</span><br><span class="line">    èŒƒå¾·è¨</span><br><span class="line">    file</span><br><span class="line">    text/plain</span><br><span class="line">    é¡¹ç›®æ¡ä»¶.txt</span><br><span class="line">    <span class="number">1079</span></span><br><span class="line">-------------------------------------------------------------------------------------</span><br><span class="line">    <span class="meta">@RequestMapping(value=&quot;/fileup2&quot;,method=RequestMethod.POST)</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">handleFormUpload2</span><span class="params">(String name,MultipartFile file,</span></span></span><br><span class="line"><span class="params"><span class="function">                                    HttpServletRequest res)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (file.isEmpty()) &#123;</span><br><span class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">&quot;æ–‡ä»¶ä¸ºç©ºï¼Œä¸èƒ½ä¸Šä¼ &quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">    </span><br><span class="line">		<span class="comment">//FilenameUtils.getExtension(file.getOriginalFilename())   è·å–æ–‡ä»¶åç¼€</span></span><br><span class="line">		<span class="comment">//FilenameUtils è¿™æ˜¯ä¸€ä¸ªJavaæ“ä½œæ–‡ä»¶çš„å¸¸ç”¨åº“ï¼›</span></span><br><span class="line">		<span class="comment">//FilenameUtilsæ˜¯å¯¹æ–‡ä»¶åæ“ä½œçš„å°è£…;</span></span><br><span class="line">		<span class="comment">//FileUtilsæ˜¯å¯¹æ–‡ä»¶æ“ä½œçš„å°è£…</span></span><br><span class="line">		String path=res.getServletContext().</span><br><span class="line">            getRealPath(<span class="string">&quot;/WEB-INF/files&quot;</span>)+<span class="string">&quot;/&quot;</span>+System.currentTimeMillis()+<span class="string">&quot;.&quot;</span>+</span><br><span class="line">            FilenameUtils.getExtension(file.getOriginalFilename());</span><br><span class="line">		File f = <span class="keyword">new</span> File(path);</span><br><span class="line">		file.transferTo(f);<span class="comment">//ä¼ é€æ–‡ä»¶è‡³f</span></span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;ok&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<hr>
<h5 id="ä¸€ã€å¯¼å…¥æ–‡ä»¶ä¸Šä¼ çš„jaråŒ…"><a href="#ä¸€ã€å¯¼å…¥æ–‡ä»¶ä¸Šä¼ çš„jaråŒ…" class="headerlink" title="ä¸€ã€å¯¼å…¥æ–‡ä»¶ä¸Šä¼ çš„jaråŒ…"></a>ä¸€ã€å¯¼å…¥æ–‡ä»¶ä¸Šä¼ çš„jaråŒ…</h5><p>commons-fileupload ï¼Œ Mavenä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬å¯¼å…¥ä»–çš„ä¾èµ–åŒ… commons-ioåŒ…ï¼›</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--æ–‡ä»¶ä¸Šä¼ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-fileupload<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-fileupload<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--servlet-apiå¯¼å…¥é«˜ç‰ˆæœ¬çš„--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.0.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="äºŒã€é…ç½®bean"><a href="#äºŒã€é…ç½®bean" class="headerlink" title="äºŒã€é…ç½®bean"></a>äºŒã€é…ç½®bean</h5><p>==multipartResolver==</p>
<p>ã€<strong>æ³¨æ„ï¼šè¿™ä¸ªbenaçš„idå¿…é¡»ä¸ºï¼šmultipartResolver ï¼Œ å¦åˆ™ä¸Šä¼ æ–‡ä»¶ä¼šæŠ¥400çš„é”™è¯¯ï¼åœ¨è¿™é‡Œæ ½è¿‡å‘,æ•™è®­ï¼</strong>ã€‘</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--æ–‡ä»¶ä¸Šä¼ é…ç½®--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;multipartResolver&quot;</span>  <span class="attr">class</span>=<span class="string">&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- è¯·æ±‚çš„ç¼–ç æ ¼å¼ï¼Œå¿…é¡»å’ŒjSPçš„pageEncodingå±æ€§ä¸€è‡´ï¼Œä»¥ä¾¿æ­£ç¡®è¯»å–è¡¨å•çš„å†…å®¹ï¼Œé»˜è®¤ä¸ºISO-8859-1 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;defaultEncoding&quot;</span> <span class="attr">value</span>=<span class="string">&quot;utf-8&quot;</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ä¸Šä¼ æ–‡ä»¶å¤§å°ä¸Šé™ï¼Œå•ä½ä¸ºå­—èŠ‚ï¼ˆ10485760=10Mï¼‰ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;maxUploadSize&quot;</span> <span class="attr">value</span>=<span class="string">&quot;10485760&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;maxInMemorySize&quot;</span> <span class="attr">value</span>=<span class="string">&quot;40960&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>CommonsMultipartFile çš„ å¸¸ç”¨æ–¹æ³•ï¼š</p>
<ul>
<li><strong>String getOriginalFilename()ï¼šè·å–ä¸Šä¼ æ–‡ä»¶çš„åŸå</strong></li>
<li><strong>InputStream getInputStream()ï¼šè·å–æ–‡ä»¶æµ</strong></li>
<li><strong>void transferTo(File dest)ï¼šå°†ä¸Šä¼ æ–‡ä»¶ä¿å­˜åˆ°ä¸€ä¸ªç›®å½•æ–‡ä»¶ä¸­</strong></li>
</ul>
<p>æˆ‘ä»¬å»å®é™…æµ‹è¯•ä¸€ä¸‹</p>
<h5 id="ä¸‰ã€ç¼–å†™å‰ç«¯é¡µé¢"><a href="#ä¸‰ã€ç¼–å†™å‰ç«¯é¡µé¢" class="headerlink" title="ä¸‰ã€ç¼–å†™å‰ç«¯é¡µé¢"></a>ä¸‰ã€ç¼–å†™å‰ç«¯é¡µé¢</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;/upload&quot;</span> <span class="attr">enctype</span>=<span class="string">&quot;multipart/form-data&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">name</span>=<span class="string">&quot;file&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;upload&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="å››ã€Controller"><a href="#å››ã€Controller" class="headerlink" title="å››ã€Controller"></a>å››ã€Controller</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileController</span> </span>&#123;</span><br><span class="line">    <span class="comment">//@RequestParam(&quot;file&quot;) å°†name=fileæ§ä»¶å¾—åˆ°çš„æ–‡ä»¶å°è£…æˆCommonsMultipartFile å¯¹è±¡</span></span><br><span class="line">    <span class="comment">//æ‰¹é‡ä¸Šä¼ CommonsMultipartFileåˆ™ä¸ºæ•°ç»„å³å¯</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/upload&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">fileUpload</span><span class="params">(<span class="meta">@RequestParam(&quot;file&quot;)</span> CommonsMultipartFile file , HttpServletRequest request)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è·å–æ–‡ä»¶å : file.getOriginalFilename();</span></span><br><span class="line">        String uploadFileName = file.getOriginalFilename();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å¦‚æœæ–‡ä»¶åä¸ºç©ºï¼Œç›´æ¥å›åˆ°é¦–é¡µï¼</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="string">&quot;&quot;</span>.equals(uploadFileName))&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;redirect:/index.jsp&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;ä¸Šä¼ æ–‡ä»¶å : &quot;</span>+uploadFileName);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ä¸Šä¼ è·¯å¾„ä¿å­˜è®¾ç½®</span></span><br><span class="line">        String path = request.getServletContext().getRealPath(<span class="string">&quot;/upload&quot;</span>);</span><br><span class="line">        <span class="comment">//å¦‚æœè·¯å¾„ä¸å­˜åœ¨ï¼Œåˆ›å»ºä¸€ä¸ª</span></span><br><span class="line">        File realPath = <span class="keyword">new</span> File(path);</span><br><span class="line">        <span class="keyword">if</span> (!realPath.exists())&#123;</span><br><span class="line">            realPath.mkdir();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;ä¸Šä¼ æ–‡ä»¶ä¿å­˜åœ°å€ï¼š&quot;</span>+realPath);</span><br><span class="line"></span><br><span class="line">        InputStream is = file.getInputStream(); <span class="comment">//æ–‡ä»¶è¾“å…¥æµ</span></span><br><span class="line">        OutputStream os = <span class="keyword">new</span> FileOutputStream(<span class="keyword">new</span> File(realPath,uploadFileName)); <span class="comment">//æ–‡ä»¶è¾“å‡ºæµ</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//è¯»å–å†™å‡º</span></span><br><span class="line">        <span class="keyword">int</span> len=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">byte</span>[] buffer = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="keyword">while</span> ((len=is.read(buffer))!=-<span class="number">1</span>)&#123;</span><br><span class="line">            os.write(buffer,<span class="number">0</span>,len);</span><br><span class="line">            os.flush();</span><br><span class="line">        &#125;</span><br><span class="line">        os.close();</span><br><span class="line">        is.close();</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;redirect:/index.jsp&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="9-3-é‡‡ç”¨file-Transto-æ¥ä¿å­˜ä¸Šä¼ çš„æ–‡ä»¶"><a href="#9-3-é‡‡ç”¨file-Transto-æ¥ä¿å­˜ä¸Šä¼ çš„æ–‡ä»¶" class="headerlink" title="9.3  é‡‡ç”¨file.Transto æ¥ä¿å­˜ä¸Šä¼ çš„æ–‡ä»¶"></a>9.3  é‡‡ç”¨file.Transto æ¥ä¿å­˜ä¸Šä¼ çš„æ–‡ä»¶</h3><ol>
<li><p>ç¼–å†™Controller</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//é‡‡ç”¨file.Transto æ¥ä¿å­˜ä¸Šä¼ çš„æ–‡ä»¶</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/upload2&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String  <span class="title">fileUpload2</span><span class="params">(<span class="meta">@RequestParam(&quot;file&quot;)</span> CommonsMultipartFile file, HttpServletRequest request)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ä¸Šä¼ è·¯å¾„ä¿å­˜è®¾ç½®</span></span><br><span class="line">    String path = request.getServletContext().getRealPath(<span class="string">&quot;/upload&quot;</span>);</span><br><span class="line">    File realPath = <span class="keyword">new</span> File(path);</span><br><span class="line">    <span class="keyword">if</span> (!realPath.exists())&#123;</span><br><span class="line">        realPath.mkdir();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//ä¸Šä¼ æ–‡ä»¶åœ°å€</span></span><br><span class="line">    System.out.println(<span class="string">&quot;ä¸Šä¼ æ–‡ä»¶ä¿å­˜åœ°å€ï¼š&quot;</span>+realPath);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//é€šè¿‡CommonsMultipartFileçš„æ–¹æ³•ç›´æ¥å†™æ–‡ä»¶ï¼ˆæ³¨æ„è¿™ä¸ªæ—¶å€™ï¼‰</span></span><br><span class="line">    file.transferTo(<span class="keyword">new</span> File(realPath +<span class="string">&quot;/&quot;</span>+ file.getOriginalFilename()));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;redirect:/index.jsp&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>å‰ç«¯è¡¨å•æäº¤åœ°å€ä¿®æ”¹</p>
</li>
<li><p>è®¿é—®æäº¤æµ‹è¯•ï¼ŒOKï¼</p>
</li>
</ol>
<h3 id="9-4-æ–‡ä»¶ä¸‹è½½"><a href="#9-4-æ–‡ä»¶ä¸‹è½½" class="headerlink" title="9.4  æ–‡ä»¶ä¸‹è½½"></a>9.4  æ–‡ä»¶ä¸‹è½½</h3><p>æ–‡ä»¶ä¸‹è½½æ­¥éª¤ï¼š</p>
<ol>
<li>è®¾ç½® response å“åº”å¤´</li>
<li>è¯»å–æ–‡ä»¶ â€“ InputStream</li>
<li>å†™å‡ºæ–‡ä»¶ â€“ OutputStream</li>
<li>æ‰§è¡Œæ“ä½œ</li>
<li>å…³é—­æµ ï¼ˆå…ˆå¼€åå…³ï¼‰</li>
</ol>
<p>ä»£ç å®ç°ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(value=&quot;/download&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">downloads</span><span class="params">(HttpServletResponse response ,HttpServletRequest request)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">    <span class="comment">//è¦ä¸‹è½½çš„å›¾ç‰‡åœ°å€</span></span><br><span class="line">    String  path = request.getServletContext().getRealPath(<span class="string">&quot;/upload&quot;</span>);</span><br><span class="line">    String  fileName = <span class="string">&quot;åŸºç¡€è¯­æ³•.jpg&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//1ã€è®¾ç½®response å“åº”å¤´</span></span><br><span class="line">    response.reset(); <span class="comment">//è®¾ç½®é¡µé¢ä¸ç¼“å­˜,æ¸…ç©ºbuffer</span></span><br><span class="line">    response.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>); <span class="comment">//å­—ç¬¦ç¼–ç </span></span><br><span class="line">    response.setContentType(<span class="string">&quot;multipart/form-data&quot;</span>); <span class="comment">//äºŒè¿›åˆ¶ä¼ è¾“æ•°æ®</span></span><br><span class="line">    <span class="comment">//è®¾ç½®å“åº”å¤´</span></span><br><span class="line">    response.setHeader(<span class="string">&quot;Content-Disposition&quot;</span>,</span><br><span class="line">            <span class="string">&quot;attachment;fileName=&quot;</span>+URLEncoder.encode(fileName, <span class="string">&quot;UTF-8&quot;</span>));</span><br><span class="line"></span><br><span class="line">    File file = <span class="keyword">new</span> File(path,fileName);</span><br><span class="line">    <span class="comment">//2ã€ è¯»å–æ–‡ä»¶--è¾“å…¥æµ</span></span><br><span class="line">    InputStream input=<span class="keyword">new</span> FileInputStream(file);</span><br><span class="line">    <span class="comment">//3ã€ å†™å‡ºæ–‡ä»¶--è¾“å‡ºæµ</span></span><br><span class="line">    OutputStream out = response.getOutputStream();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">byte</span>[] buff =<span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">    <span class="keyword">int</span> index=<span class="number">0</span>;</span><br><span class="line">    <span class="comment">//4ã€æ‰§è¡Œ å†™å‡ºæ“ä½œ</span></span><br><span class="line">    <span class="keyword">while</span>((index= input.read(buff))!= -<span class="number">1</span>)&#123;</span><br><span class="line">        out.write(buff, <span class="number">0</span>, index);</span><br><span class="line">        out.flush();</span><br><span class="line">    &#125;</span><br><span class="line">    out.close();</span><br><span class="line">    input.close();</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å‰ç«¯</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/download&quot;</span>&gt;</span>ç‚¹å‡»ä¸‹è½½<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æµ‹è¯•ï¼Œæ–‡ä»¶ä¸‹è½½OKï¼Œå¤§å®¶å¯ä»¥å’Œæˆ‘ä»¬ä¹‹å‰å­¦ä¹ çš„JavaWebåŸç”Ÿçš„æ–¹å¼å¯¹æ¯”ä¸€ä¸‹ï¼Œå°±å¯ä»¥çŸ¥é“è¿™ä¸ªä¾¿æ·å¤šäº†!</p>
<h2 id="10-æ‹¦æˆªå™¨"><a href="#10-æ‹¦æˆªå™¨" class="headerlink" title="10 æ‹¦æˆªå™¨"></a>10 æ‹¦æˆªå™¨</h2><blockquote>
<p>å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/38a260953a5a">https://www.jianshu.com/p/38a260953a5a</a></p>
<p>å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://blog.csdn.net/fd2025/article/details/80564584">https://blog.csdn.net/fd2025/article/details/80564584</a></p>
<p>å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/1e8d088c2be9">https://www.jianshu.com/p/1e8d088c2be9</a></p>
</blockquote>
<h3 id="10-1-æ¦‚è¿°"><a href="#10-1-æ¦‚è¿°" class="headerlink" title="10.1  æ¦‚è¿°"></a>10.1  æ¦‚è¿°</h3><p>SpringMVCçš„å¤„ç†å™¨æ‹¦æˆªå™¨ç±»ä¼¼äºServletå¼€å‘ä¸­çš„è¿‡æ»¤å™¨Filter,ç”¨äºå¯¹å¤„ç†å™¨è¿›è¡Œé¢„å¤„ç†å’Œåå¤„ç†ã€‚å¼€å‘è€…å¯ä»¥è‡ªå·±å®šä¹‰ä¸€äº›æ‹¦æˆªå™¨æ¥å®ç°ç‰¹å®šçš„åŠŸèƒ½ã€‚</p>
<p><strong>è¿‡æ»¤å™¨ä¸æ‹¦æˆªå™¨çš„åŒºåˆ«ï¼š</strong></p>
<blockquote>
<p>æ‹¦æˆªå™¨æ˜¯AOPæ€æƒ³çš„å…·ä½“åº”ç”¨ã€‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>è¿‡æ»¤å™¨</th>
<th>æ‹¦æˆªå™¨</th>
</tr>
</thead>
<tbody><tr>
<td>servletè§„èŒƒä¸­çš„ä¸€éƒ¨åˆ†ï¼Œä»»ä½•java webå·¥ç¨‹éƒ½å¯ä»¥ä½¿ç”¨</td>
<td>æ‹¦æˆªå™¨æ˜¯SpringMVCæ¡†æ¶è‡ªå·±çš„ï¼Œåªæœ‰ä½¿ç”¨äº†SpringMVCæ¡†æ¶çš„å·¥ç¨‹æ‰èƒ½ä½¿ç”¨</td>
</tr>
<tr>
<td>åœ¨url-patternä¸­é…ç½®äº†<code>/*</code>ä¹‹åï¼Œå¯ä»¥å¯¹æ‰€æœ‰è¦è®¿é—®çš„èµ„æºè¿›è¡Œæ‹¦æˆªï¼ˆåŒ…æ‹¬<strong>é™æ€èµ„æº</strong>ï¼‰</td>
<td>æ‹¦æˆªå™¨<strong>åªä¼šæ‹¦æˆªè®¿é—®çš„æ§åˆ¶å™¨æ–¹æ³•</strong>ï¼Œ å¦‚æœè®¿é—®çš„æ˜¯jsp/html/css/image/jsæ˜¯ä¸ä¼šè¿›è¡Œæ‹¦æˆªçš„ï¼ˆ<strong>è‡ªå¸¦é™æ€èµ„æºè¿‡æ»¤</strong>ï¼‰</td>
</tr>
</tbody></table>
<h3 id="10-2-è‡ªå®šä¹‰æ‹¦æˆªå™¨ï¼ˆå®ç°HandlerInterceptorï¼‰"><a href="#10-2-è‡ªå®šä¹‰æ‹¦æˆªå™¨ï¼ˆå®ç°HandlerInterceptorï¼‰" class="headerlink" title="10.2  è‡ªå®šä¹‰æ‹¦æˆªå™¨ï¼ˆå®ç°HandlerInterceptorï¼‰"></a>10.2  è‡ªå®šä¹‰æ‹¦æˆªå™¨ï¼ˆå®ç°HandlerInterceptorï¼‰</h3><blockquote>
<p>é‚£å¦‚ä½•å®ç°æ‹¦æˆªå™¨å‘¢ï¼Ÿ</p>
<p>æƒ³è¦è‡ªå®šä¹‰æ‹¦æˆªå™¨ï¼Œå¿…é¡»å®ç° HandlerInterceptor æ¥å£ã€‚</p>
</blockquote>
<h4 id="1ã€å®ç°æ‹¦æˆªå™¨ç±»"><a href="#1ã€å®ç°æ‹¦æˆªå™¨ç±»" class="headerlink" title="1ã€å®ç°æ‹¦æˆªå™¨ç±»"></a>1ã€å®ç°æ‹¦æˆªå™¨ç±»</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyInterceptor</span> <span class="keyword">implements</span> <span class="title">HandlerInterceptor</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åœ¨è¯·æ±‚å¤„ç†çš„æ–¹æ³•ä¹‹å‰æ‰§è¡Œ</span></span><br><span class="line">    <span class="comment">//å¦‚æœè¿”å›trueæ‰§è¡Œä¸‹ä¸€ä¸ªæ‹¦æˆªå™¨</span></span><br><span class="line">    <span class="comment">//å¦‚æœè¿”å›falseå°±ä¸æ‰§è¡Œä¸‹ä¸€ä¸ªæ‹¦æˆªå™¨</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">preHandle</span><span class="params">(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, Object o)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;------------å¤„ç†å‰------------&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åœ¨è¯·æ±‚å¤„ç†æ–¹æ³•æ‰§è¡Œä¹‹åæ‰§è¡Œ</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">postHandle</span><span class="params">(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, Object o, ModelAndView modelAndView)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;------------å¤„ç†å------------&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åœ¨dispatcherServletå¤„ç†åæ‰§è¡Œ,åšæ¸…ç†å·¥ä½œ.</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterCompletion</span><span class="params">(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, Object o, Exception e)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;------------æ¸…ç†------------&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2ã€é…ç½®æ‹¦æˆªå™¨"><a href="#2ã€é…ç½®æ‹¦æˆªå™¨" class="headerlink" title="2ã€é…ç½®æ‹¦æˆªå™¨"></a>2ã€é…ç½®æ‹¦æˆªå™¨</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--å…³äºæ‹¦æˆªå™¨çš„é…ç½®--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mvc:interceptors</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:interceptor</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--/** åŒ…æ‹¬è·¯å¾„åŠå…¶å­è·¯å¾„--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--/admin/* æ‹¦æˆªçš„æ˜¯/admin/addç­‰ç­‰è¿™ç§ , /admin/add/userä¸ä¼šè¢«æ‹¦æˆª--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--/admin/** æ‹¦æˆªçš„æ˜¯/admin/ä¸‹çš„æ‰€æœ‰--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mvc:mapping</span> <span class="attr">path</span>=<span class="string">&quot;/**&quot;</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--beané…ç½®çš„å°±æ˜¯æ‹¦æˆªå™¨--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;com.kuang.interceptor.MyInterceptor&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mvc:interceptor</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mvc:interceptors</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="3ã€Controllerå±‚"><a href="#3ã€Controllerå±‚" class="headerlink" title="3ã€Controllerå±‚"></a>3ã€Controllerå±‚</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æµ‹è¯•æ‹¦æˆªå™¨çš„æ§åˆ¶å™¨ï¼Œæ¥æ”¶è¯·æ±‚</span></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InterceptorController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/interceptor&quot;)</span></span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">testFunction</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ§åˆ¶å™¨ä¸­çš„æ–¹æ³•æ‰§è¡Œäº†&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="4ã€å‰ç«¯-index-jsp"><a href="#4ã€å‰ç«¯-index-jsp" class="headerlink" title="4ã€å‰ç«¯ index.jsp"></a>4ã€å‰ç«¯ index.jsp</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/interceptor&quot;</span>&gt;</span>æ‹¦æˆªå™¨æµ‹è¯•<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>5ã€å¯åŠ¨tomcat æµ‹è¯•ä¸€ä¸‹ï¼</p>
<img src="Spring.assets/2785405154.png" alt="1570205071233.png" style="zoom:80%;float:left" / loading="lazy">

<h3 id="10-3-éªŒè¯ç”¨æˆ·æ˜¯å¦ç™»å½•-è®¤è¯ç”¨æˆ·"><a href="#10-3-éªŒè¯ç”¨æˆ·æ˜¯å¦ç™»å½•-è®¤è¯ç”¨æˆ·" class="headerlink" title="10.3  éªŒè¯ç”¨æˆ·æ˜¯å¦ç™»å½• (è®¤è¯ç”¨æˆ·)"></a>10.3  éªŒè¯ç”¨æˆ·æ˜¯å¦ç™»å½• (è®¤è¯ç”¨æˆ·)</h3><h4 id="1ã€å®ç°æ€è·¯"><a href="#1ã€å®ç°æ€è·¯" class="headerlink" title="1ã€å®ç°æ€è·¯"></a>1ã€å®ç°æ€è·¯</h4><ol>
<li>æœ‰ä¸€ä¸ªç™»é™†é¡µé¢ï¼Œéœ€è¦å†™ä¸€ä¸ªcontrollerè®¿é—®é¡µé¢ã€‚</li>
<li>ç™»é™†é¡µé¢æœ‰ä¸€æäº¤è¡¨å•çš„åŠ¨ä½œã€‚éœ€è¦åœ¨controllerä¸­å¤„ç†ã€‚åˆ¤æ–­ç”¨æˆ·åå¯†ç æ˜¯å¦æ­£ç¡®ã€‚å¦‚æœæ­£ç¡®ï¼Œå‘sessionä¸­å†™å…¥ç”¨æˆ·ä¿¡æ¯ã€‚<em>è¿”å›ç™»é™†æˆåŠŸã€‚</em></li>
<li>æ‹¦æˆªç”¨æˆ·è¯·æ±‚ï¼Œåˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»é™†ã€‚å¦‚æœç”¨æˆ·å·²ç»ç™»é™†ã€‚æ”¾è¡Œï¼Œ å¦‚æœç”¨æˆ·æœªç™»é™†ï¼Œè·³è½¬åˆ°ç™»é™†é¡µé¢</li>
</ol>
<h4 id="2ã€ä»£ç ç¼–å†™"><a href="#2ã€ä»£ç ç¼–å†™" class="headerlink" title="2ã€ä»£ç ç¼–å†™"></a>2ã€ä»£ç ç¼–å†™</h4><h5 id="â‘ -ç™»é™†é¡µé¢-login-jsp"><a href="#â‘ -ç™»é™†é¡µé¢-login-jsp" class="headerlink" title="â‘  ç™»é™†é¡µé¢  login.jsp"></a>â‘  ç™»é™†é¡µé¢  login.jsp</h5><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;h1&gt;ç™»å½•é¡µé¢&lt;/h1&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;form action=<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/user/login&quot;</span>&gt;</span><br><span class="line">    ç”¨æˆ·åï¼š&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;username&quot;</span>&gt; &lt;br&gt;</span><br><span class="line">    å¯†ç ï¼š &lt;input type=<span class="string">&quot;password&quot;</span> name=<span class="string">&quot;pwd&quot;</span>&gt; &lt;br&gt;</span><br><span class="line">    &lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;æäº¤&quot;</span>&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h5 id="â‘¡-Controllerå¤„ç†è¯·æ±‚"><a href="#â‘¡-Controllerå¤„ç†è¯·æ±‚" class="headerlink" title="â‘¡ Controllerå¤„ç†è¯·æ±‚"></a>â‘¡ Controllerå¤„ç†è¯·æ±‚</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è·³è½¬åˆ°ç™»é™†é¡µé¢</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/jumplogin&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">jumpLogin</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;login&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è·³è½¬åˆ°æˆåŠŸé¡µé¢</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/jumpSuccess&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">jumpSuccess</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç™»é™†æäº¤</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/login&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">login</span><span class="params">(HttpSession session, String username, String pwd)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">// å‘sessionè®°å½•ç”¨æˆ·èº«ä»½ä¿¡æ¯</span></span><br><span class="line">        System.out.println(<span class="string">&quot;æ¥æ”¶å‰ç«¯===&quot;</span>+username);</span><br><span class="line">        session.setAttribute(<span class="string">&quot;user&quot;</span>, username);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//é€€å‡ºç™»é™†</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;logout&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">logout</span><span class="params">(HttpSession session)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">// session è¿‡æœŸ</span></span><br><span class="line">        session.invalidate();</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;login&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="â‘¢-ç™»é™†æˆåŠŸçš„é¡µé¢-success-jsp"><a href="#â‘¢-ç™»é™†æˆåŠŸçš„é¡µé¢-success-jsp" class="headerlink" title="â‘¢ ç™»é™†æˆåŠŸçš„é¡µé¢ success.jsp"></a>â‘¢ ç™»é™†æˆåŠŸçš„é¡µé¢ success.jsp</h5><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;h1&gt;ç™»å½•æˆåŠŸé¡µé¢&lt;/h1&gt;</span><br><span class="line">&lt;hr&gt;</span><br><span class="line"></span><br><span class="line">$&#123;user&#125;</span><br><span class="line">&lt;a href=<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/user/logout&quot;</span>&gt;æ³¨é”€&lt;/a&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>â‘£ åœ¨ index é¡µé¢ä¸Šæµ‹è¯•è·³è½¬ï¼å¯åŠ¨Tomcat æµ‹è¯•ï¼Œæœªç™»å½•ä¹Ÿå¯ä»¥è¿›å…¥ä¸»é¡µï¼</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;title&gt;$Title$&lt;/title&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">  &lt;h1&gt;é¦–é¡µ&lt;/h1&gt;</span><br><span class="line">  &lt;hr&gt;</span><br><span class="line">  &lt;%--ç™»å½•--%&gt;</span><br><span class="line">  &lt;a href=<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/user/jumplogin&quot;</span>&gt;ç™»å½•&lt;/a&gt;</span><br><span class="line">  &lt;a href=<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/user/jumpSuccess&quot;</span>&gt;æˆåŠŸé¡µé¢&lt;/a&gt;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h5 id="â‘¤-ç”¨æˆ·ç™»å½•æ‹¦æˆªå™¨"><a href="#â‘¤-ç”¨æˆ·ç™»å½•æ‹¦æˆªå™¨" class="headerlink" title="â‘¤ ç”¨æˆ·ç™»å½•æ‹¦æˆªå™¨"></a>â‘¤ ç”¨æˆ·ç™»å½•æ‹¦æˆªå™¨</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LoginInterceptor</span> <span class="keyword">implements</span> <span class="title">HandlerInterceptor</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">preHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">// å¦‚æœæ˜¯ç™»é™†é¡µé¢åˆ™æ”¾è¡Œ</span></span><br><span class="line">        System.out.println(<span class="string">&quot;uri: &quot;</span> + request.getRequestURI());</span><br><span class="line">        <span class="keyword">if</span> (request.getRequestURI().contains(<span class="string">&quot;login&quot;</span>)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        HttpSession session = request.getSession();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¦‚æœç”¨æˆ·å·²ç™»é™†ä¹Ÿæ”¾è¡Œ</span></span><br><span class="line">        <span class="keyword">if</span>(session.getAttribute(<span class="string">&quot;user&quot;</span>) != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç”¨æˆ·æ²¡æœ‰ç™»é™†è·³è½¬åˆ°ç™»é™†é¡µé¢</span></span><br><span class="line">        request.getRequestDispatcher(<span class="string">&quot;/WEB-INF/jsp/login.jsp&quot;</span>).forward(request, response);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">postHandle</span><span class="params">(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, Object o, ModelAndView modelAndView)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterCompletion</span><span class="params">(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, Object o, Exception e)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="â‘¥-åœ¨Springmvcçš„é…ç½®æ–‡ä»¶ä¸­æ³¨å†Œæ‹¦æˆªå™¨"><a href="#â‘¥-åœ¨Springmvcçš„é…ç½®æ–‡ä»¶ä¸­æ³¨å†Œæ‹¦æˆªå™¨" class="headerlink" title="â‘¥ åœ¨Springmvcçš„é…ç½®æ–‡ä»¶ä¸­æ³¨å†Œæ‹¦æˆªå™¨"></a>â‘¥ åœ¨Springmvcçš„é…ç½®æ–‡ä»¶ä¸­æ³¨å†Œæ‹¦æˆªå™¨</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--å…³äºæ‹¦æˆªå™¨çš„é…ç½®--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mvc:interceptors</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:interceptor</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mvc:mapping</span> <span class="attr">path</span>=<span class="string">&quot;/**&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;loginInterceptor&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.kuang.interceptor.LoginInterceptor&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mvc:interceptor</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mvc:interceptors</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="7">
<li>å†æ¬¡é‡å¯Tomcatæµ‹è¯•ï¼</li>
</ol>
<p><strong>OKï¼Œæµ‹è¯•ç™»å½•æ‹¦æˆªåŠŸèƒ½æ— è¯¯.</strong></p>
<p>â€‹        </p>
<h2 id="11-AjaxæŠ€æœ¯"><a href="#11-AjaxæŠ€æœ¯" class="headerlink" title="11 AjaxæŠ€æœ¯"></a>11 AjaxæŠ€æœ¯</h2><h3 id="11-1-ç®€ä»‹"><a href="#11-1-ç®€ä»‹" class="headerlink" title="11.1  ç®€ä»‹"></a>11.1  ç®€ä»‹</h3><ul>
<li><p><strong>AJAX = Asynchronous JavaScript and XMLï¼ˆå¼‚æ­¥çš„ JavaScript å’Œ XMLï¼‰ã€‚</strong></p>
</li>
<li><p>AJAX æ˜¯ä¸€ç§åœ¨æ— éœ€é‡æ–°åŠ è½½æ•´ä¸ªç½‘é¡µçš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿæ›´æ–°éƒ¨åˆ†ç½‘é¡µçš„æŠ€æœ¯ã€‚</p>
</li>
<li><p><strong>Ajax ä¸æ˜¯ä¸€ç§æ–°çš„ç¼–ç¨‹è¯­è¨€ï¼Œè€Œæ˜¯ä¸€ç§ç”¨äºåˆ›å»ºæ›´å¥½æ›´å¿«ä»¥åŠäº¤äº’æ€§æ›´å¼ºçš„Webåº”ç”¨ç¨‹åºçš„æŠ€æœ¯ã€‚</strong></p>
</li>
<li><p>åœ¨ 2005 å¹´ï¼ŒGoogle é€šè¿‡å…¶ Google Suggest ä½¿ AJAX å˜å¾—æµè¡Œèµ·æ¥ã€‚Google Suggestèƒ½å¤Ÿè‡ªåŠ¨å¸®ä½ å®Œæˆæœç´¢å•è¯ã€‚</p>
</li>
<li><p>Google Suggest ä½¿ç”¨ AJAX åˆ›é€ å‡ºåŠ¨æ€æ€§æå¼ºçš„ web ç•Œé¢ï¼šå½“æ‚¨åœ¨è°·æ­Œçš„æœç´¢æ¡†è¾“å…¥å…³é”®å­—æ—¶ï¼ŒJavaScript ä¼šæŠŠè¿™äº›å­—ç¬¦å‘é€åˆ°æœåŠ¡å™¨ï¼Œç„¶åæœåŠ¡å™¨ä¼šè¿”å›ä¸€ä¸ªæœç´¢å»ºè®®çš„åˆ—è¡¨ã€‚</p>
</li>
<li><p>å°±å’Œå›½å†…ç™¾åº¦çš„æœç´¢æ¡†ä¸€æ ·ï¼š<br>  <img src="Spring.assets/3986165583.png" alt="1570200763067.png" loading="lazy"></p>
</li>
<li><p>ä¼ ç»Ÿçš„ç½‘é¡µ(å³ä¸ç”¨ajaxæŠ€æœ¯çš„ç½‘é¡µ)ï¼Œæƒ³è¦æ›´æ–°å†…å®¹æˆ–è€…æäº¤ä¸€ä¸ªè¡¨å•ï¼Œéƒ½éœ€è¦é‡æ–°åŠ è½½æ•´ä¸ªç½‘é¡µã€‚</p>
</li>
<li><p>ä½¿ç”¨ajaxæŠ€æœ¯çš„ç½‘é¡µï¼Œé€šè¿‡åœ¨åå°æœåŠ¡å™¨è¿›è¡Œå°‘é‡çš„æ•°æ®äº¤æ¢ï¼Œå°±å¯ä»¥å®ç°å¼‚æ­¥å±€éƒ¨æ›´æ–°ã€‚</p>
</li>
<li><p>ä½¿ç”¨Ajaxï¼Œç”¨æˆ·å¯ä»¥åˆ›å»ºæ¥è¿‘æœ¬åœ°æ¡Œé¢åº”ç”¨çš„ç›´æ¥ã€é«˜å¯ç”¨ã€æ›´ä¸°å¯Œã€æ›´åŠ¨æ€çš„Webç”¨æˆ·ç•Œé¢ã€‚</p>
</li>
</ul>
<h3 id="11-2-ä¼ªé€ Ajax"><a href="#11-2-ä¼ªé€ Ajax" class="headerlink" title="11.2  ä¼ªé€ Ajax"></a>11.2  ä¼ªé€ Ajax</h3><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‰ç«¯çš„ä¸€ä¸ªæ ‡ç­¾æ¥ä¼ªé€ ä¸€ä¸ªajaxçš„æ ·å­ã€‚ iframeæ ‡ç­¾</p>
<ol>
<li><p>æ–°å»ºä¸€ä¸ªmodule ï¼š sspringmvc-06-ajax ï¼Œ å¯¼å…¥webæ”¯æŒï¼</p>
</li>
<li><p>ç¼–å†™ä¸€ä¸ª ajax-frame.html ä½¿ç”¨ iframe æµ‹è¯•ï¼Œæ„Ÿå—ä¸‹æ•ˆæœ</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>kuangshen<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript"> <span class="keyword">var</span> myDate = <span class="keyword">new</span> <span class="built_in">Date</span>();</span></span><br><span class="line"><span class="javascript"> <span class="built_in">document</span>.getElementById(<span class="string">&#x27;currentTime&#x27;</span>).innerText = myDate.getTime();</span></span><br><span class="line"><span class="javascript">&#125;;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">LoadPage</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript"> <span class="keyword">var</span> targetUrl =  <span class="built_in">document</span>.getElementById(<span class="string">&#x27;url&#x27;</span>).value;</span></span><br><span class="line"><span class="javascript"> <span class="built_in">console</span>.log(targetUrl);</span></span><br><span class="line"><span class="javascript"> <span class="built_in">document</span>.getElementById(<span class="string">&quot;iframePosition&quot;</span>).src = targetUrl;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>è¯·è¾“å…¥è¦åŠ è½½çš„åœ°å€ï¼š<span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;currentTime&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;url&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">value</span>=<span class="string">&quot;https://www.baidu.com/&quot;</span>/&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æäº¤&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;LoadPage()&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>åŠ è½½é¡µé¢ä½ç½®ï¼š<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">id</span>=<span class="string">&quot;iframePosition&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 100%;height: 500px;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>ä½¿ç”¨IDEAå¼€æµè§ˆå™¨æµ‹è¯•ä¸€ä¸‹ï¼</p>
</li>
</ol>
<p><strong>åˆ©ç”¨AJAXå¯ä»¥åšï¼š</strong></p>
<ul>
<li>æ³¨å†Œæ—¶ï¼Œè¾“å…¥ç”¨æˆ·åè‡ªåŠ¨æ£€æµ‹ç”¨æˆ·æ˜¯å¦å·²ç»å­˜åœ¨ã€‚</li>
<li>ç™»é™†æ—¶ï¼Œæç¤ºç”¨æˆ·åå¯†ç é”™è¯¯</li>
<li>åˆ é™¤æ•°æ®è¡Œæ—¶ï¼Œå°†è¡ŒIDå‘é€åˆ°åå°ï¼Œåå°åœ¨æ•°æ®åº“ä¸­åˆ é™¤ï¼Œæ•°æ®åº“åˆ é™¤æˆåŠŸåï¼Œåœ¨é¡µé¢DOMä¸­å°†æ•°æ®è¡Œä¹Ÿåˆ é™¤ã€‚</li>
<li>â€¦.ç­‰ç­‰</li>
</ul>
<h3 id="11-3-jQuery-ajax"><a href="#11-3-jQuery-ajax" class="headerlink" title="11.3  jQuery.ajax"></a>11.3  jQuery.ajax</h3><ul>
<li>çº¯JSåŸç”Ÿå®ç°Ajaxæˆ‘ä»¬ä¸å»è®²è§£è¿™é‡Œï¼Œç›´æ¥ä½¿ç”¨jqueryæä¾›çš„ï¼Œæ–¹ä¾¿å­¦ä¹ å’Œä½¿ç”¨ï¼Œé¿å…é‡å¤é€ è½®å­ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥å»äº†è§£ä¸‹JSåŸç”ŸXMLHttpRequest ï¼</li>
<li>Ajaxçš„æ ¸å¿ƒæ˜¯XMLHttpRequestå¯¹è±¡(XHR)ã€‚XHRä¸ºå‘æœåŠ¡å™¨å‘é€è¯·æ±‚å’Œè§£ææœåŠ¡å™¨å“åº”æä¾›äº†æ¥å£ã€‚èƒ½å¤Ÿä»¥å¼‚æ­¥æ–¹å¼ä»æœåŠ¡å™¨è·å–æ–°æ•°æ®ã€‚</li>
<li>jQuery æä¾›å¤šä¸ªä¸ AJAX æœ‰å…³çš„æ–¹æ³•ã€‚</li>
<li>é€šè¿‡ jQuery AJAX æ–¹æ³•ï¼Œæ‚¨èƒ½å¤Ÿä½¿ç”¨ HTTP Get å’Œ HTTP Post ä»è¿œç¨‹æœåŠ¡å™¨ä¸Šè¯·æ±‚æ–‡æœ¬ã€HTMLã€XML æˆ– JSON â€“ åŒæ—¶æ‚¨èƒ½å¤ŸæŠŠè¿™äº›å¤–éƒ¨æ•°æ®ç›´æ¥è½½å…¥ç½‘é¡µçš„è¢«é€‰å…ƒç´ ä¸­ã€‚</li>
<li>jQuery ä¸æ˜¯ç”Ÿäº§è€…ï¼Œè€Œæ˜¯å¤§è‡ªç„¶æ¬è¿å·¥ã€‚</li>
<li>jQuery Ajaxæœ¬è´¨å°±æ˜¯ XMLHttpRequestï¼Œå¯¹ä»–è¿›è¡Œäº†å°è£…ï¼Œæ–¹ä¾¿è°ƒç”¨ï¼</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">jQuery.ajax(...)</span><br><span class="line">       éƒ¨åˆ†å‚æ•°ï¼š</span><br><span class="line">              urlï¼šè¯·æ±‚åœ°å€</span><br><span class="line">             typeï¼šè¯·æ±‚æ–¹å¼ï¼ŒGETã€POSTï¼ˆ1.9.0ä¹‹åç”¨methodï¼‰</span><br><span class="line">          headersï¼šè¯·æ±‚å¤´</span><br><span class="line">             dataï¼šè¦å‘é€çš„æ•°æ®</span><br><span class="line">      contentTypeï¼šå³å°†å‘é€ä¿¡æ¯è‡³æœåŠ¡å™¨çš„å†…å®¹ç¼–ç ç±»å‹(é»˜è®¤: &quot;application/x-www-form-urlencoded; charset=UTF-8&quot;)</span><br><span class="line">            asyncï¼šæ˜¯å¦å¼‚æ­¥</span><br><span class="line">          timeoutï¼šè®¾ç½®è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰</span><br><span class="line">       beforeSendï¼šå‘é€è¯·æ±‚å‰æ‰§è¡Œçš„å‡½æ•°(å…¨å±€)</span><br><span class="line">         completeï¼šå®Œæˆä¹‹åæ‰§è¡Œçš„å›è°ƒå‡½æ•°(å…¨å±€)</span><br><span class="line">          successï¼šæˆåŠŸä¹‹åæ‰§è¡Œçš„å›è°ƒå‡½æ•°(å…¨å±€)</span><br><span class="line">            errorï¼šå¤±è´¥ä¹‹åæ‰§è¡Œçš„å›è°ƒå‡½æ•°(å…¨å±€)</span><br><span class="line">          acceptsï¼šé€šè¿‡è¯·æ±‚å¤´å‘é€ç»™æœåŠ¡å™¨ï¼Œå‘Šè¯‰æœåŠ¡å™¨å½“å‰å®¢æˆ·ç«¯è¯¾æ¥å—çš„æ•°æ®ç±»å‹</span><br><span class="line">         dataTypeï¼šå°†æœåŠ¡å™¨ç«¯è¿”å›çš„æ•°æ®è½¬æ¢æˆæŒ‡å®šç±»å‹</span><br><span class="line">            &quot;xml&quot;: å°†æœåŠ¡å™¨ç«¯è¿”å›çš„å†…å®¹è½¬æ¢æˆxmlæ ¼å¼</span><br><span class="line">           &quot;text&quot;: å°†æœåŠ¡å™¨ç«¯è¿”å›çš„å†…å®¹è½¬æ¢æˆæ™®é€šæ–‡æœ¬æ ¼å¼</span><br><span class="line">           &quot;html&quot;: å°†æœåŠ¡å™¨ç«¯è¿”å›çš„å†…å®¹è½¬æ¢æˆæ™®é€šæ–‡æœ¬æ ¼å¼ï¼Œåœ¨æ’å…¥DOMä¸­æ—¶ï¼Œå¦‚æœåŒ…å«JavaScriptæ ‡ç­¾ï¼Œåˆ™ä¼šå°è¯•å»æ‰§è¡Œã€‚</span><br><span class="line">         &quot;script&quot;: å°è¯•å°†è¿”å›å€¼å½“ä½œJavaScriptå»æ‰§è¡Œï¼Œç„¶åå†å°†æœåŠ¡å™¨ç«¯è¿”å›çš„å†…å®¹è½¬æ¢æˆæ™®é€šæ–‡æœ¬æ ¼å¼</span><br><span class="line">           &quot;json&quot;: å°†æœåŠ¡å™¨ç«¯è¿”å›çš„å†…å®¹è½¬æ¢æˆç›¸åº”çš„JavaScriptå¯¹è±¡</span><br><span class="line">          &quot;jsonp&quot;: JSONP æ ¼å¼ä½¿ç”¨ JSONP å½¢å¼è°ƒç”¨å‡½æ•°æ—¶ï¼Œå¦‚ &quot;myurl?callback=?&quot; jQuery å°†è‡ªåŠ¨æ›¿æ¢ ? ä¸ºæ­£ç¡®çš„å‡½æ•°åï¼Œä»¥æ‰§è¡Œå›è°ƒå‡½æ•°</span><br></pre></td></tr></table></figure>

<p><strong>æˆ‘ä»¬æ¥ä¸ªç®€å•çš„æµ‹è¯•ï¼Œä½¿ç”¨æœ€åŸå§‹çš„HttpServletResponseå¤„ç† , .æœ€ç®€å• , æœ€é€šç”¨</strong></p>
<ol>
<li><p>é…ç½®web.xml å’Œ springmvcçš„é…ç½®æ–‡ä»¶ï¼Œå¤åˆ¶ä¸Šé¢æ¡ˆä¾‹çš„å³å¯ ã€è®°å¾—é™æ€èµ„æºè¿‡æ»¤å’Œæ³¨è§£é©±åŠ¨é…ç½®ä¸Šã€‘</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:mvc</span>=<span class="string">&quot;http://www.springframework.org/schema/mvc&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">        http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">        http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="string"><span class="tag">        https://www.springframework.org/schema/context/spring-context.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">        http://www.springframework.org/schema/mvc</span></span></span><br><span class="line"><span class="string"><span class="tag">        https://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- è‡ªåŠ¨æ‰«ææŒ‡å®šçš„åŒ…ï¼Œä¸‹é¢æ‰€æœ‰æ³¨è§£ç±»äº¤ç»™IOCå®¹å™¨ç®¡ç† --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.kuang.controller&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:default-servlet-handler</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:annotation-driven</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- è§†å›¾è§£æå™¨ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">id</span>=<span class="string">&quot;internalResourceViewResolver&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- å‰ç¼€ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;prefix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;/WEB-INF/jsp/&quot;</span> /&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- åç¼€ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;suffix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;.jsp&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>ç¼–å†™ä¸€ä¸ªAjaxController</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AjaxController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/a1&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ajax1</span><span class="params">(String name , HttpServletResponse response)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="string">&quot;admin&quot;</span>.equals(name))&#123;</span><br><span class="line">            response.getWriter().print(<span class="string">&quot;true&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            response.getWriter().print(<span class="string">&quot;false&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>å¯¼å…¥jquery ï¼Œ å¯ä»¥ä½¿ç”¨åœ¨çº¿çš„CDN ï¼Œ ä¹Ÿå¯ä»¥ä¸‹è½½å¯¼å…¥</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://code.jquery.com/jquery-3.1.1.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/statics/js/jquery-3.1.1.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>ç¼–å†™index.jspæµ‹è¯•</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;title&gt;$Title$&lt;/title&gt;</span><br><span class="line">    &lt;%--&lt;script src=<span class="string">&quot;https://code.jquery.com/jquery-3.1.1.min.js&quot;</span>&gt;&lt;/script&gt;--%&gt;</span><br><span class="line">    &lt;script src=<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/statics/js/jquery-3.1.1.min.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        <span class="function">function <span class="title">a1</span><span class="params">()</span></span>&#123;</span><br><span class="line">            $.post(&#123;</span><br><span class="line">                url:<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/a1&quot;</span>,</span><br><span class="line">                data:&#123;<span class="string">&#x27;name&#x27;</span>:$(<span class="string">&quot;#txtName&quot;</span>).val()&#125;,</span><br><span class="line">                success:function (data,status) &#123;</span><br><span class="line">                    alert(data);</span><br><span class="line">                    alert(status);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line"></span><br><span class="line">  &lt;%--onblurï¼šå¤±å»ç„¦ç‚¹è§¦å‘äº‹ä»¶--%&gt;</span><br><span class="line">  ç”¨æˆ·å:&lt;input type=<span class="string">&quot;text&quot;</span> id=<span class="string">&quot;txtName&quot;</span> onblur=<span class="string">&quot;a1()&quot;</span>/&gt;</span><br><span class="line"></span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>å¯åŠ¨tomcatæµ‹è¯•ï¼ æ‰“å¼€æµè§ˆå™¨çš„æ§åˆ¶å°ï¼Œå½“æˆ‘ä»¬é¼ æ ‡ç¦»å¼€è¾“å…¥æ¡†çš„æ—¶å€™ï¼Œå¯ä»¥çœ‹åˆ°å‘å‡ºäº†ä¸€ä¸ªajaxçš„è¯·æ±‚ï¼æ˜¯åå°è¿”å›ç»™æˆ‘ä»¬çš„ç»“æœï¼æµ‹è¯•æˆåŠŸï¼</p>
</li>
</ol>
<hr>
<h3 id="11-4-Springmvcå®ç°"><a href="#11-4-Springmvcå®ç°" class="headerlink" title="11.4  Springmvcå®ç°"></a>11.4  Springmvcå®ç°</h3><p>å®ä½“ç±»user</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> String sex;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬æ¥è·å–ä¸€ä¸ªé›†åˆå¯¹è±¡ï¼Œå±•ç¤ºåˆ°å‰ç«¯é¡µé¢</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/a2&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">ajax2</span><span class="params">()</span></span>&#123;</span><br><span class="line">    List&lt;User&gt; list = <span class="keyword">new</span> ArrayList&lt;User&gt;();</span><br><span class="line">    list.add(<span class="keyword">new</span> User(<span class="string">&quot;ç§¦ç–†1å·&quot;</span>,<span class="number">3</span>,<span class="string">&quot;ç”·&quot;</span>));</span><br><span class="line">    list.add(<span class="keyword">new</span> User(<span class="string">&quot;ç§¦ç–†2å·&quot;</span>,<span class="number">3</span>,<span class="string">&quot;ç”·&quot;</span>));</span><br><span class="line">    list.add(<span class="keyword">new</span> User(<span class="string">&quot;ç§¦ç–†3å·&quot;</span>,<span class="number">3</span>,<span class="string">&quot;ç”·&quot;</span>));</span><br><span class="line">    <span class="keyword">return</span> list; <span class="comment">//ç”±äº@RestControlleræ³¨è§£ï¼Œå°†listè½¬æˆjsonæ ¼å¼è¿”å›</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å‰ç«¯é¡µé¢</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;input type=<span class="string">&quot;button&quot;</span> id=<span class="string">&quot;btn&quot;</span> value=<span class="string">&quot;è·å–æ•°æ®&quot;</span>/&gt;</span><br><span class="line">&lt;table width=<span class="string">&quot;80%&quot;</span> align=<span class="string">&quot;center&quot;</span>&gt;</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">        &lt;td&gt;å§“å&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;å¹´é¾„&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;æ€§åˆ«&lt;/td&gt;</span><br><span class="line">    &lt;/tr&gt;</span><br><span class="line">    &lt;tbody id=<span class="string">&quot;content&quot;</span>&gt;</span><br><span class="line">    &lt;/tbody&gt;</span><br><span class="line">&lt;/table&gt;</span><br><span class="line"></span><br><span class="line">&lt;script src=<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/statics/js/jquery-3.1.1.min.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">    $(function () &#123;</span><br><span class="line">        $(<span class="string">&quot;#btn&quot;</span>).click(function () &#123;</span><br><span class="line">            $.post(<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/a2&quot;</span>,function (data) &#123;</span><br><span class="line">                console.log(data)</span><br><span class="line">                <span class="keyword">var</span> html=<span class="string">&quot;&quot;</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;data.length ; i++) &#123;</span><br><span class="line">                    html+= <span class="string">&quot;&lt;tr&gt;&quot;</span> +</span><br><span class="line">                        <span class="string">&quot;&lt;td&gt;&quot;</span> + data[i].name + <span class="string">&quot;&lt;/td&gt;&quot;</span> +</span><br><span class="line">                        <span class="string">&quot;&lt;td&gt;&quot;</span> + data[i].age + <span class="string">&quot;&lt;/td&gt;&quot;</span> +</span><br><span class="line">                        <span class="string">&quot;&lt;td&gt;&quot;</span> + data[i].sex + <span class="string">&quot;&lt;/td&gt;&quot;</span> +</span><br><span class="line">                        <span class="string">&quot;&lt;/tr&gt;&quot;</span></span><br><span class="line">                &#125;</span><br><span class="line">                $(<span class="string">&quot;#content&quot;</span>).html(html);</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p><strong>æˆåŠŸå®ç°äº†æ•°æ®å›æ˜¾ï¼å¯ä»¥ä½“ä¼šä¸€ä¸‹Ajaxçš„å¥½å¤„ï¼</strong></p>
<h3 id="11-5-æ³¨å†Œæç¤ºæ•ˆæœ"><a href="#11-5-æ³¨å†Œæç¤ºæ•ˆæœ" class="headerlink" title="11.5  æ³¨å†Œæç¤ºæ•ˆæœ"></a>11.5  æ³¨å†Œæç¤ºæ•ˆæœ</h3><p>æˆ‘ä»¬å†æµ‹è¯•ä¸€ä¸ªå°Demoï¼Œæ€è€ƒä¸€ä¸‹æˆ‘ä»¬å¹³æ—¶æ³¨å†Œæ—¶å€™ï¼Œè¾“å…¥æ¡†åé¢çš„å®æ—¶æç¤ºæ€ä¹ˆåšåˆ°çš„ï¼›å¦‚ä½•ä¼˜åŒ–</p>
<p>æˆ‘ä»¬å†™ä¸€ä¸ªController</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/a3&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">ajax3</span><span class="params">(String name,String pwd)</span></span>&#123;</span><br><span class="line">    String msg = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="comment">//æ¨¡æ‹Ÿæ•°æ®åº“ä¸­å­˜åœ¨æ•°æ®</span></span><br><span class="line">    <span class="keyword">if</span> (name!=<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="string">&quot;admin&quot;</span>.equals(name))&#123;</span><br><span class="line">            msg = <span class="string">&quot;OK&quot;</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            msg = <span class="string">&quot;ç”¨æˆ·åè¾“å…¥é”™è¯¯&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (pwd!=<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="string">&quot;123456&quot;</span>.equals(pwd))&#123;</span><br><span class="line">            msg = <span class="string">&quot;OK&quot;</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            msg = <span class="string">&quot;å¯†ç è¾“å…¥æœ‰è¯¯&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> msg; <span class="comment">//ç”±äº@RestControlleræ³¨è§£ï¼Œå°†msgè½¬æˆjsonæ ¼å¼è¿”å›</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å‰ç«¯é¡µé¢ login.jsp</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;ajax&lt;/title&gt;</span><br><span class="line">    &lt;script src=<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/statics/js/jquery-3.1.1.min.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line"></span><br><span class="line">        <span class="function">function <span class="title">a1</span><span class="params">()</span></span>&#123;</span><br><span class="line">            $.post(&#123;</span><br><span class="line">                url:<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/a3&quot;</span>,</span><br><span class="line">                data:&#123;<span class="string">&#x27;name&#x27;</span>:$(<span class="string">&quot;#name&quot;</span>).val()&#125;,</span><br><span class="line">                success:function (data) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (data.toString()==<span class="string">&#x27;OK&#x27;</span>)&#123;</span><br><span class="line">                        $(<span class="string">&quot;#userInfo&quot;</span>).css(<span class="string">&quot;color&quot;</span>,<span class="string">&quot;green&quot;</span>);</span><br><span class="line">                    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                        $(<span class="string">&quot;#userInfo&quot;</span>).css(<span class="string">&quot;color&quot;</span>,<span class="string">&quot;red&quot;</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                    $(<span class="string">&quot;#userInfo&quot;</span>).html(data);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function">function <span class="title">a2</span><span class="params">()</span></span>&#123;</span><br><span class="line">            $.post(&#123;</span><br><span class="line">                url:<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/a3&quot;</span>,</span><br><span class="line">                data:&#123;<span class="string">&#x27;pwd&#x27;</span>:$(<span class="string">&quot;#pwd&quot;</span>).val()&#125;,</span><br><span class="line">                success:function (data) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (data.toString()==<span class="string">&#x27;OK&#x27;</span>)&#123;</span><br><span class="line">                        $(<span class="string">&quot;#pwdInfo&quot;</span>).css(<span class="string">&quot;color&quot;</span>,<span class="string">&quot;green&quot;</span>);</span><br><span class="line">                    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                        $(<span class="string">&quot;#pwdInfo&quot;</span>).css(<span class="string">&quot;color&quot;</span>,<span class="string">&quot;red&quot;</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                    $(<span class="string">&quot;#pwdInfo&quot;</span>).html(data);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;p&gt;</span><br><span class="line">    ç”¨æˆ·å:&lt;input type=<span class="string">&quot;text&quot;</span> id=<span class="string">&quot;name&quot;</span> onblur=<span class="string">&quot;a1()&quot;</span>/&gt;</span><br><span class="line">    &lt;span id=<span class="string">&quot;userInfo&quot;</span>&gt;&lt;/span&gt;</span><br><span class="line">&lt;/p&gt;</span><br><span class="line">&lt;p&gt;</span><br><span class="line">    å¯†ç :&lt;input type=<span class="string">&quot;text&quot;</span> id=<span class="string">&quot;pwd&quot;</span> onblur=<span class="string">&quot;a2()&quot;</span>/&gt;</span><br><span class="line">    &lt;span id=<span class="string">&quot;pwdInfo&quot;</span>&gt;&lt;/span&gt;</span><br><span class="line">&lt;/p&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>ã€è®°å¾—å¤„ç†jsonä¹±ç é—®é¢˜ã€‘</p>
<p>æµ‹è¯•ä¸€ä¸‹æ•ˆæœï¼ŒåŠ¨æ€è¯·æ±‚å“åº”ï¼Œå±€éƒ¨åˆ·æ–°ï¼Œå°±æ˜¯å¦‚æ­¤ï¼</p>
<p><img src="Spring.assets/3300712039.png" alt="1570203565381.png" loading="lazy"></p>
<h3 id="11-6-è·å–baiduæ¥å£Dem"><a href="#11-6-è·å–baiduæ¥å£Dem" class="headerlink" title="11.6  è·å–baiduæ¥å£Dem"></a>11.6  è·å–baiduæ¥å£Dem</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">HTML</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;Content-Type&quot;</span> <span class="attr">content</span>=<span class="string">&quot;text/html; charset=utf-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>JSONPç™¾åº¦æœç´¢<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">        <span class="selector-id">#q</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">500px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#ddd</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">line-height</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="css">            <span class="attribute">margin</span>: <span class="number">0</span> auto;</span></span><br><span class="line"><span class="css">            <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">10px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">font-size</span>: <span class="number">14px</span>;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">        <span class="selector-id">#ul</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">520px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">list-style</span>: none;</span></span><br><span class="line"><span class="css">            <span class="attribute">margin</span>: <span class="number">0</span> auto;</span></span><br><span class="line"><span class="css">            <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#ddd</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">margin-top</span>: -<span class="number">1px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">display</span>: none;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">        <span class="selector-id">#ul</span> <span class="selector-tag">li</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">line-height</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">10px</span>;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">        <span class="selector-id">#ul</span> <span class="selector-tag">li</span><span class="selector-pseudo">:hover</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">background-color</span>: <span class="number">#f60</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">color</span>: <span class="number">#fff</span>;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="comment">// 2.æ­¥éª¤äºŒ</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// å®šä¹‰demoå‡½æ•° (åˆ†ææ¥å£ã€æ•°æ®)</span></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">demo</span>(<span class="params">data</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> Ul = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;ul&#x27;</span>);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> html = <span class="string">&#x27;&#x27;</span>;</span></span><br><span class="line"><span class="javascript">            <span class="comment">// å¦‚æœæœç´¢æ•°æ®å­˜åœ¨ æŠŠå†…å®¹æ·»åŠ è¿›å»</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span> (data.s.length) &#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// éšè—æ‰çš„ulæ˜¾ç¤ºå‡ºæ¥</span></span></span><br><span class="line"><span class="javascript">                Ul.style.display = <span class="string">&#x27;block&#x27;</span>;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// æœç´¢åˆ°çš„æ•°æ®å¾ªç¯è¿½åŠ åˆ°lié‡Œ</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i&lt;data.s.length;i++)&#123;</span></span><br><span class="line"><span class="javascript">                    html += <span class="string">&#x27;&lt;li&gt;&#x27;</span>+data.s[i]+<span class="string">&#x27;&lt;/li&gt;&#x27;</span>;</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// å¾ªç¯çš„liå†™å…¥ul</span></span></span><br><span class="line"><span class="javascript">                Ul.innerHTML = html;</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="comment">// 1.æ­¥éª¤ä¸€</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">// è·å–è¾“å…¥æ¡†å’Œul</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> Q = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;q&#x27;</span>);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> Ul = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;ul&#x27;</span>);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">            <span class="comment">// äº‹ä»¶é¼ æ ‡æŠ¬èµ·æ—¶å€™</span></span></span><br><span class="line"><span class="javascript">            Q.onkeyup = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// å¦‚æœè¾“å…¥æ¡†ä¸ç­‰äºç©º</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span> (<span class="built_in">this</span>.value != <span class="string">&#x27;&#x27;</span>) &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// â˜†JSONPzé‡ç‚¹â˜†</span></span></span><br><span class="line"><span class="javascript">                    <span class="comment">// åˆ›å»ºæ ‡ç­¾</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> script = <span class="built_in">document</span>.createElement(<span class="string">&#x27;script&#x27;</span>);</span></span><br><span class="line"><span class="javascript">                    <span class="comment">//ç»™å®šè¦è·¨åŸŸçš„åœ°å€ èµ‹å€¼ç»™src</span></span></span><br><span class="line"><span class="javascript">                    <span class="comment">//è¿™é‡Œæ˜¯è¦è¯·æ±‚çš„è·¨åŸŸçš„åœ°å€ æˆ‘å†™çš„æ˜¯ç™¾åº¦æœç´¢çš„è·¨åŸŸåœ°å€</span></span></span><br><span class="line"><span class="javascript">                    script.src = <span class="string">&#x27;https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su?wd=&#x27;</span>+<span class="built_in">this</span>.value+<span class="string">&#x27;&amp;cb=demo&#x27;</span>;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// å°†ç»„åˆå¥½çš„å¸¦srcçš„scriptæ ‡ç­¾è¿½åŠ åˆ°bodyé‡Œ</span></span></span><br><span class="line"><span class="javascript">                    <span class="built_in">document</span>.body.appendChild(script);</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;q&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;ul&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>â€‹        </p>
<h2 id="12-é™æ€èµ„æºè¿‡æ»¤ï¼Œå¼‚å¸¸å¤„ç†"><a href="#12-é™æ€èµ„æºè¿‡æ»¤ï¼Œå¼‚å¸¸å¤„ç†" class="headerlink" title="12 é™æ€èµ„æºè¿‡æ»¤ï¼Œå¼‚å¸¸å¤„ç†"></a>12 é™æ€èµ„æºè¿‡æ»¤ï¼Œå¼‚å¸¸å¤„ç†</h2><h3 id="1ã€é™æ€èµ„æºè¿‡æ»¤"><a href="#1ã€é™æ€èµ„æºè¿‡æ»¤" class="headerlink" title="1ã€é™æ€èµ„æºè¿‡æ»¤"></a>1ã€<a target="_blank" rel="noopener" href="https://www.cnblogs.com/dflmg/p/6393416.html">é™æ€èµ„æºè¿‡æ»¤</a></h3><ul>
<li><p>å¦‚æœå°†DispatcherServletè¯·æ±‚æ˜ å°„é…ç½®ä¸ºâ€/â€œï¼Œåˆ™Spring MVCå°†æ•è·Webå®¹å™¨æ‰€æœ‰çš„è¯·æ±‚ï¼ŒåŒ…æ‹¬é™æ€èµ„æºçš„è¯·æ±‚ï¼ŒSpring MVCä¼šå°†å®ƒä»¬å½“æˆä¸€ä¸ªæ™®é€šè¯·æ±‚å¤„ç†ï¼Œå› æ­¤æ‰¾ä¸åˆ°å¯¹åº”å¤„ç†å™¨å°†å¯¼è‡´é”™è¯¯ã€‚</p>
</li>
<li><p>å¦‚ä½•è®©Springæ¡†æ¶èƒ½å¤Ÿæ•è·æ‰€æœ‰URLçš„è¯·æ±‚ï¼ŒåŒæ—¶åˆå°†é™æ€èµ„æºçš„è¯·æ±‚è½¬ç”±Webå®¹å™¨å¤„ç†ï¼Œæ˜¯å¯å°†DispatcherServletçš„è¯·æ±‚æ˜ å°„é…ç½®ä¸ºâ€/â€œçš„å‰æã€‚ç”±äºRESTæ˜¯Spring3.0æœ€é‡è¦çš„åŠŸèƒ½ä¹‹ä¸€ï¼Œæ‰€ä»¥Springå›¢é˜Ÿå¾ˆçœ‹é‡é™æ€èµ„æºå¤„ç†è¿™é¡¹ä»»åŠ¡ï¼Œç»™å‡ºäº†å ªç§°ç»å…¸çš„ä¸¤ç§è§£å†³æ–¹æ¡ˆã€‚</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>springMVC<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>1<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>springMVC<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="â‘ -lt-mvc-resources-gt"><a href="#â‘ -lt-mvc-resources-gt" class="headerlink" title="==â‘  &lt;mvc:resources /&gt;=="></a>==â‘  &lt;mvc:resources /&gt;==</h4><ul>
<li><p>**&lt;mvc:default-servlet-handler /&gt;**å°†é™æ€èµ„æºçš„å¤„ç†ç»ç”±Spring MVCæ¡†æ¶äº¤å›==Webåº”ç”¨æœåŠ¡å™¨==<strong>å¤„ç†</strong>ã€‚</p>
<ul>
<li>è€Œ**&lt;mvc:resources /&gt;<strong>æ›´è¿›ä¸€æ­¥ï¼Œç”±==Spring MVCæ¡†æ¶==è‡ªå·±</strong>å¤„ç†**é™æ€èµ„æºï¼Œå¹¶æ·»åŠ ä¸€äº›æœ‰ç”¨çš„é™„åŠ å€¼åŠŸèƒ½ã€‚</li>
</ul>
</li>
<li><p>&lt;mvc:resources /&gt;å…è®¸é™æ€èµ„æºæ”¾åœ¨==ä»»ä½•åœ°æ–¹==ï¼Œå¦‚==WEB-INFç›®å½•ä¸‹ã€ç±»è·¯å¾„ä¸‹==ç­‰ï¼Œä½ ç”šè‡³å¯ä»¥å°†JavaScriptç­‰é™æ€æ–‡ä»¶æ‰“åˆ°JARåŒ…ä¸­ã€‚</p>
<ul>
<li>é€šè¿‡locationå±æ€§æŒ‡å®šé™æ€èµ„æºçš„ä½ç½®ï¼Œç”±äºlocationå±æ€§æ˜¯Resourcesç±»å‹ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨è¯¸å¦‚â€classpath:â€ç­‰çš„èµ„æºå‰ç¼€æŒ‡å®šèµ„æºä½ç½®ã€‚</li>
<li>ä¼ ç»ŸWebå®¹å™¨çš„é™æ€èµ„æºåªèƒ½æ”¾åœ¨Webå®¹å™¨çš„æ ¹è·¯å¾„ä¸‹ï¼Œ==&lt;mvc:resources /&gt;å®Œå…¨æ‰“ç ´äº†è¿™ä¸ªé™åˆ¶==ã€‚</li>
</ul>
</li>
<li><p>&lt;mvc:resources /&gt;ä¾æ®å½“å‰è‘—åçš„Page Speedã€YSlowç­‰æµè§ˆå™¨ä¼˜åŒ–åŸåˆ™==å¯¹é™æ€èµ„æºæä¾›ä¼˜åŒ–==ã€‚</p>
<ul>
<li>ä½ å¯ä»¥é€šè¿‡cacheSecondså±æ€§æŒ‡å®šé™æ€èµ„æºåœ¨æµè§ˆå™¨ç«¯çš„==ç¼“å­˜==æ—¶é—´ï¼Œä¸€èˆ¬å¯å°†è¯¥æ—¶é—´è®¾ç½®ä¸ºä¸€å¹´ï¼Œä»¥å……åˆ†åˆ©ç”¨æµè§ˆå™¨ç«¯çš„ç¼“å­˜ã€‚</li>
<li>åœ¨è¾“å‡ºé™æ€èµ„æºæ—¶ï¼Œä¼šæ ¹æ®é…ç½®è®¾ç½®å¥½å“åº”æŠ¥æ–‡å¤´çš„Expires å’Œ Cache-Controlå€¼ã€‚</li>
</ul>
</li>
<li><p>åœ¨æ¥æ”¶åˆ°é™æ€èµ„æºçš„è·å–è¯·æ±‚æ—¶ï¼Œä¼šæ£€æŸ¥è¯·æ±‚å¤´çš„Last-Modifiedå€¼</p>
<ul>
<li>å¦‚æœé™æ€èµ„æºæ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œåˆ™ç›´æ¥è¿”å›==303==ç›¸åº”çŠ¶æ€ç ï¼Œæç¤ºå®¢æˆ·ç«¯ä½¿ç”¨æµè§ˆå™¨ç¼“å­˜çš„æ•°æ®ï¼Œ</li>
<li>è€Œéå°†é™æ€èµ„æºçš„å†…å®¹è¾“å‡ºåˆ°å®¢æˆ·ç«¯ï¼Œä»¥å……åˆ†==èŠ‚çœå¸¦å®½ï¼Œæé«˜ç¨‹åºæ€§èƒ½==ã€‚</li>
</ul>
</li>
</ul>
<p>åœ¨springMVC-servletä¸­æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mvc:resources</span> <span class="attr">location</span>=<span class="string">&quot;/,classpath:/META-INF/publicResources/&quot;</span> <span class="attr">mapping</span>=<span class="string">&quot;/resources/**&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>ä»¥ä¸Šé…ç½®å°†Webæ ¹è·¯å¾„==<strong>â€œ/â€œ</strong>==åŠç±»è·¯å¾„ä¸‹ ==<strong>/META-INF/publicResources/</strong>== çš„ç›®å½•æ˜ å°„ä¸º==/resourcesè·¯å¾„==(å°å)</p>
<ul>
<li>å‡è®¾Webæ ¹è·¯å¾„ä¸‹æ‹¥æœ‰imagesã€jsè¿™ä¸¤ä¸ªèµ„æºç›®å½•,åœ¨imagesä¸‹é¢æœ‰bg.gifå›¾ç‰‡ï¼Œåœ¨jsä¸‹é¢æœ‰test.jsæ–‡ä»¶ï¼Œåˆ™å¯ä»¥é€šè¿‡ <strong>/resources/images/bg.gif å’Œ /resources/js/test.js</strong> è®¿é—®è¿™äºŒä¸ªé™æ€èµ„æºã€‚</li>
</ul>
</li>
<li><p>å‡è®¾WebRootè¿˜æ‹¥æœ‰images/bg1.gif åŠ js/test1.jsï¼Œåˆ™ä¹Ÿå¯ä»¥åœ¨ç½‘é¡µä¸­é€šè¿‡ /resources/images/bg1.gif åŠ /resources/js/test1.js è¿›è¡Œå¼•ç”¨ã€‚</p>
</li>
</ul>
<hr>
<h5 id="â¤-æ¡ˆä¾‹"><a href="#â¤-æ¡ˆä¾‹" class="headerlink" title="==â¤ æ¡ˆä¾‹=="></a>==â¤ æ¡ˆä¾‹==</h5><ul>
<li><p><strong>==ä¸åœ¨ WEB-INF ä¸‹==</strong></p>
<ul>
<li><p>locationå…ƒç´ è¡¨ç¤ºwebappç›®å½•ä¸‹çš„staticåŒ…ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼›ã€==/ï¼šæ ¹ç›®å½•==ã€‘</p>
</li>
<li><p>mappingå…ƒç´ è¡¨ç¤ºä»¥/staticå¼€å¤´çš„æ‰€æœ‰è¯·æ±‚è·¯å¾„ï¼Œå¦‚/static/a æˆ–è€…/static/a/bï¼›</p>
</li>
<li><p>è¯¥é…ç½®çš„ä½œç”¨æ˜¯ï¼šDispatcherServletä¸ä¼šæ‹¦æˆªä»¥/staticå¼€å¤´çš„æ‰€æœ‰è¯·æ±‚è·¯å¾„ï¼Œ<br>å¹¶å½“ä½œé™æ€èµ„æºäº¤ç”±Servletå¤„ç†ã€‚</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">h3</span>&gt;images&lt;/<span class="selector-tag">h3</span>&gt;</span><br><span class="line">&lt;<span class="selector-tag">img</span> <span class="attribute">src</span>=&quot;images/<span class="number">1</span><span class="selector-class">.jpg</span>&quot;/&gt;</span><br><span class="line">&lt;<span class="selector-tag">img</span> <span class="attribute">src</span>=&quot;/Resource/images/<span class="number">2</span><span class="selector-class">.jpg</span>&quot;/&gt;</span><br><span class="line">--------------------------------------------------------------------------------</span><br><span class="line">&lt;mvc:resources location=<span class="string">&quot;/images/**&quot;</span> mapping=<span class="string">&quot;/images/**&quot;</span>/&gt;</span><br><span class="line">&lt;mvc:resources location=<span class="string">&quot;/js/**&quot;</span> mapping=<span class="string">&quot;/js/**&quot;</span>/&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p><strong>==åœ¨ WEB-INF ä¸‹==</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/javascript&quot; <span class="attribute">src</span>=&quot;resources/jquery-<span class="number">3.1</span>.<span class="number">0</span><span class="selector-class">.min</span><span class="selector-class">.js</span>&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">	$(function() &#123;</span><br><span class="line">		alert(&quot;åŠ æ²¹&quot;);</span><br><span class="line">	&#125;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;<span class="selector-tag">body</span>&gt;</span><br><span class="line">	&lt;<span class="selector-tag">h3</span>&gt;images&lt;/<span class="selector-tag">h3</span>&gt;</span><br><span class="line">	&lt;<span class="selector-tag">img</span> <span class="attribute">src</span>=&quot;resources/<span class="number">1</span><span class="selector-class">.jpg</span>&quot; /&gt;</span><br><span class="line">	&lt;<span class="selector-tag">img</span> <span class="attribute">src</span>=&quot;resources/<span class="number">3</span><span class="selector-class">.jpg</span>&quot; /&gt;</span><br><span class="line">&lt;/<span class="selector-tag">body</span>&gt;</span><br><span class="line">--------------------------------------------------------------------------------</span><br><span class="line">&lt;mvc:resources location=<span class="string">&quot;/WEB-INF/images/,/WEB-INF/js/&quot;</span> mapping=<span class="string">&quot;/resources/**&quot;</span>/&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="â‘¡-lt-mvc-default-servlet-handler-gt"><a href="#â‘¡-lt-mvc-default-servlet-handler-gt" class="headerlink" title="==â‘¡ &lt;mvc:default-servlet-handler /&gt;=="></a>==â‘¡ &lt;mvc:default-servlet-handler /&gt;==</h4><ul>
<li><p>åœ¨springMVC-servlet.xmlä¸­é…ç½®&lt;mvc:default-servlet-handler /&gt;åï¼Œä¼šåœ¨Spring MVCä¸Šä¸‹æ–‡ä¸­==å®šä¹‰==ä¸€ä¸ªorg.springframework.web.servlet.resource.DefaultServletHttpRequestHandlerï¼Œ</p>
<ul>
<li>å®ƒä¼šåƒä¸€ä¸ªæ£€æŸ¥å‘˜ï¼Œå¯¹è¿›å…¥DispatcherServletçš„URLè¿›è¡Œ==ç­›æŸ¥==ï¼Œ</li>
<li>å¦‚æœ==å‘ç°==æ˜¯é™æ€èµ„æºçš„è¯·æ±‚ï¼Œå°±å°†è¯¥è¯·æ±‚è½¬ç”± ==Webåº”ç”¨æœåŠ¡å™¨== é»˜è®¤çš„Servletå¤„ç†ï¼Œ</li>
<li>å¦‚æœä¸æ˜¯é™æ€èµ„æºçš„è¯·æ±‚ï¼Œæ‰ç”± ==DispatcherServlet== ç»§ç»­å¤„ç†ã€‚</li>
</ul>
</li>
<li><p>ä¸€èˆ¬==Webåº”ç”¨æœåŠ¡å™¨==é»˜è®¤çš„Servletåç§°æ˜¯â€==default==â€ï¼Œå› æ­¤DefaultServletHttpRequestHandlerå¯ä»¥æ‰¾åˆ°å®ƒã€‚</p>
</li>
<li><p>å¦‚æœä½ æ‰€æœ‰çš„Webåº”ç”¨æœåŠ¡å™¨çš„é»˜è®¤Servletåç§°==ä¸æ˜¯==â€defaultâ€ï¼Œåˆ™éœ€è¦é€šè¿‡default-servlet-nameå±æ€§æ˜¾ç¤ºæŒ‡å®šï¼š&lt;mvc:default-servlet-handler default-servlet-name=â€æ‰€ä½¿ç”¨çš„WebæœåŠ¡å™¨é»˜è®¤ä½¿ç”¨çš„Servletåç§°â€ /&gt;</p>
</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mvc:default-servlet-handler</span>/&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="2ã€å¼‚å¸¸å¤„ç†"><a href="#2ã€å¼‚å¸¸å¤„ç†" class="headerlink" title="2ã€å¼‚å¸¸å¤„ç†"></a>2ã€å¼‚å¸¸å¤„ç†</h3><h4 id="â‘ -å±€éƒ¨å¼‚å¸¸"><a href="#â‘ -å±€éƒ¨å¼‚å¸¸" class="headerlink" title="==â‘  å±€éƒ¨å¼‚å¸¸=="></a>==â‘  å±€éƒ¨å¼‚å¸¸==</h4><p><strong>å¯¹ä¸€ä¸ªhandler å¤„ç†</strong>â€”â€”â€”â€”åŠ ä¸€ä¸ªæ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/Num&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getNum</span><span class="params">(<span class="keyword">int</span> num1,<span class="keyword">int</span> num2)</span></span>&#123;</span><br><span class="line">    System.out.println(num1/num2);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;ok&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å¦‚æœæœ‰è¿™ä¸¤ä¸ªå¼‚å¸¸ï¼Œç«‹å³æ‰§è¡Œè¿™ä¸ªæ–¹æ³•</span></span><br><span class="line"><span class="meta">@ExceptionHandler(&#123;RuntimeException.class,IOException.class&#125;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getError</span><span class="params">(Exception e,HttpServletRequest res)</span></span>&#123;</span><br><span class="line">    res.setAttribute(<span class="string">&quot;error&quot;</span>, e.getMessage());</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;error&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="â‘¡-å…¨å±€å¼‚å¸¸"><a href="#â‘¡-å…¨å±€å¼‚å¸¸" class="headerlink" title="==â‘¡ å…¨å±€å¼‚å¸¸=="></a>==â‘¡ å…¨å±€å¼‚å¸¸==</h4><p><strong>HandlerExceptionResolver çš„å„¿å­</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;handlerExceptionResolver&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">class</span>=<span class="string">&quot;org.springframework.web.servlet.handler.SimpleMappingExceptionResolver&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;exceptionMappings&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">props</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--keyå¯¹åº”çš„å¼‚å¸¸ï¼Œerrorå¯¹åº”çš„ç½‘é¡µï¼šé”®å€¼å¯¹--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">&quot;java.lang.RuntimeException&quot;</span>&gt;</span>error<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">&quot;java.io.IOException&quot;</span>&gt;</span>error<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">props</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="â‘¢-è‡ªå®šä¹‰å¼‚å¸¸"><a href="#â‘¢-è‡ªå®šä¹‰å¼‚å¸¸" class="headerlink" title="==â‘¢ è‡ªå®šä¹‰å¼‚å¸¸=="></a>==â‘¢ è‡ªå®šä¹‰å¼‚å¸¸==</h4><p><strong>HandlerExceptionResolver</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyCuseExecution</span> <span class="keyword">implements</span> <span class="title">HandlerExceptionResolver</span></span>&#123;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> ModelAndView <span class="title">resolveException</span><span class="params">(HttpServletRequest req,</span></span></span><br><span class="line"><span class="params"><span class="function">			HttpServletResponse res, Object obj,</span></span></span><br><span class="line"><span class="params"><span class="function">			Exception e)</span> </span>&#123;</span><br><span class="line">		ModelAndView mvc=<span class="keyword">new</span> ModelAndView();</span><br><span class="line">		mvc.addObject(<span class="string">&quot;error&quot;</span>, e.getMessage());</span><br><span class="line">		req.setAttribute(<span class="string">&quot;msg&quot;</span>, e.getStackTrace());</span><br><span class="line">		mvc.setViewName(<span class="string">&quot;error&quot;</span>);</span><br><span class="line">		<span class="keyword">return</span> mvc;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">---------------------------------------------------------------------------------</span><br><span class="line">&lt;!--éƒ½å¯ä»¥å–å€¼--&gt;</span><br><span class="line">&lt;h3&gt;å¼‚å¸¸é¡µ&lt;/h3&gt;</span><br><span class="line">$&#123;error&#125;&lt;br&gt;</span><br><span class="line">$&#123;msg&#125;</span><br></pre></td></tr></table></figure>



<h2 id="13-jsr303"><a href="#13-jsr303" class="headerlink" title="13 jsr303"></a>13 jsr303</h2><h3 id="1ã€ä»€ä¹ˆæ˜¯-jsr303"><a href="#1ã€ä»€ä¹ˆæ˜¯-jsr303" class="headerlink" title="1ã€ä»€ä¹ˆæ˜¯ jsr303"></a>1ã€ä»€ä¹ˆæ˜¯ jsr303</h3><ul>
<li>(Java Specification Requests ) javaè§„èŒƒè¯·æ±‚ï¼Œæ˜¯ä¸€ä¸ª==è¿è¡Œæ—¶==çš„==æ•°æ®éªŒè¯æ¡†æ¶==ï¼Œ åœ¨éªŒè¯ä¹‹åéªŒè¯çš„é”™è¯¯ä¿¡æ¯ä¼šè¢«é©¬ä¸Šè¿”å›ã€‚</li>
<li>æ ¡éªŒçš„ç§ç±»ï¼šæ•°æ®æ ¡éªŒæœ‰ js ï¼Œbootstrapï¼Œjsr303 <ul>
<li>å‰ä¸¤ä¸ªæ˜¯å®¢æˆ·ç«¯æ ¡éªŒï¼Œåä¸€ä¸ªæœåŠ¡ç«¯æ ¡éªŒ</li>
<li>æœåŠ¡ç«¯æ ¡éªŒåˆåˆ†è¡¨ç¤ºå±‚å’Œä¸šåŠ¡å±‚</li>
</ul>
</li>
<li>ä¸ºä½•å­¦jsr303ï¼š<strong>æ•°æ®æ ¡éªŒä¸¥æ ¼è¦æ±‚</strong>ä¸€èˆ¬æ˜¯==æœåŠ¡å™¨ç«¯æ ¡éªŒ==,ä¸åŒçš„å±‚ç”±ä¸åŒçš„å¼€å‘äººå‘˜æ¥å®Œæˆã€‚<ul>
<li>å¾ˆå¤šæ—¶å€™åŒæ ·çš„æ•°æ®éªŒè¯é€»è¾‘ä¼šå‡ºç°åœ¨ä¸åŒçš„å±‚ï¼Œè¿™æ ·å°±ä¼šå¯¼è‡´</li>
<li>ä¸ºäº†é¿å…è¿™æ ·çš„æƒ…å†µå‘ç”Ÿï¼Œæœ€å¥½æ˜¯å°†éªŒè¯é€»è¾‘ä¸ç›¸åº”çš„åŸŸæ¨¡å‹è¿›è¡Œç»‘å®šã€‚</li>
</ul>
</li>
</ul>
<h3 id="2ã€ä½¿ç”¨"><a href="#2ã€ä½¿ç”¨" class="headerlink" title="2ã€ä½¿ç”¨"></a>2ã€ä½¿ç”¨</h3><h4 id="â‘ -æ‹·-jar"><a href="#â‘ -æ‹·-jar" class="headerlink" title="â‘  æ‹· jar"></a>â‘  æ‹· jar</h4><ul>
<li>classmate-1.1.0.jar</li>
<li>hibernate-validator-4.2.0.Final.jar</li>
<li>jboss-logging-3.2.1.Final.jar</li>
<li>validation-api-1.0.0.GA.jar</li>
<li>org.slf4j.api_1.7.2.v20121108-1250.jar</li>
</ul>
<h4 id="â‘¡-ç»™æ•°æ®åŠ æ³¨è§£"><a href="#â‘¡-ç»™æ•°æ®åŠ æ³¨è§£" class="headerlink" title="â‘¡ ç»™æ•°æ®åŠ æ³¨è§£"></a>â‘¡ ç»™æ•°æ®åŠ æ³¨è§£</h4><table>
<thead>
<tr>
<th>ç©ºæ£€æŸ¥</th>
<th>è¯¦ç»†ä¿¡æ¯</th>
</tr>
</thead>
<tbody><tr>
<td><code>@Null</code></td>
<td>è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»ä¸º <code>null</code></td>
</tr>
<tr>
<td><code>@NotNull</code></td>
<td>è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»ä¸ä¸º <code>null</code><br/>==@NotNull:ä¸èƒ½ä¸ºnullï¼Œä½†å¯ä»¥ä¸ºempty,æ²¡æœ‰Sizeçš„çº¦æŸ==</td>
</tr>
<tr>
<td><code>@NotBlank</code></td>
<td>æ£€æŸ¥çº¦æŸå­—ç¬¦ä¸²æ˜¯ä¸æ˜¯Nullè¿˜æœ‰è¢«Trimçš„é•¿åº¦æ˜¯å¦å¤§äº0,åªå¯¹<strong>å­—ç¬¦ä¸²</strong>,ä¸”ä¼š<strong>å»æ‰å‰åç©ºæ ¼</strong>.<br/>==@NotBlank:åªç”¨äºString,ä¸èƒ½ä¸ºnullä¸”trim()ä¹‹åsize&gt;0==</td>
</tr>
<tr>
<td><code>@NotEmpty</code></td>
<td>è¢«æ³¨é‡Šçš„å­—ç¬¦ä¸²çš„å¿…é¡»éç©º<br/>==@NotEmpty :ä¸èƒ½ä¸ºnullï¼Œä¸”Size&gt;0==</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>Booelanæ£€æŸ¥</th>
<th>è¯¦ç»†ä¿¡æ¯</th>
</tr>
</thead>
<tbody><tr>
<td><code>@AssertTrue</code></td>
<td>è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»ä¸º <code>true</code></td>
</tr>
<tr>
<td><code>@AssertFalse</code></td>
<td>è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»ä¸º <code>false</code></td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>é•¿åº¦æ£€æŸ¥</th>
<th>è¯¦ç»†ä¿¡æ¯</th>
</tr>
</thead>
<tbody><tr>
<td><code>@Size(max, min)</code></td>
<td>è¢«æ³¨é‡Šçš„å…ƒç´ çš„å¤§å°å¿…é¡»åœ¨æŒ‡å®šçš„èŒƒå›´å†…ï¼Œå¦‚å­—ç¬¦é•¿åº¦ã€é›†åˆå¤§å°<br/>==éªŒè¯çš„æ•°æ®ç±»å‹==ï¼šå­—ç¬¦ä¸²ã€Collectionã€Mapã€æ•°ç»„ç­‰</td>
</tr>
<tr>
<td><code>@Length(min=ä¸‹é™, max=ä¸Šé™)</code></td>
<td>è¢«æ³¨é‡Šçš„å­—ç¬¦ä¸²çš„å¤§å°å¿…é¡»åœ¨æŒ‡å®šçš„èŒƒå›´å†…<br/>==éªŒè¯çš„æ•°æ®ç±»å‹==ï¼šCharSequenceå­ç±»å‹</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">æ—¥æœŸæ£€æŸ¥</th>
<th align="left">è¯¦ç»†ä¿¡æ¯</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>@Past</code></td>
<td align="left">è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªè¿‡å»çš„æ—¥æœŸ</td>
</tr>
<tr>
<td align="left"><code>@Future</code></td>
<td align="left">è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªå°†æ¥çš„æ—¥æœŸ</td>
</tr>
<tr>
<td align="left"><code>@Pattern(regexp=æ­£åˆ™è¡¨è¾¾å¼,flag=æ ‡å¿—çš„æ¨¡å¼)</code></td>
<td align="left">è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»ç¬¦åˆæŒ‡å®šçš„æ­£åˆ™è¡¨è¾¾å¼</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">æ•°å€¼æ£€æŸ¥</th>
<th align="left">å»ºè®®ä½¿ç”¨åœ¨Stirng,Integerç±»å‹ï¼Œä¸å»ºè®®ä½¿ç”¨åœ¨intç±»å‹ä¸Š å› ä¸ºè¡¨å•å€¼ä¸ºâ€œâ€æ—¶æ— æ³•è½¬æ¢ä¸ºint ä½†å¯ä»¥è½¬æ¢ä¸ºStirngä¸ºâ€â€,Integerä¸ºnull</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>@Min(value)</code></td>
<td align="left">è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå…¶å€¼å¿…é¡»å¤§äºç­‰äºæŒ‡å®šçš„æœ€å°å€¼</td>
</tr>
<tr>
<td align="left"><code>@Max(value)</code></td>
<td align="left">è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå…¶å€¼å¿…é¡»å°äºç­‰äºæŒ‡å®šçš„æœ€å¤§å€¼</td>
</tr>
<tr>
<td align="left"><code>@DecimalMin(value)</code></td>
<td align="left">è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå…¶å€¼å¿…é¡»å¤§äºç­‰äºæŒ‡å®šçš„æœ€å°å€¼</td>
</tr>
<tr>
<td align="left"><code>@DecimalMax(value)</code></td>
<td align="left">è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå…¶å€¼å¿…é¡»å°äºç­‰äºæŒ‡å®šçš„æœ€å¤§å€¼</td>
</tr>
<tr>
<td align="left"><code>@Digits</code></td>
<td align="left">éªŒè¯ Number å’Œ String çš„æ„æˆæ˜¯å¦åˆæ³•</td>
</tr>
<tr>
<td align="left"><code>@Digits(integer=,fraction=)</code></td>
<td align="left">è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå…¶å€¼å¿…é¡»åœ¨å¯æ¥å—çš„èŒƒå›´å†… intergeræŒ‡å®šæ•´æ•°ç²¾åº¦ï¼ŒfractionæŒ‡å®šå°æ•°ç²¾åº¦</td>
</tr>
<tr>
<td align="left"><code>@Email(regexp=æ­£åˆ™è¡¨è¾¾å¼,flag=æ ‡å¿—çš„æ¨¡å¼)</code></td>
<td align="left">è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ç”µå­é‚®ç®±åœ°å€ å¦‚æœä¸ºnull,ä¸è¿›è¡ŒéªŒè¯ï¼Œç®—é€šè¿‡éªŒè¯</td>
</tr>
<tr>
<td align="left"><code>@Range</code></td>
<td align="left">è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»åœ¨åˆé€‚çš„èŒƒå›´å†…</td>
</tr>
<tr>
<td align="left"><code>@Valid</code></td>
<td align="left">â‘  è¯¥æ³¨è§£åªè¦ç”¨äºå­—æ®µä¸ºä¸€ä¸ª==åŒ…å«å…¶ä»–å¯¹è±¡çš„é›†åˆæˆ–mapæˆ–æ•°ç»„==çš„å­—æ®µï¼Œæˆ–è¯¥å­—æ®µç›´æ¥ä¸ºä¸€ä¸ªå…¶ä»–å¯¹è±¡çš„==å¼•ç”¨==<br/>â‘¡ è¿™æ ·åœ¨æ£€æŸ¥å½“å‰å¯¹è±¡çš„åŒæ—¶ä¹Ÿä¼šæ£€æŸ¥è¯¥å­—æ®µæ‰€å¼•ç”¨çš„å¯¹è±¡</td>
</tr>
<tr>
<td align="left"><code>@CreditCardNumber</code></td>
<td align="left">å¯¹ä¿¡ç”¨å¡å·è¿›è¡Œä¸€ä¸ªå¤§è‡´çš„éªŒè¯</td>
</tr>
<tr>
<td align="left"><code>@URL</code></td>
<td align="left">æ£€æŸ¥æ˜¯å¦æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„URLï¼Œå¦‚æœæä¾›äº†protocolï¼Œhostç­‰ï¼Œåˆ™è¯¥URLè¿˜éœ€æ»¡è¶³æä¾›çš„æ¡ä»¶</td>
</tr>
</tbody></table>
<h4 id="â‘¢-å›ºå®šçš„ç¼–ç -ä¸éœ€è¦é…ç½®xml"><a href="#â‘¢-å›ºå®šçš„ç¼–ç -ä¸éœ€è¦é…ç½®xml" class="headerlink" title="â‘¢ å›ºå®šçš„ç¼–ç (ä¸éœ€è¦é…ç½®xml)"></a>â‘¢ å›ºå®šçš„ç¼–ç (ä¸éœ€è¦é…ç½®xml)</h4><h5 id="1ã€model"><a href="#1ã€model" class="headerlink" title="1ã€model"></a>1ã€model</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line">	<span class="meta">@NotNull(message=&quot;stuIdä¸èƒ½ä¸ºç©º&quot;)</span></span><br><span class="line">	<span class="meta">@Size(min=0,max=100,message=&quot;stuIdä¸èƒ½è¶…å‡º0~100çš„èŒƒå›´&quot;)</span></span><br><span class="line">	<span class="keyword">private</span> Integer stuId;</span><br><span class="line">	<span class="meta">@NotBlank(message=&quot;stuNameä¸èƒ½ä¸ºç©º&quot;)</span></span><br><span class="line">	<span class="keyword">private</span> String stuName;</span><br><span class="line">	<span class="meta">@DateTimeFormat(pattern=&quot;yyyy-MM-dd&quot;)</span></span><br><span class="line">	<span class="meta">@JsonFormat(pattern=&quot;yyyyå¹´MMæœˆddæ—¥&quot;)</span></span><br><span class="line">	<span class="meta">@Past(message=&quot;ä¸å±äºè¿‡å»çš„æ—¥æœŸ&quot;)</span></span><br><span class="line">	<span class="keyword">private</span> Date borndate;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="2ã€controller"><a href="#2ã€controller" class="headerlink" title="2ã€controller"></a>2ã€controller</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//	API æ¥å£å…¥å‚æ ¡éªŒï¼š@Valid</span></span><br><span class="line"><span class="comment">//	æ¥å£å…¥å‚ éœ€è¦æ·»åŠ  @Valid æ³¨è§£ï¼Œæ‰ä¼šå¯¹å…¥å‚è¿›è¡Œå‚æ•°æ ¡éªŒã€‚</span></span><br><span class="line"><span class="comment">//1ã€@Valid</span></span><br><span class="line">	<span class="meta">@RequestMapping(&quot;/msg&quot;)</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getMsg</span><span class="params">(<span class="meta">@Valid</span> Student stu,BindingResult br,Model m)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (br.hasErrors()) &#123;</span><br><span class="line">			List&lt;ObjectError&gt; allErrors = br.getAllErrors();</span><br><span class="line">			m.addAttribute(<span class="string">&quot;err&quot;</span>, allErrors);</span><br><span class="line">			<span class="keyword">for</span> (ObjectError error : allErrors) &#123;</span><br><span class="line">				System.err.println(error.getDefaultMessage());</span><br><span class="line">				<span class="keyword">return</span> <span class="string">&quot;error&quot;</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;ok&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">--------------------------------------------------------------------------------------</span><br><span class="line"><span class="comment">//1ã€@Valid</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;json1&quot;)</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">json1</span><span class="params">(<span class="meta">@Valid</span> Student stu, BindingResult result, Model model)</span> </span>&#123;</span><br><span class="line">		List&lt;ObjectError&gt; allErrors = result.getAllErrors();</span><br><span class="line">		String message = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">for</span> (ObjectError objectError : allErrors) &#123;</span><br><span class="line">			message += <span class="string">&quot;&lt;br&gt;&quot;</span> + objectError.getDefaultMessage()+<span class="string">&quot;ï¼š&quot;</span></span><br><span class="line">					+ objectError.getCode();</span><br><span class="line">		&#125;</span><br><span class="line">		model.addAttribute(<span class="string">&quot;msg&quot;</span>, message);</span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;index&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">--------------------------------------------------------------------------------------</span><br><span class="line"><span class="comment">//2ã€@Validated</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;json2&quot;)</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">json2</span><span class="params">(<span class="meta">@Validated</span> Student stu, BindingResult result,</span></span></span><br><span class="line"><span class="params"><span class="function">			Model model)</span> </span>&#123;</span><br><span class="line">		System.out.println(stu + <span class="string">&quot;&quot;</span> + result);</span><br><span class="line">		List&lt;ObjectError&gt; allErrors = result.getAllErrors();</span><br><span class="line">		String message = <span class="keyword">null</span>;</span><br><span class="line">		List&lt;FieldError&gt; fieldErrors = result.getFieldErrors();</span><br><span class="line">		<span class="keyword">for</span> (FieldError fieldError : fieldErrors) &#123;</span><br><span class="line">			message += <span class="string">&quot;&lt;br&gt;&quot;</span> + fieldError.getField() + <span class="string">&quot;ï¼š&quot;</span></span><br><span class="line">					+ fieldError.getDefaultMessage();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> (ObjectError objectError : allErrors) &#123;</span><br><span class="line">			message += <span class="string">&quot;&lt;br&gt;&quot;</span> + objectError.getDefaultMessage()+ <span class="string">&quot;ï¼š&quot;</span></span><br><span class="line">					+ objectError.getCode();</span><br><span class="line">		&#125;</span><br><span class="line">		model.addAttribute(<span class="string">&quot;msg&quot;</span>, message);</span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;index&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="2-2ã€-Validatedå’Œ-ValidåŒºåˆ«"><a href="#2-2ã€-Validatedå’Œ-ValidåŒºåˆ«" class="headerlink" title="2.2ã€@Validatedå’Œ@ValidåŒºåˆ«"></a>2.2ã€@Validatedå’Œ@ValidåŒºåˆ«</h5><p><strong>==1ã€åˆ†ç»„==</strong></p>
<ul>
<li>@Validatedï¼šæä¾›äº†ä¸€ä¸ªåˆ†ç»„åŠŸèƒ½ï¼Œå¯ä»¥åœ¨å…¥å‚éªŒè¯æ—¶ï¼Œæ ¹æ®ä¸åŒçš„åˆ†ç»„é‡‡ç”¨ä¸åŒçš„éªŒè¯æœºåˆ¶</li>
<li>@Validï¼šä½œä¸ºæ ‡å‡†JSR-303è§„èŒƒï¼Œè¿˜æ²¡æœ‰å¸æ”¶åˆ†ç»„çš„åŠŸèƒ½ã€‚ </li>
</ul>
<p><strong>==2ã€æ³¨è§£==</strong></p>
<ul>
<li><p>@Validatedï¼šå¯ä»¥ç”¨åœ¨ç±»å‹ã€æ–¹æ³•å’Œæ–¹æ³•å‚æ•°ä¸Šã€‚ä½†æ˜¯ä¸èƒ½ç”¨åœ¨æˆå‘˜å±æ€§ï¼ˆå­—æ®µï¼‰ä¸Š</p>
</li>
<li><p>@Validï¼šå¯ä»¥ç”¨åœ¨æ–¹æ³•ã€æ„é€ å‡½æ•°ã€æ–¹æ³•å‚æ•°å’Œæˆå‘˜å±æ€§ï¼ˆå­—æ®µï¼‰ä¸Š</p>
</li>
</ul>
<p>==ä¸¤è€…æ˜¯å¦èƒ½ç”¨äºæˆå‘˜å±æ€§ï¼ˆå­—æ®µï¼‰ä¸Šç›´æ¥å½±å“èƒ½å¦æä¾›åµŒå¥—éªŒè¯çš„åŠŸèƒ½ã€‚==</p>
<p>==<strong>3ã€åµŒå¥—éªŒè¯</strong>== </p>
<ul>
<li><p> @Validatedå’Œ@ValidåŠ åœ¨<strong>æ–¹æ³•å‚æ•°</strong>å‰ï¼Œéƒ½<strong>ä¸ä¼šè‡ªåŠ¨</strong>å¯¹å‚æ•°è¿›è¡ŒåµŒå¥—éªŒè¯ </p>
</li>
<li><p>==@Validated==ï¼šç”¨åœ¨æ–¹æ³•å…¥å‚ä¸Š==æ— æ³•å•ç‹¬==æä¾›åµŒå¥—éªŒè¯åŠŸèƒ½ã€‚==ä¸èƒ½==ç”¨åœ¨<strong>æˆå‘˜å±æ€§</strong>ï¼ˆå­—æ®µï¼‰ä¸Šï¼Œä¹Ÿ==æ— æ³•æç¤º==æ¡†æ¶è¿›è¡Œ==åµŒå¥—éªŒè¯==ã€‚==èƒ½é…åˆ==åµŒå¥—éªŒè¯æ³¨è§£@Validè¿›è¡Œ<strong>åµŒå¥—éªŒè¯</strong>ã€‚</p>
</li>
<li><p>==@Valid==ï¼šç”¨åœ¨æ–¹æ³•å…¥å‚ä¸Š==æ— æ³•å•ç‹¬==æä¾›åµŒå¥—éªŒè¯åŠŸèƒ½ã€‚==èƒ½å¤Ÿ==ç”¨åœ¨<strong>æˆå‘˜å±æ€§</strong>ï¼ˆå­—æ®µï¼‰ä¸Šï¼Œ==æç¤º==éªŒè¯æ¡†æ¶è¿›è¡Œ==åµŒå¥—éªŒè¯==ã€‚==èƒ½é…åˆ==åµŒå¥—éªŒè¯æ³¨è§£@Validè¿›è¡Œ<strong>åµŒå¥—éªŒè¯</strong>ã€‚</p>
</li>
<li><p><strong>@ValidåŠ åœ¨æ–¹æ³•å‚æ•°æ—¶å¹¶ä¸èƒ½å¤Ÿè‡ªåŠ¨è¿›è¡ŒåµŒå¥—éªŒè¯ï¼Œè€Œæ˜¯ç”¨åœ¨éœ€è¦åµŒå¥—éªŒè¯ç±»çš„ç›¸åº”å­—æ®µä¸Šï¼Œæ¥é…åˆæ–¹æ³•å‚æ•°ä¸Š@Validatedæˆ–@Validæ¥è¿›è¡ŒåµŒå¥—éªŒè¯ã€‚</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*ä¸ºäº†èƒ½å¤Ÿè¿›è¡ŒåµŒå¥—éªŒè¯ï¼Œå¿…é¡»æ‰‹åŠ¨åœ¨Itemå®ä½“çš„propså­—æ®µä¸Šæ˜ç¡®æŒ‡å‡ºè¿™ä¸ªå­—æ®µé‡Œé¢çš„å®ä½“ä¹Ÿè¦è¿›è¡ŒéªŒè¯*/</span></span><br><span class="line"><span class="keyword">@Valid</span> // åµŒå¥—éªŒè¯å¿…é¡»ç”¨@Valid</span><br><span class="line">@NotNull(message = <span class="string">&quot;propsä¸èƒ½ä¸ºç©º&quot;</span>)</span><br><span class="line">@Size(min = <span class="number">1</span>, message = <span class="string">&quot;propsè‡³å°‘è¦æœ‰ä¸€ä¸ªè‡ªå®šä¹‰å±æ€§&quot;</span>)</span><br><span class="line">private List&lt;Prop&gt; props;</span><br><span class="line">----------------------------------------------------------------------------------</span><br><span class="line"><span class="comment">/*å†ä½¿ç”¨@Validatedæˆ–è€…@Validï¼Œå°±èƒ½å¯¹Itemçš„å…¥å‚è¿›è¡ŒåµŒå¥—éªŒè¯*/</span></span><br><span class="line"><span class="keyword">@RequestMapping</span>(&quot;/item/add&quot;)</span><br><span class="line">public void addItem(@Validatedã€@Validã€‘ Item item, BindingResult bindingResult) &#123;</span><br><span class="line">    doSomething();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h5 id="3ã€é¡µé¢"><a href="#3ã€é¡µé¢" class="headerlink" title="3ã€é¡µé¢"></a>3ã€é¡µé¢</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">h2</span>&gt;</span>erroré¡µé¢<span class="tag">&lt;/<span class="name">h2</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">c:forEach</span> <span class="attr">items</span>=<span class="string">&quot;$&#123;err&#125;&quot;</span> <span class="attr">var</span>=<span class="string">&quot;error&quot;</span>&gt;</span></span><br><span class="line">		$&#123;error.getDefaultMessage()&#125;<span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">c:forEach</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line">-----------------------------------------------------------------</span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">h2</span>&gt;</span>oké¡µé¢<span class="tag">&lt;/<span class="name">h2</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="â‘£-æé«˜å¯æ‰©å±•æ€§-éœ€è¦é…ç½®xml"><a href="#â‘£-æé«˜å¯æ‰©å±•æ€§-éœ€è¦é…ç½®xml" class="headerlink" title="â‘£ æé«˜å¯æ‰©å±•æ€§(éœ€è¦é…ç½®xml)"></a>â‘£ æé«˜å¯æ‰©å±•æ€§(éœ€è¦é…ç½®xml)</h4><h5 id="1ã€model-1"><a href="#1ã€model-1" class="headerlink" title="1ã€model"></a>1ã€model</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line">	<span class="meta">@NotNull(message=&quot;&#123;stuId.notNull&#125;&quot;)</span></span><br><span class="line">	<span class="meta">@Range(min=100,max=1000,message=&quot;&#123;stuId.range&#125;&quot;)</span></span><br><span class="line">	<span class="keyword">private</span> Integer stuId;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@NotNull(message=&quot;&#123;stuName.notNull&#125;&quot;)</span></span><br><span class="line">	<span class="meta">@Length(min=0,max=5,message=&quot;&#123;stuName.length&#125;&quot;)</span></span><br><span class="line">	<span class="keyword">private</span> String stuName;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@DateTimeFormat(pattern=&quot;yyyy-MM-dd&quot;)</span></span><br><span class="line">	<span class="meta">@Past(message=&quot;&#123;borndate.past&#125;&quot;)</span></span><br><span class="line">	<span class="keyword">private</span> Date borndate;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="2ã€controllerï¼šåŒä¸Š"><a href="#2ã€controllerï¼šåŒä¸Š" class="headerlink" title="2ã€controllerï¼šåŒä¸Š"></a>2ã€controllerï¼šåŒä¸Š</h5><h5 id="3ã€é¡µé¢ï¼šåŒä¸Š"><a href="#3ã€é¡µé¢ï¼šåŒä¸Š" class="headerlink" title="3ã€é¡µé¢ï¼šåŒä¸Š"></a>3ã€é¡µé¢ï¼šåŒä¸Š</h5><h5 id="4ã€ç¼–å†™å±æ€§æ–‡ä»¶"><a href="#4ã€ç¼–å†™å±æ€§æ–‡ä»¶" class="headerlink" title="4ã€ç¼–å†™å±æ€§æ–‡ä»¶"></a>4ã€ç¼–å†™å±æ€§æ–‡ä»¶</h5><p>==error.properties==</p>
<img src="SpringMVC.assets/1586851865650.png" alt="1586851865650" style="zoom: 80%;float:left" / loading="lazy">

<h5 id="5ã€é…ç½®XML"><a href="#5ã€é…ç½®XML" class="headerlink" title="5ã€é…ç½®XML"></a>5ã€é…ç½®XML</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--â‘  é…ç½®æ‰¾å±æ€§æ–‡ä»¶çš„ç±»:ReloadableResourceBundleMessageSource --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;messageSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.context.support.ReloadableResourceBundleMessageSource&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;basenames&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>classpath:errors<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- â‘¡ æŠŠâ‘ æ³¨å…¥åˆ° LocalValidatorFactoryBean --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;validatorFactory&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.validation.beanvalidation.LocalValidatorFactoryBean&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;providerClass&quot;</span> <span class="attr">value</span>=<span class="string">&quot;org.hibernate.validator.HibernateValidator&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;validationMessageSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;messageSource&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- â‘¢ å‘Šè¯‰ä½ çš„æ³¨è§£é©±åŠ¨ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mvc:annotation-driven</span> <span class="attr">validator</span>=<span class="string">&quot;validatorFactory&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="14-SpringMvcå’ŒSpringBootçš„åŒºåˆ«"><a href="#14-SpringMvcå’ŒSpringBootçš„åŒºåˆ«" class="headerlink" title="14 SpringMvcå’ŒSpringBootçš„åŒºåˆ«"></a>14 SpringMvcå’ŒSpringBootçš„åŒºåˆ«</h2><blockquote>
<ul>
<li>Spring æœ€åˆåˆ©ç”¨â€œå·¥å‚æ¨¡å¼â€ï¼ˆDIï¼‰å’Œâ€œä»£ç†æ¨¡å¼â€ï¼ˆAOPï¼‰è§£è€¦åº”ç”¨ç»„ä»¶ã€‚</li>
<li>å¤§å®¶è§‰å¾—æŒºå¥½ç”¨ï¼Œäºæ˜¯æŒ‰ç…§è¿™ç§æ¨¡å¼æäº†ä¸€ä¸ª MVCæ¡†æ¶ï¼ˆä¸€äº›ç”¨Spring è§£è€¦çš„ç»„ä»¶ï¼‰ï¼Œç”¨å¼€å‘ web åº”ç”¨ï¼ˆ SpringMVC ï¼‰ã€‚</li>
<li>ç„¶åæœ‰å‘ç°æ¯æ¬¡å¼€å‘éƒ½å†™å¾ˆå¤šæ ·æ¿ä»£ç ï¼Œä¸ºäº†ç®€åŒ–å·¥ä½œæµç¨‹ï¼Œäºæ˜¯å¼€å‘å‡ºäº†ä¸€äº›â€œ==æ‡’äººæ•´åˆåŒ…==â€ï¼ˆstarterï¼‰ï¼Œè¿™å¥—å°±æ˜¯ Spring Bootã€‚ </li>
</ul>
</blockquote>
<h4 id="Spring-MVCçš„åŠŸèƒ½"><a href="#Spring-MVCçš„åŠŸèƒ½" class="headerlink" title="Spring MVCçš„åŠŸèƒ½"></a>Spring MVCçš„åŠŸèƒ½</h4><ul>
<li><p>Spring MVCæä¾›äº†ä¸€ç§==è½»åº¦è€¦åˆ==çš„æ–¹å¼æ¥å¼€å‘webåº”ç”¨ã€‚</p>
</li>
<li><p>Spring MVC<strong>æ˜¯Springçš„ä¸€ä¸ªæ¨¡å—</strong>ï¼Œæ˜¯ä¸€ä¸ªwebæ¡†æ¶ã€‚</p>
</li>
<li><p>é€šè¿‡Dispatcher Servlet, ModelAndView å’Œ View Resolverï¼Œå¼€å‘webåº”ç”¨å˜å¾—å¾ˆå®¹æ˜“ã€‚</p>
</li>
<li><p>è§£å†³çš„é—®é¢˜é¢†åŸŸæ˜¯ç½‘ç«™åº”ç”¨ç¨‹åºæˆ–è€…æœåŠ¡å¼€å‘â€”â€”URLè·¯ç”±ã€Sessionã€æ¨¡æ¿å¼•æ“ã€é™æ€Webèµ„æºç­‰ç­‰ã€‚</p>
</li>
</ul>
<h4 id="Spring-Bootçš„åŠŸèƒ½"><a href="#Spring-Bootçš„åŠŸèƒ½" class="headerlink" title="Spring Bootçš„åŠŸèƒ½"></a>Spring Bootçš„åŠŸèƒ½</h4><ul>
<li><p>Spring Bootå®ç°äº†==è‡ªåŠ¨é…ç½®==ï¼Œé™ä½äº†<strong>é¡¹ç›®æ­å»º</strong>çš„==å¤æ‚åº¦==ã€‚</p>
<ul>
<li>Springæ¡†æ¶éœ€è¦è¿›è¡Œ<strong>å¤§é‡çš„é…ç½®</strong>ï¼ŒSpring Bootå¼•å…¥è‡ªåŠ¨é…ç½®çš„æ¦‚å¿µï¼Œè®©é¡¹ç›®è®¾ç½®å˜å¾—å¾ˆå®¹æ˜“ã€‚</li>
<li>Spring Bootæœ¬èº«å¹¶ä¸æä¾›Springæ¡†æ¶çš„æ ¸å¿ƒç‰¹æ€§ä»¥åŠæ‰©å±•åŠŸèƒ½ï¼Œåªæ˜¯ç”¨äºå¿«é€Ÿã€æ•æ·åœ°å¼€å‘æ–°ä¸€ä»£åŸºäºSpringæ¡†æ¶çš„åº”ç”¨ç¨‹åºã€‚</li>
<li>ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒ==å¹¶ä¸æ˜¯ç”¨æ¥æ›¿ä»£Spring==çš„è§£å†³æ–¹æ¡ˆï¼Œè€Œæ˜¯å’ŒSpringæ¡†æ¶ç´§å¯†ç»“åˆç”¨äºæå‡Springå¼€å‘è€…ä½“éªŒçš„å·¥å…·ã€‚</li>
<li>åŒæ—¶å®ƒé›†æˆäº†å¤§é‡å¸¸ç”¨çš„==ç¬¬ä¸‰æ–¹åº“==é…ç½®(ä¾‹å¦‚Jackson, JDBC, Mongo, Redis, Mailç­‰ç­‰)ï¼ŒSpring Bootåº”ç”¨ä¸­è¿™äº›ç¬¬ä¸‰æ–¹åº“å‡ ä¹å¯ä»¥==é›¶é…ç½®==çš„å¼€ç®±å³ç”¨(out-of-the-box)ï¼Œå¤§éƒ¨åˆ†çš„Spring Bootåº”ç”¨éƒ½åªéœ€è¦éå¸¸å°‘é‡çš„é…ç½®ä»£ç ï¼Œå¼€å‘è€…èƒ½å¤Ÿæ›´åŠ ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘ã€‚</li>
</ul>
</li>
<li><p>Spring Bootåªæ˜¯æ‰¿è½½è€…ï¼Œè¾…åŠ©ä½ ==ç®€åŒ–é¡¹ç›®æ­å»ºè¿‡ç¨‹==çš„ã€‚å¦‚æœæ‰¿è½½çš„æ˜¯WEBé¡¹ç›®ï¼Œä½¿ç”¨Spring MVCä½œä¸ºMVCæ¡†æ¶ï¼Œé‚£ä¹ˆå·¥ä½œæµç¨‹å’Œä½ ä¸Šé¢æè¿°çš„æ˜¯å®Œå…¨ä¸€æ ·çš„ï¼Œå› ä¸ºè¿™éƒ¨åˆ†å·¥ä½œæ˜¯Spring MVCåšçš„è€Œä¸æ˜¯Spring Bootã€‚</p>
</li>
<li><p>å¯¹ä½¿ç”¨è€…æ¥è¯´ï¼Œæ¢ç”¨Spring Bootä»¥åï¼Œé¡¹ç›®åˆå§‹åŒ–æ–¹æ³•å˜äº†ï¼Œé…ç½®æ–‡ä»¶å˜äº†ï¼Œå¦å¤–å°±æ˜¯ä¸éœ€è¦å•ç‹¬å®‰è£…Tomcatè¿™ç±»å®¹å™¨æœåŠ¡å™¨äº†ï¼Œmavenæ‰“å‡ºjaråŒ…ç›´æ¥è·‘èµ·æ¥å°±æ˜¯ä¸ªç½‘ç«™ï¼Œä½†ä½ æœ€æ ¸å¿ƒçš„ä¸šåŠ¡é€»è¾‘å®ç°ä¸ä¸šåŠ¡æµç¨‹å®ç°æ²¡æœ‰ä»»ä½•å˜åŒ–ã€‚</p>
</li>
<li><p><strong>æ‰€ä»¥ï¼Œç”¨æœ€ç®€ç»ƒçš„è¯­è¨€æ¦‚æ‹¬å°±æ˜¯ï¼š</strong></p>
</li>
</ul>
<p>==Spring æ˜¯ä¸€ä¸ªâ€œå¼•æ“â€ï¼›==</p>
<p>==Spring MVC æ˜¯åŸºäºSpringçš„ä¸€ä¸ª MVC æ¡†æ¶ ï¼›==</p>
<p>==Spring Boot æ˜¯åŸºäºSpring4çš„æ¡ä»¶æ³¨å†Œçš„ä¸€å¥—å¿«é€Ÿå¼€å‘æ•´åˆåŒ…ã€‚==</p>
<h2 id="15-mybatisé€†å‘å·¥ç¨‹"><a href="#15-mybatisé€†å‘å·¥ç¨‹" class="headerlink" title="15 mybatisé€†å‘å·¥ç¨‹"></a>15 mybatisé€†å‘å·¥ç¨‹</h2><p>å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_24598601/article/details/83212819">https://blog.csdn.net/qq_24598601/article/details/83212819</a></p>
<p>å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://blog.csdn.net/thedarkclouds/article/details/82384606">https://blog.csdn.net/thedarkclouds/article/details/82384606</a></p>
<blockquote>
<p>mybatiséœ€è¦ç¨‹åºå‘˜è‡ªå·±ç¼–å†™sqlè¯­å¥ï¼Œmybatiså®˜æ–¹æä¾›<strong>é€†å‘å·¥ç¨‹</strong>ï¼Œå¯ä»¥é’ˆå¯¹**==å•è¡¨==**è‡ªåŠ¨ç”Ÿæˆmybatisæ‰§è¡Œæ‰€éœ€è¦çš„ä»£ç ï¼ˆmapper.javaã€mapper.xmlã€pojoâ€¦ï¼‰ï¼Œå¯ä»¥è®©ç¨‹åºå‘˜å°†æ›´å¤šçš„ç²¾åŠ›æ”¾åœ¨ç¹æ‚çš„ä¸šåŠ¡é€»è¾‘ä¸Šã€‚</p>
</blockquote>
<p><strong>é€šè¿‡ Java ä»£ç å®Œæˆ Mybatis é€†å‘å·¥ç¨‹</strong></p>
<h4 id="1ã€å¯¼å…¥Mybatisé€†å‘å·¥ç¨‹åŒ…"><a href="#1ã€å¯¼å…¥Mybatisé€†å‘å·¥ç¨‹åŒ…" class="headerlink" title="1ã€å¯¼å…¥Mybatisé€†å‘å·¥ç¨‹åŒ…"></a>1ã€å¯¼å…¥Mybatisé€†å‘å·¥ç¨‹åŒ…</h4><ul>
<li><p>æ–°å»ºä¸€ä¸ª Java Project é¡¹ç›®<br>æ–°å»ºä¸€ä¸ª Java é¡¹ç›®ï¼Œå¯¼å…¥Mybatisé€†å‘å·¥ç¨‹åŒ…</p>
</li>
<li><p>mybatis-generator-core-1.3.2.jar</p>
</li>
</ul>
<h4 id="2ã€ç¼–å†™é…ç½®æ–‡ä»¶"><a href="#2ã€ç¼–å†™é…ç½®æ–‡ä»¶" class="headerlink" title="2ã€ç¼–å†™é…ç½®æ–‡ä»¶"></a>2ã€ç¼–å†™é…ç½®æ–‡ä»¶</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">generatorConfiguration</span></span></span><br><span class="line"><span class="meta">  <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">  <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">generatorConfiguration</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">context</span> <span class="attr">id</span>=<span class="string">&quot;testTables&quot;</span> <span class="attr">targetRuntime</span>=<span class="string">&quot;MyBatis3&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">commentGenerator</span>&gt;</span></span><br><span class="line">			<span class="comment">&lt;!-- æ˜¯å¦å»é™¤è‡ªåŠ¨ç”Ÿæˆçš„æ³¨é‡Š trueï¼šæ˜¯ ï¼š false:å¦ --&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;suppressAllComments&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">commentGenerator</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!--æ•°æ®åº“è¿æ¥çš„ä¿¡æ¯ï¼šé©±åŠ¨ç±»ã€è¿æ¥åœ°å€ã€ç”¨æˆ·åã€å¯†ç  --&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- &lt;jdbcConnection driverClass=&quot;com.mysql.jdbc.Driver&quot;</span></span><br><span class="line"><span class="comment">			connectionURL=&quot;jdbc:mysql://localhost:3306/mybatis&quot; userId=&quot;root&quot;</span></span><br><span class="line"><span class="comment">			password=&quot;123456&quot;&gt;</span></span><br><span class="line"><span class="comment">		&lt;/jdbcConnection&gt;  --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">jdbcConnection</span> <span class="attr">driverClass</span>=<span class="string">&quot;oracle.jdbc.driver.OracleDriver&quot;</span></span></span><br><span class="line"><span class="tag">			<span class="attr">connectionURL</span>=<span class="string">&quot;jdbc:oracle:thin:@localhost:1521:orac&quot;</span> </span></span><br><span class="line"><span class="tag">			<span class="attr">userId</span>=<span class="string">&quot;scott&quot;</span></span></span><br><span class="line"><span class="tag">			<span class="attr">password</span>=<span class="string">&quot;scott&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">jdbcConnection</span>&gt;</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">&lt;!-- é»˜è®¤falseï¼ŒæŠŠJDBC DECIMAL å’Œ NUMERIC ç±»å‹è§£æä¸º Integerï¼Œä¸º trueæ—¶æŠŠJDBC DECIMAL å’Œ </span></span><br><span class="line"><span class="comment">			NUMERIC ç±»å‹è§£æä¸ºjava.math.BigDecimal --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">javaTypeResolver</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;forceBigDecimals&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">javaTypeResolver</span>&gt;</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">&lt;!-- targetProject:ç”ŸæˆPOç±»çš„ä½ç½® --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">javaModelGenerator</span> <span class="attr">targetPackage</span>=<span class="string">&quot;com.aaa.model&quot;</span></span></span><br><span class="line"><span class="tag">			<span class="attr">targetProject</span>=<span class="string">&quot;./src&quot;</span>&gt;</span></span><br><span class="line">			<span class="comment">&lt;!-- enableSubPackages:æ˜¯å¦è®©schemaä½œä¸ºåŒ…çš„åç¼€ --&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;enableSubPackages&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span> /&gt;</span></span><br><span class="line">			<span class="comment">&lt;!-- ä»æ•°æ®åº“è¿”å›çš„å€¼è¢«æ¸…ç†å‰åçš„ç©ºæ ¼ --&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;trimStrings&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">javaModelGenerator</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- targetProject:mapperæ˜ å°„æ–‡ä»¶ç”Ÿæˆçš„ä½ç½® --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">sqlMapGenerator</span> <span class="attr">targetPackage</span>=<span class="string">&quot;com.aaa.mapper&quot;</span> </span></span><br><span class="line"><span class="tag">			<span class="attr">targetProject</span>=<span class="string">&quot;./src&quot;</span>&gt;</span></span><br><span class="line">			<span class="comment">&lt;!-- enableSubPackages:æ˜¯å¦è®©schemaä½œä¸ºåŒ…çš„åç¼€ --&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;enableSubPackages&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">sqlMapGenerator</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- targetPackageï¼šmapperæ¥å£ç”Ÿæˆçš„ä½ç½® --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">javaClientGenerator</span> <span class="attr">type</span>=<span class="string">&quot;XMLMAPPER&quot;</span></span></span><br><span class="line"><span class="tag">			<span class="attr">targetPackage</span>=<span class="string">&quot;com.aaa.mapper&quot;</span> </span></span><br><span class="line"><span class="tag">			<span class="attr">targetProject</span>=<span class="string">&quot;./src&quot;</span>&gt;</span></span><br><span class="line">			<span class="comment">&lt;!-- enableSubPackages:æ˜¯å¦è®©schemaä½œä¸ºåŒ…çš„åç¼€ --&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;enableSubPackages&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">javaClientGenerator</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- æŒ‡å®šæ•°æ®åº“è¡¨ --&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">			tableName:è¦ç”Ÿæˆçš„è¡¨å</span></span><br><span class="line"><span class="comment">       		domainObjectName:ç”Ÿæˆåçš„å®ä¾‹å</span></span><br><span class="line"><span class="comment">	        enableCountByExample:Countè¯­å¥ä¸­åŠ å…¥whereæ¡ä»¶æŸ¥è¯¢ï¼Œé»˜è®¤trueå¼€å¯</span></span><br><span class="line"><span class="comment">	        enableUpdateByExample:Updateè¯­å¥ä¸­åŠ å…¥whereæ¡ä»¶æŸ¥è¯¢ï¼Œé»˜è®¤trueå¼€å¯</span></span><br><span class="line"><span class="comment">	        enableDeleteByExample:Deleteè¯­å¥ä¸­åŠ å…¥whereæ¡ä»¶æŸ¥è¯¢ï¼Œé»˜è®¤trueå¼€å¯</span></span><br><span class="line"><span class="comment">	        enableSelectByExample:Selectå¤šæ¡è¯­å¥ä¸­åŠ å…¥whereæ¡ä»¶æŸ¥è¯¢ï¼Œé»˜è®¤trueå¼€å¯</span></span><br><span class="line"><span class="comment">	        selectByExampleQueryId:Selectå•ä¸ªå¯¹è±¡è¯­å¥ä¸­åŠ å…¥whereæ¡ä»¶æŸ¥è¯¢ï¼Œé»˜è®¤trueå¼€å¯</span></span><br><span class="line"><span class="comment">		 --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">table</span> <span class="attr">tableName</span>=<span class="string">&quot;items&quot;</span>&gt;</span></span><br><span class="line">			<span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">				å¸¸ç”¨ï¼š</span></span><br><span class="line"><span class="comment">				property:å°†æ‰€æœ‰å­—æ®µé€†å‘ç”Ÿæˆä¸ºç±»å±æ€§ï¼Œé»˜è®¤å…¨éƒ¨</span></span><br><span class="line"><span class="comment">				ignoreColumn:ç”Ÿæˆæ—¶å¿½ç•¥åˆ—å­—æ®µ </span></span><br><span class="line"><span class="comment">			 --&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">&lt;!--  </span></span><br><span class="line"><span class="comment">		enableCountByExample=&quot;false&quot;</span></span><br><span class="line"><span class="comment">            enableUpdateByExample=&quot;false&quot;</span></span><br><span class="line"><span class="comment">            enableDeleteByExample=&quot;false&quot;</span></span><br><span class="line"><span class="comment">            enableSelectByExample=&quot;false&quot;</span></span><br><span class="line"><span class="comment">            selectByExampleQueryId=&quot;false&quot;</span></span><br><span class="line"><span class="comment">		--&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- &lt;table tableName=&quot;sys_users&quot; domainObjectName=&quot;User&quot; /&gt;</span></span><br><span class="line"><span class="comment">        &lt;table tableName=&quot;sys_roles&quot; domainObjectName=&quot;Role&quot;/&gt;</span></span><br><span class="line"><span class="comment">        &lt;table tableName=&quot;sys_permissions&quot; domainObjectName=&quot;Permissions&quot;/&gt;</span></span><br><span class="line"><span class="comment">        &lt;table tableName=&quot;sys_users_roles&quot; domainObjectName=&quot;UserRole&quot;/&gt;</span></span><br><span class="line"><span class="comment">        &lt;table tableName=&quot;sys_roles_permissions&quot; domainObjectName=&quot;RolePermission&quot;/&gt; --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">table</span> <span class="attr">tableName</span>=<span class="string">&quot;emp&quot;</span> <span class="attr">domainObjectName</span>=<span class="string">&quot;Emp&quot;</span>/&gt;</span></span><br><span class="line">		</span><br><span class="line">	<span class="tag">&lt;/<span class="name">context</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">generatorConfiguration</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="3ã€ç¼–å†™-Java-è¿è¡Œç¨‹åºï¼Œè¿è¡Œååˆ·æ–°å·¥ç¨‹å°±å¯ä»¥äº†"><a href="#3ã€ç¼–å†™-Java-è¿è¡Œç¨‹åºï¼Œè¿è¡Œååˆ·æ–°å·¥ç¨‹å°±å¯ä»¥äº†" class="headerlink" title="3ã€ç¼–å†™ Java è¿è¡Œç¨‹åºï¼Œè¿è¡Œååˆ·æ–°å·¥ç¨‹å°±å¯ä»¥äº†"></a>3ã€ç¼–å†™ Java è¿è¡Œç¨‹åºï¼Œè¿è¡Œååˆ·æ–°å·¥ç¨‹å°±å¯ä»¥äº†</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.aaa.test;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GeneratorFromXML</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		List&lt;String&gt; warnings = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">		<span class="keyword">boolean</span> overwrite = <span class="keyword">true</span>;</span><br><span class="line">        InputStream inputStream= GeneratorFromXML.class.getClassLoader().getResource(<span class="string">&quot;Generator.xml&quot;</span>).openStream();</span><br><span class="line">		ConfigurationParser cp = <span class="keyword">new</span> ConfigurationParser(warnings);</span><br><span class="line">		Configuration config = cp.parseConfiguration(inputStream);</span><br><span class="line">		DefaultShellCallback callback = <span class="keyword">new</span> DefaultShellCallback(overwrite);</span><br><span class="line">		MyBatisGenerator myBatisGenerator = <span class="keyword">new</span> MyBatisGenerator(config, callback, warnings);</span><br><span class="line">		myBatisGenerator.generate(<span class="keyword">null</span>);</span><br><span class="line">		System.out.println(<span class="string">&quot;å®Œæˆ&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="16-pagehelper"><a href="#16-pagehelper" class="headerlink" title="16 pagehelper"></a>16 pagehelper</h2><h3 id="1-å¼•å…¥åˆ†é¡µæ’ä»¶"><a href="#1-å¼•å…¥åˆ†é¡µæ’ä»¶" class="headerlink" title="1. å¼•å…¥åˆ†é¡µæ’ä»¶"></a>1. å¼•å…¥åˆ†é¡µæ’ä»¶</h3><p>å¼•å…¥åˆ†é¡µæ’ä»¶æœ‰ä¸‹é¢2ç§æ–¹å¼ï¼Œæ¨èä½¿ç”¨ Maven æ–¹å¼ã€‚  </p>
<h4 id="1-å¼•å…¥-Jar-åŒ…"><a href="#1-å¼•å…¥-Jar-åŒ…" class="headerlink" title="1). å¼•å…¥ Jar åŒ…"></a>1). å¼•å…¥ Jar åŒ…</h4><p>ä½ å¯ä»¥ä»ä¸‹é¢çš„åœ°å€ä¸­ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„ jar åŒ… </p>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://oss.sonatype.org/content/repositories/releases/com/github/pagehelper/pagehelper/">https://oss.sonatype.org/content/repositories/releases/com/github/pagehelper/pagehelper/</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="http://repo1.maven.org/maven2/com/github/pagehelper/pagehelper/">http://repo1.maven.org/maven2/com/github/pagehelper/pagehelper/</a></p>
</li>
</ul>
<p>ç”±äºä½¿ç”¨äº†sql è§£æå·¥å…·ï¼Œä½ è¿˜éœ€è¦ä¸‹è½½ jsqlparser.jar(éœ€è¦å’ŒPageHelper ä¾èµ–çš„ç‰ˆæœ¬ä¸€è‡´) ï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="http://repo1.maven.org/maven2/com/github/jsqlparser/jsqlparser/">http://repo1.maven.org/maven2/com/github/jsqlparser/jsqlparser/</a></li>
</ul>
<h4 id="2-ä½¿ç”¨-Maven"><a href="#2-ä½¿ç”¨-Maven" class="headerlink" title="2). ä½¿ç”¨ Maven"></a>2). ä½¿ç”¨ Maven</h4><p>åœ¨ pom.xml ä¸­æ·»åŠ å¦‚ä¸‹ä¾èµ–ï¼š  </p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.pagehelper<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>pagehelper<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>æœ€æ–°ç‰ˆæœ¬<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æœ€æ–°ç‰ˆæœ¬å·å¯ä»¥ä»é¦–é¡µæŸ¥çœ‹ã€‚</p>
<h3 id="2-é…ç½®æ‹¦æˆªå™¨æ’ä»¶"><a href="#2-é…ç½®æ‹¦æˆªå™¨æ’ä»¶" class="headerlink" title="2. é…ç½®æ‹¦æˆªå™¨æ’ä»¶"></a>2. é…ç½®æ‹¦æˆªå™¨æ’ä»¶</h3><p>ç‰¹åˆ«æ³¨æ„ï¼Œæ–°ç‰ˆæ‹¦æˆªå™¨æ˜¯ <code>com.github.pagehelper.PageInterceptor</code>ã€‚<br><code>com.github.pagehelper.PageHelper</code> ç°åœ¨æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ <code>dialect</code> å®ç°ç±»ï¼Œæ˜¯åˆ†é¡µæ’ä»¶çš„é»˜è®¤å®ç°ç±»ï¼Œæä¾›äº†å’Œä»¥å‰ç›¸åŒçš„ç”¨æ³•ã€‚</p>
<h4 id="1-åœ¨-MyBatis-é…ç½®-xml-ä¸­é…ç½®æ‹¦æˆªå™¨æ’ä»¶"><a href="#1-åœ¨-MyBatis-é…ç½®-xml-ä¸­é…ç½®æ‹¦æˆªå™¨æ’ä»¶" class="headerlink" title="1. åœ¨ MyBatis é…ç½® xml ä¸­é…ç½®æ‹¦æˆªå™¨æ’ä»¶"></a>1. åœ¨ MyBatis é…ç½® xml ä¸­é…ç½®æ‹¦æˆªå™¨æ’ä»¶</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">    pluginsåœ¨é…ç½®æ–‡ä»¶ä¸­çš„ä½ç½®å¿…é¡»ç¬¦åˆè¦æ±‚ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼Œé¡ºåºå¦‚ä¸‹:</span></span><br><span class="line"><span class="comment">    properties?, settings?, </span></span><br><span class="line"><span class="comment">    typeAliases?, typeHandlers?, </span></span><br><span class="line"><span class="comment">    objectFactory?,objectWrapperFactory?, </span></span><br><span class="line"><span class="comment">    plugins?, </span></span><br><span class="line"><span class="comment">    environments?, databaseIdProvider?, mappers?</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- com.github.pagehelperä¸ºPageHelperç±»æ‰€åœ¨åŒ…å --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugin</span> <span class="attr">interceptor</span>=<span class="string">&quot;com.github.pagehelper.PageInterceptor&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼é…ç½®å‚æ•°ï¼Œåé¢ä¼šæœ‰æ‰€æœ‰çš„å‚æ•°ä»‹ç» --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;param1&quot;</span> <span class="attr">value</span>=<span class="string">&quot;value1&quot;</span>/&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="2-åœ¨-Spring-é…ç½®æ–‡ä»¶ä¸­é…ç½®æ‹¦æˆªå™¨æ’ä»¶"><a href="#2-åœ¨-Spring-é…ç½®æ–‡ä»¶ä¸­é…ç½®æ‹¦æˆªå™¨æ’ä»¶" class="headerlink" title="2. åœ¨ Spring é…ç½®æ–‡ä»¶ä¸­é…ç½®æ‹¦æˆªå™¨æ’ä»¶"></a>2. åœ¨ Spring é…ç½®æ–‡ä»¶ä¸­é…ç½®æ‹¦æˆªå™¨æ’ä»¶</h4><p>ä½¿ç”¨ spring çš„å±æ€§é…ç½®æ–¹å¼ï¼Œå¯ä»¥ä½¿ç”¨ <code>plugins</code> å±æ€§åƒä¸‹é¢è¿™æ ·é…ç½®ï¼š    </p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;sqlSessionFactory&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- æ³¨æ„å…¶ä»–é…ç½® --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;plugins&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;com.github.pagehelper.PageInterceptor&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;properties&quot;</span>&gt;</span></span><br><span class="line">          <span class="comment">&lt;!--ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼é…ç½®å‚æ•°ï¼Œä¸€è¡Œé…ç½®ä¸€ä¸ª --&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">value</span>&gt;</span></span><br><span class="line">            params=value1</span><br><span class="line">          <span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="3-åˆ†é¡µæ’ä»¶å‚æ•°ä»‹ç»"><a href="#3-åˆ†é¡µæ’ä»¶å‚æ•°ä»‹ç»" class="headerlink" title="3. åˆ†é¡µæ’ä»¶å‚æ•°ä»‹ç»"></a>3. åˆ†é¡µæ’ä»¶å‚æ•°ä»‹ç»</h4><p>åˆ†é¡µæ’ä»¶æä¾›äº†å¤šä¸ªå¯é€‰å‚æ•°ï¼Œè¿™äº›å‚æ•°ä½¿ç”¨æ—¶ï¼ŒæŒ‰ç…§ä¸Šé¢ä¸¤ç§é…ç½®æ–¹å¼ä¸­çš„ç¤ºä¾‹é…ç½®å³å¯ã€‚</p>
<p>åˆ†é¡µæ’ä»¶å¯é€‰å‚æ•°å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>dialect</code>ï¼šé»˜è®¤æƒ…å†µä¸‹ä¼šä½¿ç”¨ PageHelper æ–¹å¼è¿›è¡Œåˆ†é¡µï¼Œå¦‚æœæƒ³è¦å®ç°è‡ªå·±çš„åˆ†é¡µé€»è¾‘ï¼Œå¯ä»¥å®ç° <code>Dialect</code>(<code>com.github.pagehelper.Dialect</code>)<br>æ¥å£ï¼Œç„¶åé…ç½®è¯¥å±æ€§ä¸ºå®ç°ç±»çš„å…¨é™å®šåç§°ã€‚</li>
</ul>
<p><strong>ä¸‹é¢å‡ ä¸ªå‚æ•°éƒ½æ˜¯é’ˆå¯¹é»˜è®¤ dialect æƒ…å†µä¸‹çš„å‚æ•°ã€‚ä½¿ç”¨è‡ªå®šä¹‰ dialect å®ç°æ—¶ï¼Œä¸‹é¢çš„å‚æ•°æ²¡æœ‰ä»»ä½•ä½œç”¨ã€‚</strong></p>
<ol>
<li><p><code>helperDialect</code>ï¼šåˆ†é¡µæ’ä»¶ä¼šè‡ªåŠ¨æ£€æµ‹å½“å‰çš„æ•°æ®åº“é“¾æ¥ï¼Œè‡ªåŠ¨é€‰æ‹©åˆé€‚çš„åˆ†é¡µæ–¹å¼ã€‚<br>ä½ å¯ä»¥é…ç½®<code>helperDialect</code>å±æ€§æ¥æŒ‡å®šåˆ†é¡µæ’ä»¶ä½¿ç”¨å“ªç§æ–¹è¨€ã€‚é…ç½®æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ç¼©å†™å€¼ï¼š<br><code>oracle</code>,<code>mysql</code>,<code>mariadb</code>,<code>sqlite</code>,<code>hsqldb</code>,<code>postgresql</code>,<code>db2</code>,<code>sqlserver</code>,<code>informix</code>,<code>h2</code>,<code>sqlserver2012</code>,<code>derby</code><br><b>ç‰¹åˆ«æ³¨æ„ï¼š</b>ä½¿ç”¨ SqlServer2012 æ•°æ®åº“æ—¶ï¼Œéœ€è¦æ‰‹åŠ¨æŒ‡å®šä¸º <code>sqlserver2012</code>ï¼Œå¦åˆ™ä¼šä½¿ç”¨ SqlServer2005 çš„æ–¹å¼è¿›è¡Œåˆ†é¡µã€‚<br>ä½ ä¹Ÿå¯ä»¥å®ç° <code>AbstractHelperDialect</code>ï¼Œç„¶åé…ç½®è¯¥å±æ€§ä¸ºå®ç°ç±»çš„å…¨é™å®šåç§°å³å¯ä½¿ç”¨è‡ªå®šä¹‰çš„å®ç°æ–¹æ³•ã€‚</p>
</li>
<li><p><code>offsetAsPageNum</code>ï¼šé»˜è®¤å€¼ä¸º <code>false</code>ï¼Œè¯¥å‚æ•°å¯¹ä½¿ç”¨ <code>RowBounds</code> ä½œä¸ºåˆ†é¡µå‚æ•°æ—¶æœ‰æ•ˆã€‚<br>å½“è¯¥å‚æ•°è®¾ç½®ä¸º <code>true</code> æ—¶ï¼Œä¼šå°† <code>RowBounds</code> ä¸­çš„ <code>offset</code> å‚æ•°å½“æˆ <code>pageNum</code> ä½¿ç”¨ï¼Œå¯ä»¥ç”¨é¡µç å’Œé¡µé¢å¤§å°ä¸¤ä¸ªå‚æ•°è¿›è¡Œåˆ†é¡µã€‚</p>
</li>
<li><p><code>rowBoundsWithCount</code>ï¼šé»˜è®¤å€¼ä¸º<code>false</code>ï¼Œè¯¥å‚æ•°å¯¹ä½¿ç”¨ <code>RowBounds</code> ä½œä¸ºåˆ†é¡µå‚æ•°æ—¶æœ‰æ•ˆã€‚<br>å½“è¯¥å‚æ•°è®¾ç½®ä¸º<code>true</code>æ—¶ï¼Œä½¿ç”¨ <code>RowBounds</code> åˆ†é¡µä¼šè¿›è¡Œ count æŸ¥è¯¢ã€‚</p>
</li>
<li><p><code>pageSizeZero</code>ï¼šé»˜è®¤å€¼ä¸º <code>false</code>ï¼Œå½“è¯¥å‚æ•°è®¾ç½®ä¸º <code>true</code> æ—¶ï¼Œå¦‚æœ <code>pageSize=0</code> æˆ–è€… <code>RowBounds.limit = 0</code> å°±ä¼šæŸ¥è¯¢å‡ºå…¨éƒ¨çš„ç»“æœï¼ˆç›¸å½“äºæ²¡æœ‰æ‰§è¡Œåˆ†é¡µæŸ¥è¯¢ï¼Œä½†æ˜¯è¿”å›ç»“æœä»ç„¶æ˜¯ <code>Page</code> ç±»å‹ï¼‰ã€‚</p>
</li>
<li><p><code>reasonable</code>ï¼šåˆ†é¡µåˆç†åŒ–å‚æ•°ï¼Œé»˜è®¤å€¼ä¸º<code>false</code>ã€‚å½“è¯¥å‚æ•°è®¾ç½®ä¸º <code>true</code> æ—¶ï¼Œ<code>pageNum&lt;=0</code> æ—¶ä¼šæŸ¥è¯¢ç¬¬ä¸€é¡µï¼Œ<br><code>pageNum&gt;pages</code>ï¼ˆè¶…è¿‡æ€»æ•°æ—¶ï¼‰ï¼Œä¼šæŸ¥è¯¢æœ€åä¸€é¡µã€‚é»˜è®¤<code>false</code> æ—¶ï¼Œç›´æ¥æ ¹æ®å‚æ•°è¿›è¡ŒæŸ¥è¯¢ã€‚</p>
</li>
<li><p><code>params</code>ï¼šä¸ºäº†æ”¯æŒ<code>startPage(Object params)</code>æ–¹æ³•ï¼Œå¢åŠ äº†è¯¥å‚æ•°æ¥é…ç½®å‚æ•°æ˜ å°„ï¼Œç”¨äºä»å¯¹è±¡ä¸­æ ¹æ®å±æ€§åå–å€¼ï¼Œ<br>å¯ä»¥é…ç½® <code>pageNum,pageSize,count,pageSizeZero,reasonable</code>ï¼Œä¸é…ç½®æ˜ å°„çš„ç”¨é»˜è®¤å€¼ï¼Œ<br>é»˜è®¤å€¼ä¸º<code>pageNum=pageNum;pageSize=pageSize;count=countSql;reasonable=reasonable;pageSizeZero=pageSizeZero</code>ã€‚</p>
</li>
<li><p><code>supportMethodsArguments</code>ï¼šæ”¯æŒé€šè¿‡ Mapper æ¥å£å‚æ•°æ¥ä¼ é€’åˆ†é¡µå‚æ•°ï¼Œé»˜è®¤å€¼<code>false</code>ï¼Œåˆ†é¡µæ’ä»¶ä¼šä»æŸ¥è¯¢æ–¹æ³•çš„å‚æ•°å€¼ä¸­ï¼Œè‡ªåŠ¨æ ¹æ®ä¸Šé¢ <code>params</code> é…ç½®çš„å­—æ®µä¸­å–å€¼ï¼ŒæŸ¥æ‰¾åˆ°åˆé€‚çš„å€¼æ—¶å°±ä¼šè‡ªåŠ¨åˆ†é¡µã€‚<br>ä½¿ç”¨æ–¹æ³•å¯ä»¥å‚è€ƒæµ‹è¯•ä»£ç ä¸­çš„ <code>com.github.pagehelper.test.basic</code> åŒ…ä¸‹çš„ <code>ArgumentsMapTest</code> å’Œ <code>ArgumentsObjTest</code>ã€‚</p>
</li>
<li><p><code>autoRuntimeDialect</code>ï¼šé»˜è®¤å€¼ä¸º <code>false</code>ã€‚è®¾ç½®ä¸º <code>true</code> æ—¶ï¼Œå…è®¸åœ¨è¿è¡Œæ—¶æ ¹æ®å¤šæ•°æ®æºè‡ªåŠ¨è¯†åˆ«å¯¹åº”æ–¹è¨€çš„åˆ†é¡µ<br>ï¼ˆä¸æ”¯æŒè‡ªåŠ¨é€‰æ‹©<code>sqlserver2012</code>ï¼Œåªèƒ½ä½¿ç”¨<code>sqlserver</code>ï¼‰ï¼Œç”¨æ³•å’Œæ³¨æ„äº‹é¡¹å‚è€ƒä¸‹é¢çš„<strong>åœºæ™¯äº”</strong>ã€‚</p>
</li>
<li><p><code>closeConn</code>ï¼šé»˜è®¤å€¼ä¸º <code>true</code>ã€‚å½“ä½¿ç”¨è¿è¡Œæ—¶åŠ¨æ€æ•°æ®æºæˆ–æ²¡æœ‰è®¾ç½® <code>helperDialect</code> å±æ€§è‡ªåŠ¨è·å–æ•°æ®åº“ç±»å‹æ—¶ï¼Œä¼šè‡ªåŠ¨è·å–ä¸€ä¸ªæ•°æ®åº“è¿æ¥ï¼Œ<br>é€šè¿‡è¯¥å±æ€§æ¥è®¾ç½®æ˜¯å¦å…³é—­è·å–çš„è¿™ä¸ªè¿æ¥ï¼Œé»˜è®¤<code>true</code>å…³é—­ï¼Œè®¾ç½®ä¸º <code>false</code> åï¼Œä¸ä¼šå…³é—­è·å–çš„è¿æ¥ï¼Œè¿™ä¸ªå‚æ•°çš„è®¾ç½®è¦æ ¹æ®è‡ªå·±é€‰æ‹©çš„æ•°æ®æºæ¥å†³å®šã€‚</p>
</li>
<li><p><code>aggregateFunctions</code>(5.1.5+)ï¼šé»˜è®¤ä¸ºæ‰€æœ‰å¸¸è§æ•°æ®åº“çš„èšåˆå‡½æ•°ï¼Œå…è®¸æ‰‹åŠ¨æ·»åŠ èšåˆå‡½æ•°ï¼ˆå½±å“è¡Œæ•°ï¼‰ï¼Œæ‰€æœ‰ä»¥èšåˆå‡½æ•°å¼€å¤´çš„å‡½æ•°ï¼Œåœ¨è¿›è¡Œ count è½¬æ¢æ—¶ï¼Œä¼šå¥—ä¸€å±‚ã€‚å…¶ä»–å‡½æ•°å’Œåˆ—ä¼šè¢«æ›¿æ¢ä¸º count(0)ï¼Œå…¶ä¸­countåˆ—å¯ä»¥è‡ªå·±é…ç½®ã€‚</p>
</li>
</ol>
<p><strong>é‡è¦æç¤ºï¼š</strong></p>
<p>å½“ <code>offsetAsPageNum=false</code> çš„æ—¶å€™ï¼Œç”±äº <code>PageNum</code> é—®é¢˜ï¼Œ<code>RowBounds</code>æŸ¥è¯¢çš„æ—¶å€™ <code>reasonable</code> ä¼šå¼ºåˆ¶ä¸º <code>false</code>ã€‚ä½¿ç”¨ <code>PageHelper.startPage</code> æ–¹æ³•ä¸å—å½±å“ã€‚</p>
<h4 id="4-å¦‚ä½•é€‰æ‹©é…ç½®è¿™äº›å‚æ•°"><a href="#4-å¦‚ä½•é€‰æ‹©é…ç½®è¿™äº›å‚æ•°" class="headerlink" title="4. å¦‚ä½•é€‰æ‹©é…ç½®è¿™äº›å‚æ•°"></a>4. å¦‚ä½•é€‰æ‹©é…ç½®è¿™äº›å‚æ•°</h4><p>å•ç‹¬çœ‹æ¯ä¸ªå‚æ•°çš„è¯´æ˜å¯èƒ½æ˜¯ä¸€ä»¶è®©äººä¸çˆ½çš„äº‹æƒ…ï¼Œè¿™é‡Œåˆ—ä¸¾ä¸€äº›å¯èƒ½ä¼šç”¨åˆ°æŸäº›å‚æ•°çš„æƒ…å†µã€‚</p>
<h5 id="åœºæ™¯ä¸€"><a href="#åœºæ™¯ä¸€" class="headerlink" title="åœºæ™¯ä¸€"></a>åœºæ™¯ä¸€</h5><p>å¦‚æœä½ ä»ç„¶åœ¨ç”¨ç±»ä¼¼ibatiså¼çš„å‘½åç©ºé—´è°ƒç”¨æ–¹å¼ï¼Œä½ ä¹Ÿè®¸ä¼šç”¨åˆ°<code>rowBoundsWithCount</code>ï¼Œ<br>åˆ†é¡µæ’ä»¶å¯¹<code>RowBounds</code>æ”¯æŒå’Œ MyBatis é»˜è®¤çš„æ–¹å¼æ˜¯ä¸€è‡´ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¸ä¼šè¿›è¡Œ count æŸ¥è¯¢ï¼Œå¦‚æœä½ æƒ³åœ¨åˆ†é¡µæŸ¥è¯¢æ—¶è¿›è¡Œ count æŸ¥è¯¢ï¼Œ<br>ä»¥åŠä½¿ç”¨æ›´å¼ºå¤§çš„ <code>PageInfo</code> ç±»ï¼Œä½ éœ€è¦è®¾ç½®è¯¥å‚æ•°ä¸º <code>true</code>ã€‚</p>
<p><strong>æ³¨ï¼š</strong> <code>PageRowBounds</code> æƒ³è¦æŸ¥è¯¢æ€»æ•°ä¹Ÿéœ€è¦é…ç½®è¯¥å±æ€§ä¸º <code>true</code>ã€‚</p>
<h5 id="åœºæ™¯äºŒ"><a href="#åœºæ™¯äºŒ" class="headerlink" title="åœºæ™¯äºŒ"></a>åœºæ™¯äºŒ</h5><p>å¦‚æœä½ ä»ç„¶åœ¨ç”¨ç±»ä¼¼ibatiså¼çš„å‘½åç©ºé—´è°ƒç”¨æ–¹å¼ï¼Œä½ è§‰å¾— <code>RowBounds</code> ä¸­çš„ä¸¤ä¸ªå‚æ•° <code>offset,limit</code> ä¸å¦‚ <code>pageNum,pageSize</code> å®¹æ˜“ç†è§£ï¼Œ<br>ä½ å¯ä»¥ä½¿ç”¨ <code>offsetAsPageNum</code> å‚æ•°ï¼Œå°†è¯¥å‚æ•°è®¾ç½®ä¸º <code>true</code> åï¼Œ<code>offset</code>ä¼šå½“æˆ <code>pageNum</code> ä½¿ç”¨ï¼Œ<code>limit</code> å’Œ <code>pageSize</code> å«ä¹‰ç›¸åŒã€‚</p>
<h5 id="åœºæ™¯ä¸‰"><a href="#åœºæ™¯ä¸‰" class="headerlink" title="åœºæ™¯ä¸‰"></a>åœºæ™¯ä¸‰</h5><p>å¦‚æœè§‰å¾—æŸä¸ªåœ°æ–¹ä½¿ç”¨åˆ†é¡µåï¼Œä½ ä»ç„¶æƒ³é€šè¿‡æ§åˆ¶å‚æ•°æŸ¥è¯¢å…¨éƒ¨çš„ç»“æœï¼Œä½ å¯ä»¥é…ç½® <code>pageSizeZero</code> ä¸º <code>true</code>ï¼Œ<br>é…ç½®åï¼Œå½“ <code>pageSize=0</code> æˆ–è€… <code>RowBounds.limit = 0</code> å°±ä¼šæŸ¥è¯¢å‡ºå…¨éƒ¨çš„ç»“æœã€‚</p>
<h5 id="åœºæ™¯å››"><a href="#åœºæ™¯å››" class="headerlink" title="åœºæ™¯å››"></a>åœºæ™¯å››</h5><p>å¦‚æœä½ åˆ†é¡µæ’ä»¶ä½¿ç”¨äºç±»ä¼¼åˆ†é¡µæŸ¥çœ‹åˆ—è¡¨å¼çš„æ•°æ®ï¼Œå¦‚æ–°é—»åˆ—è¡¨ï¼Œè½¯ä»¶åˆ—è¡¨ï¼Œ<br>ä½ å¸Œæœ›ç”¨æˆ·è¾“å…¥çš„é¡µæ•°ä¸åœ¨åˆæ³•èŒƒå›´ï¼ˆç¬¬ä¸€é¡µåˆ°æœ€åä¸€é¡µä¹‹å¤–ï¼‰æ—¶èƒ½å¤Ÿæ­£ç¡®çš„å“åº”åˆ°æ­£ç¡®çš„ç»“æœé¡µé¢ï¼Œ<br>é‚£ä¹ˆä½ å¯ä»¥é…ç½® <code>reasonable</code> ä¸º <code>true</code>ï¼Œè¿™æ—¶å¦‚æœ <code>pageNum&lt;=0</code> ä¼šæŸ¥è¯¢ç¬¬ä¸€é¡µï¼Œå¦‚æœ <code>pageNum&gt;æ€»é¡µæ•°</code> ä¼šæŸ¥è¯¢æœ€åä¸€é¡µã€‚</p>
<h5 id="åœºæ™¯äº”"><a href="#åœºæ™¯äº”" class="headerlink" title="åœºæ™¯äº”"></a>åœºæ™¯äº”</h5><p>å¦‚æœä½ åœ¨ Spring ä¸­é…ç½®äº†åŠ¨æ€æ•°æ®æºï¼Œå¹¶ä¸”è¿æ¥ä¸åŒç±»å‹çš„æ•°æ®åº“ï¼Œè¿™æ—¶ä½ å¯ä»¥é…ç½® <code>autoRuntimeDialect</code> ä¸º <code>true</code>ï¼Œè¿™æ ·åœ¨ä½¿ç”¨ä¸åŒæ•°æ®æºæ—¶ï¼Œä¼šä½¿ç”¨åŒ¹é…çš„åˆ†é¡µè¿›è¡ŒæŸ¥è¯¢ã€‚<br>è¿™ç§æƒ…å†µä¸‹ï¼Œä½ è¿˜éœ€è¦ç‰¹åˆ«æ³¨æ„ <code>closeConn</code> å‚æ•°ï¼Œç”±äºè·å–æ•°æ®æºç±»å‹ä¼šè·å–ä¸€ä¸ªæ•°æ®åº“è¿æ¥ï¼Œæ‰€ä»¥éœ€è¦é€šè¿‡è¿™ä¸ªå‚æ•°æ¥æ§åˆ¶è·å–è¿æ¥åï¼Œæ˜¯å¦å…³é—­è¯¥è¿æ¥ã€‚<br>é»˜è®¤ä¸º <code>true</code>ï¼Œæœ‰äº›æ•°æ®åº“è¿æ¥å…³é—­åå°±æ²¡æ³•è¿›è¡Œåç»­çš„æ•°æ®åº“æ“ä½œã€‚è€Œæœ‰äº›æ•°æ®åº“è¿æ¥ä¸å…³é—­å°±ä¼šå¾ˆå¿«ç”±äºè¿æ¥æ•°ç”¨å®Œè€Œå¯¼è‡´æ•°æ®åº“æ— å“åº”ã€‚æ‰€ä»¥åœ¨ä½¿ç”¨è¯¥åŠŸèƒ½æ—¶ï¼Œç‰¹åˆ«éœ€è¦æ³¨æ„ä½ ä½¿ç”¨çš„æ•°æ®æºæ˜¯å¦éœ€è¦å…³é—­æ•°æ®åº“è¿æ¥ã€‚</p>
<p>å½“ä¸ä½¿ç”¨åŠ¨æ€æ•°æ®æºè€Œåªæ˜¯è‡ªåŠ¨è·å– <code>helperDialect</code> æ—¶ï¼Œæ•°æ®åº“è¿æ¥åªä¼šè·å–ä¸€æ¬¡ï¼Œæ‰€ä»¥ä¸éœ€è¦æ‹…å¿ƒå ç”¨çš„è¿™ä¸€ä¸ªè¿æ¥æ˜¯å¦ä¼šå¯¼è‡´æ•°æ®åº“å‡ºé”™ï¼Œä½†æ˜¯æœ€å¥½ä¹Ÿæ ¹æ®æ•°æ®æºçš„ç‰¹æ€§é€‰æ‹©æ˜¯å¦å…³é—­è¿æ¥ã€‚</p>
<h3 id="3-å¦‚ä½•åœ¨ä»£ç ä¸­ä½¿ç”¨"><a href="#3-å¦‚ä½•åœ¨ä»£ç ä¸­ä½¿ç”¨" class="headerlink" title="3. å¦‚ä½•åœ¨ä»£ç ä¸­ä½¿ç”¨"></a>3. å¦‚ä½•åœ¨ä»£ç ä¸­ä½¿ç”¨</h3><p>é˜…è¯»å‰è¯·æ³¨æ„çœ‹<a target="_blank" rel="noopener" href="https://github.com/pagehelper/Mybatis-PageHelper/blob/master/wikis/zh/Important.md">é‡è¦æç¤º</a></p>
<p>åˆ†é¡µæ’ä»¶æ”¯æŒä»¥ä¸‹å‡ ç§è°ƒç”¨æ–¹å¼ï¼š  </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç¬¬ä¸€ç§ï¼ŒRowBoundsæ–¹å¼çš„è°ƒç”¨</span></span><br><span class="line">List&lt;User&gt; list = sqlSession.selectList(<span class="string">&quot;x.y.selectIf&quot;</span>, <span class="keyword">null</span>, <span class="keyword">new</span> RowBounds(<span class="number">0</span>, <span class="number">10</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¬¬äºŒç§ï¼ŒMapperæ¥å£æ–¹å¼çš„è°ƒç”¨ï¼Œæ¨èè¿™ç§ä½¿ç”¨æ–¹å¼ã€‚</span></span><br><span class="line">PageHelper.startPage(<span class="number">1</span>, <span class="number">10</span>);</span><br><span class="line">List&lt;User&gt; list = userMapper.selectIf(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¬¬ä¸‰ç§ï¼ŒMapperæ¥å£æ–¹å¼çš„è°ƒç”¨ï¼Œæ¨èè¿™ç§ä½¿ç”¨æ–¹å¼ã€‚</span></span><br><span class="line">PageHelper.offsetPage(<span class="number">1</span>, <span class="number">10</span>);</span><br><span class="line">List&lt;User&gt; list = userMapper.selectIf(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¬¬å››ç§ï¼Œå‚æ•°æ–¹æ³•è°ƒç”¨</span></span><br><span class="line"><span class="comment">//å­˜åœ¨ä»¥ä¸‹ Mapper æ¥å£æ–¹æ³•ï¼Œä½ ä¸éœ€è¦åœ¨ xml å¤„ç†åä¸¤ä¸ªå‚æ•°</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">CountryMapper</span> </span>&#123;</span><br><span class="line">    <span class="function">List&lt;User&gt; <span class="title">selectByPageNumSize</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">            <span class="meta">@Param(&quot;user&quot;)</span> User user,</span></span></span><br><span class="line"><span class="params"><span class="function">            <span class="meta">@Param(&quot;pageNum&quot;)</span> <span class="keyword">int</span> pageNum, </span></span></span><br><span class="line"><span class="params"><span class="function">            <span class="meta">@Param(&quot;pageSize&quot;)</span> <span class="keyword">int</span> pageSize)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//é…ç½®supportMethodsArguments=true</span></span><br><span class="line"><span class="comment">//åœ¨ä»£ç ä¸­ç›´æ¥è°ƒç”¨ï¼š</span></span><br><span class="line">List&lt;User&gt; list = userMapper.selectByPageNumSize(user, <span class="number">1</span>, <span class="number">10</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¬¬äº”ç§ï¼Œå‚æ•°å¯¹è±¡</span></span><br><span class="line"><span class="comment">//å¦‚æœ pageNum å’Œ pageSize å­˜åœ¨äº User å¯¹è±¡ä¸­ï¼Œåªè¦å‚æ•°æœ‰å€¼ï¼Œä¹Ÿä¼šè¢«åˆ†é¡µ</span></span><br><span class="line"><span class="comment">//æœ‰å¦‚ä¸‹ User å¯¹è±¡</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="comment">//å…¶ä»–fields</span></span><br><span class="line">    <span class="comment">//ä¸‹é¢ä¸¤ä¸ªå‚æ•°åå’Œ params é…ç½®çš„åå­—ä¸€è‡´</span></span><br><span class="line">    <span class="keyword">private</span> Integer pageNum;</span><br><span class="line">    <span class="keyword">private</span> Integer pageSize;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å­˜åœ¨ä»¥ä¸‹ Mapper æ¥å£æ–¹æ³•ï¼Œä½ ä¸éœ€è¦åœ¨ xml å¤„ç†åä¸¤ä¸ªå‚æ•°</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">CountryMapper</span> </span>&#123;</span><br><span class="line">    <span class="function">List&lt;User&gt; <span class="title">selectByPageNumSize</span><span class="params">(User user)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å½“ user ä¸­çš„ pageNum!= null &amp;&amp; pageSize!= null æ—¶ï¼Œä¼šè‡ªåŠ¨åˆ†é¡µ</span></span><br><span class="line">List&lt;User&gt; list = userMapper.selectByPageNumSize(user);</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¬¬å…­ç§ï¼ŒISelect æ¥å£æ–¹å¼</span></span><br><span class="line"><span class="comment">//jdk6,7ç”¨æ³•ï¼Œåˆ›å»ºæ¥å£</span></span><br><span class="line">Page&lt;User&gt; page = PageHelper.startPage(<span class="number">1</span>, <span class="number">10</span>).doSelectPage(<span class="keyword">new</span> ISelect() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doSelect</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        userMapper.selectGroupBy();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//jdk8 lambdaç”¨æ³•</span></span><br><span class="line">Page&lt;User&gt; page = PageHelper.startPage(<span class="number">1</span>, <span class="number">10</span>).doSelectPage(()-&gt; userMapper.selectGroupBy());</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¹Ÿå¯ä»¥ç›´æ¥è¿”å›PageInfoï¼Œæ³¨æ„doSelectPageInfoæ–¹æ³•å’ŒdoSelectPage</span></span><br><span class="line">pageInfo = PageHelper.startPage(<span class="number">1</span>, <span class="number">10</span>).doSelectPageInfo(<span class="keyword">new</span> ISelect() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doSelect</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        userMapper.selectGroupBy();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//å¯¹åº”çš„lambdaç”¨æ³•</span></span><br><span class="line">pageInfo = PageHelper.startPage(<span class="number">1</span>, <span class="number">10</span>).doSelectPageInfo(() -&gt; userMapper.selectGroupBy());</span><br><span class="line"></span><br><span class="line"><span class="comment">//countæŸ¥è¯¢ï¼Œè¿”å›ä¸€ä¸ªæŸ¥è¯¢è¯­å¥çš„countæ•°</span></span><br><span class="line"><span class="keyword">long</span> total = PageHelper.count(<span class="keyword">new</span> ISelect() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doSelect</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        userMapper.selectLike(user);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//lambda</span></span><br><span class="line">total = PageHelper.count(()-&gt;userMapper.selectLike(user));</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢å¯¹æœ€å¸¸ç”¨çš„æ–¹å¼è¿›è¡Œè¯¦ç»†ä»‹ç»</p>
<h4 id="1-RowBoundsæ–¹å¼çš„è°ƒç”¨"><a href="#1-RowBoundsæ–¹å¼çš„è°ƒç”¨" class="headerlink" title="1). RowBoundsæ–¹å¼çš„è°ƒç”¨"></a>1). RowBoundsæ–¹å¼çš„è°ƒç”¨</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;User&gt; list = sqlSession.selectList(<span class="string">&quot;x.y.selectIf&quot;</span>, <span class="keyword">null</span>, <span class="keyword">new</span> RowBounds(<span class="number">1</span>, <span class="number">10</span>));</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨è¿™ç§è°ƒç”¨æ–¹å¼æ—¶ï¼Œä½ å¯ä»¥ä½¿ç”¨RowBoundså‚æ•°è¿›è¡Œåˆ†é¡µï¼Œè¿™ç§æ–¹å¼ä¾µå…¥æ€§æœ€å°ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡RowBoundsæ–¹å¼è°ƒç”¨åªæ˜¯ä½¿ç”¨äº†è¿™ä¸ªå‚æ•°ï¼Œå¹¶æ²¡æœ‰å¢åŠ å…¶ä»–ä»»ä½•å†…å®¹ã€‚  </p>
<p>åˆ†é¡µæ’ä»¶æ£€æµ‹åˆ°ä½¿ç”¨äº†RowBoundså‚æ•°æ—¶ï¼Œå°±ä¼šå¯¹è¯¥æŸ¥è¯¢è¿›è¡Œ<b>ç‰©ç†åˆ†é¡µ</b>ã€‚</p>
<p>å…³äºè¿™ç§æ–¹å¼çš„è°ƒç”¨ï¼Œæœ‰ä¸¤ä¸ªç‰¹æ®Šçš„å‚æ•°æ˜¯é’ˆå¯¹ <code>RowBounds</code> çš„ï¼Œä½ å¯ä»¥å‚çœ‹ä¸Šé¢çš„ <strong>åœºæ™¯ä¸€</strong> å’Œ <strong>åœºæ™¯äºŒ</strong></p>
<p><b>æ³¨ï¼š</b>ä¸åªæœ‰å‘½åç©ºé—´æ–¹å¼å¯ä»¥ç”¨RowBoundsï¼Œä½¿ç”¨æ¥å£çš„æ—¶å€™ä¹Ÿå¯ä»¥å¢åŠ RowBoundså‚æ•°ï¼Œä¾‹å¦‚ï¼š  </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¿™ç§æƒ…å†µä¸‹ä¹Ÿä¼šè¿›è¡Œç‰©ç†åˆ†é¡µæŸ¥è¯¢</span></span><br><span class="line"><span class="function">List&lt;User&gt; <span class="title">selectAll</span><span class="params">(RowBounds rowBounds)</span></span>;</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼š</strong> ç”±äºé»˜è®¤æƒ…å†µä¸‹çš„ <code>RowBounds</code> æ— æ³•è·å–æŸ¥è¯¢æ€»æ•°ï¼Œåˆ†é¡µæ’ä»¶æä¾›äº†ä¸€ä¸ªç»§æ‰¿è‡ª <code>RowBounds</code> çš„ <code>PageRowBounds</code>ï¼Œè¿™ä¸ªå¯¹è±¡ä¸­å¢åŠ äº† <code>total</code> å±æ€§ï¼Œæ‰§è¡Œåˆ†é¡µæŸ¥è¯¢åï¼Œå¯ä»¥ä»è¯¥å±æ€§å¾—åˆ°æŸ¥è¯¢æ€»æ•°ã€‚</p>
<h4 id="2-PageHelper-startPage-é™æ€æ–¹æ³•è°ƒç”¨"><a href="#2-PageHelper-startPage-é™æ€æ–¹æ³•è°ƒç”¨" class="headerlink" title="2). PageHelper.startPage é™æ€æ–¹æ³•è°ƒç”¨"></a>2). <code>PageHelper.startPage</code> é™æ€æ–¹æ³•è°ƒç”¨</h4><p>é™¤äº† <code>PageHelper.startPage</code> æ–¹æ³•å¤–ï¼Œè¿˜æä¾›äº†ç±»ä¼¼ç”¨æ³•çš„ <code>PageHelper.offsetPage</code> æ–¹æ³•ã€‚</p>
<p>åœ¨ä½ éœ€è¦è¿›è¡Œåˆ†é¡µçš„ MyBatis æŸ¥è¯¢æ–¹æ³•å‰è°ƒç”¨ <code>PageHelper.startPage</code> é™æ€æ–¹æ³•å³å¯ï¼Œç´§è·Ÿåœ¨è¿™ä¸ªæ–¹æ³•åçš„ç¬¬ä¸€ä¸ª<strong>MyBatis æŸ¥è¯¢æ–¹æ³•</strong>ä¼šè¢«è¿›è¡Œåˆ†é¡µã€‚  </p>
<h5 id="ä¾‹ä¸€ï¼š"><a href="#ä¾‹ä¸€ï¼š" class="headerlink" title="ä¾‹ä¸€ï¼š"></a>ä¾‹ä¸€ï¼š</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è·å–ç¬¬1é¡µï¼Œ10æ¡å†…å®¹ï¼Œé»˜è®¤æŸ¥è¯¢æ€»æ•°count</span></span><br><span class="line">PageHelper.startPage(<span class="number">1</span>, <span class="number">10</span>);</span><br><span class="line"><span class="comment">//ç´§è·Ÿç€çš„ç¬¬ä¸€ä¸ªselectæ–¹æ³•ä¼šè¢«åˆ†é¡µ</span></span><br><span class="line">List&lt;User&gt; list = userMapper.selectIf(<span class="number">1</span>);</span><br><span class="line">assertEquals(<span class="number">2</span>, list.get(<span class="number">0</span>).getId());</span><br><span class="line">assertEquals(<span class="number">10</span>, list.size());</span><br><span class="line"><span class="comment">//åˆ†é¡µæ—¶ï¼Œå®é™…è¿”å›çš„ç»“æœlistç±»å‹æ˜¯Page&lt;E&gt;ï¼Œå¦‚æœæƒ³å–å‡ºåˆ†é¡µä¿¡æ¯ï¼Œéœ€è¦å¼ºåˆ¶è½¬æ¢ä¸ºPage&lt;E&gt;</span></span><br><span class="line">assertEquals(<span class="number">182</span>, ((Page) list).getTotal());</span><br></pre></td></tr></table></figure>

<h5 id="ä¾‹äºŒï¼š"><a href="#ä¾‹äºŒï¼š" class="headerlink" title="ä¾‹äºŒï¼š"></a>ä¾‹äºŒï¼š</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//request: url?pageNum=1&amp;pageSize=10</span></span><br><span class="line"><span class="comment">//æ”¯æŒ ServletRequest,Map,POJO å¯¹è±¡ï¼Œéœ€è¦é…åˆ params å‚æ•°</span></span><br><span class="line">PageHelper.startPage(request);</span><br><span class="line"><span class="comment">//ç´§è·Ÿç€çš„ç¬¬ä¸€ä¸ªselectæ–¹æ³•ä¼šè¢«åˆ†é¡µ</span></span><br><span class="line">List&lt;User&gt; list = userMapper.selectIf(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//åé¢çš„ä¸ä¼šè¢«åˆ†é¡µï¼Œé™¤éå†æ¬¡è°ƒç”¨PageHelper.startPage</span></span><br><span class="line">List&lt;User&gt; list2 = userMapper.selectIf(<span class="keyword">null</span>);</span><br><span class="line"><span class="comment">//list1</span></span><br><span class="line">assertEquals(<span class="number">2</span>, list.get(<span class="number">0</span>).getId());</span><br><span class="line">assertEquals(<span class="number">10</span>, list.size());</span><br><span class="line"><span class="comment">//åˆ†é¡µæ—¶ï¼Œå®é™…è¿”å›çš„ç»“æœlistç±»å‹æ˜¯Page&lt;E&gt;ï¼Œå¦‚æœæƒ³å–å‡ºåˆ†é¡µä¿¡æ¯ï¼Œéœ€è¦å¼ºåˆ¶è½¬æ¢ä¸ºPage&lt;E&gt;ï¼Œ</span></span><br><span class="line"><span class="comment">//æˆ–è€…ä½¿ç”¨PageInfoç±»ï¼ˆä¸‹é¢çš„ä¾‹å­æœ‰ä»‹ç»ï¼‰</span></span><br><span class="line">assertEquals(<span class="number">182</span>, ((Page) list).getTotal());</span><br><span class="line"><span class="comment">//list2</span></span><br><span class="line">assertEquals(<span class="number">1</span>, list2.get(<span class="number">0</span>).getId());</span><br><span class="line">assertEquals(<span class="number">182</span>, list2.size());</span><br></pre></td></tr></table></figure>

<h5 id="ä¾‹ä¸‰ï¼Œä½¿ç”¨PageInfoçš„ç”¨æ³•ï¼š"><a href="#ä¾‹ä¸‰ï¼Œä½¿ç”¨PageInfoçš„ç”¨æ³•ï¼š" class="headerlink" title="ä¾‹ä¸‰ï¼Œä½¿ç”¨PageInfoçš„ç”¨æ³•ï¼š"></a>ä¾‹ä¸‰ï¼Œä½¿ç”¨<code>PageInfo</code>çš„ç”¨æ³•ï¼š</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è·å–ç¬¬1é¡µï¼Œ10æ¡å†…å®¹ï¼Œé»˜è®¤æŸ¥è¯¢æ€»æ•°count</span></span><br><span class="line">PageHelper.startPage(<span class="number">1</span>, <span class="number">10</span>);</span><br><span class="line">List&lt;User&gt; list = userMapper.selectAll();</span><br><span class="line"><span class="comment">//ç”¨PageInfoå¯¹ç»“æœè¿›è¡ŒåŒ…è£…</span></span><br><span class="line">PageInfo page = <span class="keyword">new</span> PageInfo(list);</span><br><span class="line"><span class="comment">//æµ‹è¯•PageInfoå…¨éƒ¨å±æ€§</span></span><br><span class="line"><span class="comment">//PageInfoåŒ…å«äº†éå¸¸å…¨é¢çš„åˆ†é¡µå±æ€§</span></span><br><span class="line">assertEquals(<span class="number">1</span>, page.getPageNum());</span><br><span class="line">assertEquals(<span class="number">10</span>, page.getPageSize());</span><br><span class="line">assertEquals(<span class="number">1</span>, page.getStartRow());</span><br><span class="line">assertEquals(<span class="number">10</span>, page.getEndRow());</span><br><span class="line">assertEquals(<span class="number">183</span>, page.getTotal());</span><br><span class="line">assertEquals(<span class="number">19</span>, page.getPages());</span><br><span class="line">assertEquals(<span class="number">1</span>, page.getFirstPage());</span><br><span class="line">assertEquals(<span class="number">8</span>, page.getLastPage());</span><br><span class="line">assertEquals(<span class="keyword">true</span>, page.isFirstPage());</span><br><span class="line">assertEquals(<span class="keyword">false</span>, page.isLastPage());</span><br><span class="line">assertEquals(<span class="keyword">false</span>, page.isHasPreviousPage());</span><br><span class="line">assertEquals(<span class="keyword">true</span>, page.isHasNextPage());</span><br></pre></td></tr></table></figure>

<h4 id="3-ä½¿ç”¨å‚æ•°æ–¹å¼"><a href="#3-ä½¿ç”¨å‚æ•°æ–¹å¼" class="headerlink" title="3). ä½¿ç”¨å‚æ•°æ–¹å¼"></a>3). ä½¿ç”¨å‚æ•°æ–¹å¼</h4><p>æƒ³è¦ä½¿ç”¨å‚æ•°æ–¹å¼ï¼Œéœ€è¦é…ç½® <code>supportMethodsArguments</code> å‚æ•°ä¸º <code>true</code>ï¼ŒåŒæ—¶è¦é…ç½® <code>params</code> å‚æ•°ã€‚<br>ä¾‹å¦‚ä¸‹é¢çš„é…ç½®ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- com.github.pagehelperä¸ºPageHelperç±»æ‰€åœ¨åŒ…å --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugin</span> <span class="attr">interceptor</span>=<span class="string">&quot;com.github.pagehelper.PageInterceptor&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼é…ç½®å‚æ•°ï¼Œåé¢ä¼šæœ‰æ‰€æœ‰çš„å‚æ•°ä»‹ç» --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;supportMethodsArguments&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;params&quot;</span> <span class="attr">value</span>=<span class="string">&quot;pageNum=pageNumKey;pageSize=pageSizeKey;&quot;</span>/&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>åœ¨ MyBatis æ–¹æ³•ä¸­ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">List&lt;User&gt; <span class="title">selectByPageNumSize</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Param(&quot;user&quot;)</span> User user,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Param(&quot;pageNumKey&quot;)</span> <span class="keyword">int</span> pageNum, </span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Param(&quot;pageSizeKey&quot;)</span> <span class="keyword">int</span> pageSize)</span></span>;</span><br></pre></td></tr></table></figure>

<p>å½“è°ƒç”¨è¿™ä¸ªæ–¹æ³•æ—¶ï¼Œç”±äºåŒæ—¶å‘ç°äº† <code>pageNumKey</code> å’Œ <code>pageSizeKey</code> å‚æ•°ï¼Œè¿™ä¸ªæ–¹æ³•å°±ä¼šè¢«åˆ†é¡µã€‚params æä¾›çš„å‡ ä¸ªå‚æ•°éƒ½å¯ä»¥è¿™æ ·ä½¿ç”¨ã€‚</p>
<p>é™¤äº†ä¸Šé¢è¿™ç§æ–¹å¼å¤–ï¼Œå¦‚æœ User å¯¹è±¡ä¸­åŒ…å«è¿™ä¸¤ä¸ªå‚æ•°å€¼ï¼Œä¹Ÿå¯ä»¥æœ‰ä¸‹é¢çš„æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">List&lt;User&gt; <span class="title">selectByPageNumSize</span><span class="params">(User user)</span></span>;</span><br></pre></td></tr></table></figure>

<p>å½“ä» User ä¸­åŒæ—¶å‘ç°äº† <code>pageNumKey</code> å’Œ <code>pageSizeKey</code> å‚æ•°ï¼Œè¿™ä¸ªæ–¹æ³•å°±ä¼šè¢«åˆ†é¡µã€‚</p>
<p>æ³¨æ„ï¼š<code>pageNum</code> å’Œ <code>pageSize</code> ä¸¤ä¸ªå±æ€§åŒæ—¶å­˜åœ¨æ‰ä¼šè§¦å‘åˆ†é¡µæ“ä½œï¼Œåœ¨è¿™ä¸ªå‰æä¸‹ï¼Œå…¶ä»–çš„åˆ†é¡µå‚æ•°æ‰ä¼šç”Ÿæ•ˆã€‚</p>
<h4 id="3-PageHelper-å®‰å…¨è°ƒç”¨"><a href="#3-PageHelper-å®‰å…¨è°ƒç”¨" class="headerlink" title="3). PageHelper å®‰å…¨è°ƒç”¨"></a>3). <code>PageHelper</code> å®‰å…¨è°ƒç”¨</h4><h5 id="1-ä½¿ç”¨-RowBounds-å’Œ-PageRowBounds-å‚æ•°æ–¹å¼æ˜¯æå…¶å®‰å…¨çš„"><a href="#1-ä½¿ç”¨-RowBounds-å’Œ-PageRowBounds-å‚æ•°æ–¹å¼æ˜¯æå…¶å®‰å…¨çš„" class="headerlink" title="1. ä½¿ç”¨ RowBounds å’Œ PageRowBounds å‚æ•°æ–¹å¼æ˜¯æå…¶å®‰å…¨çš„"></a>1. ä½¿ç”¨ <code>RowBounds</code> å’Œ <code>PageRowBounds</code> å‚æ•°æ–¹å¼æ˜¯æå…¶å®‰å…¨çš„</h5><h5 id="2-ä½¿ç”¨å‚æ•°æ–¹å¼æ˜¯æå…¶å®‰å…¨çš„"><a href="#2-ä½¿ç”¨å‚æ•°æ–¹å¼æ˜¯æå…¶å®‰å…¨çš„" class="headerlink" title="2. ä½¿ç”¨å‚æ•°æ–¹å¼æ˜¯æå…¶å®‰å…¨çš„"></a>2. ä½¿ç”¨å‚æ•°æ–¹å¼æ˜¯æå…¶å®‰å…¨çš„</h5><h5 id="3-ä½¿ç”¨-ISelect-æ¥å£è°ƒç”¨æ˜¯æå…¶å®‰å…¨çš„"><a href="#3-ä½¿ç”¨-ISelect-æ¥å£è°ƒç”¨æ˜¯æå…¶å®‰å…¨çš„" class="headerlink" title="3. ä½¿ç”¨ ISelect æ¥å£è°ƒç”¨æ˜¯æå…¶å®‰å…¨çš„"></a>3. ä½¿ç”¨ ISelect æ¥å£è°ƒç”¨æ˜¯æå…¶å®‰å…¨çš„</h5><p>ISelect æ¥å£æ–¹å¼é™¤äº†å¯ä»¥ä¿è¯å®‰å…¨å¤–ï¼Œè¿˜ç‰¹åˆ«å®ç°äº†å°†æŸ¥è¯¢è½¬æ¢ä¸ºå•çº¯çš„ count æŸ¥è¯¢æ–¹å¼ï¼Œè¿™ä¸ªæ–¹æ³•å¯ä»¥å°†ä»»æ„çš„æŸ¥è¯¢æ–¹æ³•ï¼Œå˜æˆä¸€ä¸ª <code>select count(*)</code> çš„æŸ¥è¯¢æ–¹æ³•ã€‚</p>
<h5 id="4-ä»€ä¹ˆæ—¶å€™ä¼šå¯¼è‡´ä¸å®‰å…¨çš„åˆ†é¡µï¼Ÿ"><a href="#4-ä»€ä¹ˆæ—¶å€™ä¼šå¯¼è‡´ä¸å®‰å…¨çš„åˆ†é¡µï¼Ÿ" class="headerlink" title="4. ä»€ä¹ˆæ—¶å€™ä¼šå¯¼è‡´ä¸å®‰å…¨çš„åˆ†é¡µï¼Ÿ"></a>4. ä»€ä¹ˆæ—¶å€™ä¼šå¯¼è‡´ä¸å®‰å…¨çš„åˆ†é¡µï¼Ÿ</h5><p><code>PageHelper</code> æ–¹æ³•ä½¿ç”¨äº†é™æ€çš„ <code>ThreadLocal</code> å‚æ•°ï¼Œåˆ†é¡µå‚æ•°å’Œçº¿ç¨‹æ˜¯ç»‘å®šçš„ã€‚</p>
<p>åªè¦ä½ å¯ä»¥ä¿è¯åœ¨ <code>PageHelper</code> æ–¹æ³•è°ƒç”¨åç´§è·Ÿ MyBatis æŸ¥è¯¢æ–¹æ³•ï¼Œè¿™å°±æ˜¯å®‰å…¨çš„ã€‚å› ä¸º <code>PageHelper</code> åœ¨ <code>finally</code> ä»£ç æ®µä¸­è‡ªåŠ¨æ¸…é™¤äº† <code>ThreadLocal</code> å­˜å‚¨çš„å¯¹è±¡ã€‚</p>
<p>å¦‚æœä»£ç åœ¨è¿›å…¥ <code>Executor</code> å‰å‘ç”Ÿå¼‚å¸¸ï¼Œå°±ä¼šå¯¼è‡´çº¿ç¨‹ä¸å¯ç”¨ï¼Œè¿™å±äºäººä¸ºçš„ Bugï¼ˆä¾‹å¦‚æ¥å£æ–¹æ³•å’Œ XML ä¸­çš„ä¸åŒ¹é…ï¼Œå¯¼è‡´æ‰¾ä¸åˆ° <code>MappedStatement</code> æ—¶ï¼‰ï¼Œ<br>è¿™ç§æƒ…å†µç”±äºçº¿ç¨‹ä¸å¯ç”¨ï¼Œä¹Ÿä¸ä¼šå¯¼è‡´ <code>ThreadLocal</code> å‚æ•°è¢«é”™è¯¯çš„ä½¿ç”¨ã€‚</p>
<p>ä½†æ˜¯å¦‚æœä½ å†™å‡ºä¸‹é¢è¿™æ ·çš„ä»£ç ï¼Œå°±æ˜¯ä¸å®‰å…¨çš„ç”¨æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">PageHelper.startPage(<span class="number">1</span>, <span class="number">10</span>);</span><br><span class="line">List&lt;User&gt; list;</span><br><span class="line"><span class="keyword">if</span>(param1 != <span class="keyword">null</span>)&#123;</span><br><span class="line">    list = userMapper.selectIf(param1);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    list = <span class="keyword">new</span> ArrayList&lt;User&gt;();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ç§æƒ…å†µä¸‹ç”±äº param1 å­˜åœ¨ null çš„æƒ…å†µï¼Œå°±ä¼šå¯¼è‡´ PageHelper ç”Ÿäº§äº†ä¸€ä¸ªåˆ†é¡µå‚æ•°ï¼Œä½†æ˜¯æ²¡æœ‰è¢«æ¶ˆè´¹ï¼Œè¿™ä¸ªå‚æ•°å°±ä¼šä¸€ç›´ä¿ç•™åœ¨è¿™ä¸ªçº¿ç¨‹ä¸Šã€‚å½“è¿™ä¸ªçº¿ç¨‹å†æ¬¡è¢«ä½¿ç”¨æ—¶ï¼Œå°±å¯èƒ½å¯¼è‡´ä¸è¯¥åˆ†é¡µçš„æ–¹æ³•å»æ¶ˆè´¹è¿™ä¸ªåˆ†é¡µå‚æ•°ï¼Œè¿™å°±äº§ç”Ÿäº†è«åå…¶å¦™çš„åˆ†é¡µã€‚</p>
<p>ä¸Šé¢è¿™ä¸ªä»£ç ï¼Œåº”è¯¥å†™æˆä¸‹é¢è¿™ä¸ªæ ·å­ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">List&lt;User&gt; list;</span><br><span class="line"><span class="keyword">if</span>(param1 != <span class="keyword">null</span>)&#123;</span><br><span class="line">    PageHelper.startPage(<span class="number">1</span>, <span class="number">10</span>);</span><br><span class="line">    list = userMapper.selectIf(param1);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    list = <span class="keyword">new</span> ArrayList&lt;User&gt;();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ç§å†™æ³•å°±èƒ½ä¿è¯å®‰å…¨ã€‚</p>
<p>å¦‚æœä½ å¯¹æ­¤ä¸æ”¾å¿ƒï¼Œä½ å¯ä»¥æ‰‹åŠ¨æ¸…ç† <code>ThreadLocal</code> å­˜å‚¨çš„åˆ†é¡µå‚æ•°ï¼Œå¯ä»¥åƒä¸‹é¢è¿™æ ·ä½¿ç”¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">List&lt;User&gt; list;</span><br><span class="line"><span class="keyword">if</span>(param1 != <span class="keyword">null</span>)&#123;</span><br><span class="line">    PageHelper.startPage(<span class="number">1</span>, <span class="number">10</span>);</span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">        list = userMapper.selectAll();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        PageHelper.clearPage();</span><br><span class="line">    &#125;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    list = <span class="keyword">new</span> ArrayList&lt;User&gt;();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ä¹ˆå†™å¾ˆä¸å¥½çœ‹ï¼Œè€Œä¸”æ²¡æœ‰å¿…è¦ã€‚</p>
<h3 id="4-MyBatis-å’Œ-Spring-é›†æˆç¤ºä¾‹"><a href="#4-MyBatis-å’Œ-Spring-é›†æˆç¤ºä¾‹" class="headerlink" title="4. MyBatis å’Œ Spring é›†æˆç¤ºä¾‹"></a>4. MyBatis å’Œ Spring é›†æˆç¤ºä¾‹</h3><p>å¦‚æœå’ŒSpringé›†æˆä¸ç†Ÿæ‚‰ï¼Œå¯ä»¥å‚è€ƒä¸‹é¢ä¸¤ä¸ª</p>
<p><b>åªæœ‰åŸºç¡€çš„é…ç½®ä¿¡æ¯ï¼Œæ²¡æœ‰ä»»ä½•ç°æˆçš„åŠŸèƒ½ï¼Œä½œä¸ºæ–°æ‰‹å…¥é—¨æ­å»ºæ¡†æ¶çš„åŸºç¡€</b></p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/abel533/Mybatis-Spring/tree/spring3.x">é›†æˆ Spring 3.x</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/abel533/Mybatis-Spring">é›†æˆ Spring 4.x</a></li>
</ul>
<p>è¿™ä¸¤ä¸ªé›†æˆæ¡†æ¶é›†æˆäº† PageHelper å’Œ <a target="_blank" rel="noopener" href="https://github.com/abel533/Mapper">é€šç”¨ Mapper</a>ã€‚</p>
<h3 id="5-Spring-Boot-é›†æˆç¤ºä¾‹"><a href="#5-Spring-Boot-é›†æˆç¤ºä¾‹" class="headerlink" title="5. Spring Boot é›†æˆç¤ºä¾‹"></a>5. Spring Boot é›†æˆç¤ºä¾‹</h3><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/abel533/MyBatis-Spring-Boot">https://github.com/abel533/MyBatis-Spring-Boot</a></li>
</ul>
</div><div id="reward-container"><span class="hty-icon-button button-glow" id="reward-button" title="Donate" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === &quot;none&quot;) ? &quot;block&quot; : &quot;none&quot;;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-hand-coin-line"></use></svg></span><div id="reward-comment">I'm so cute. Please give me money.</div><div id="qr" style="display:none;"><div style="display:inline-block"><a target="_blank" rel="noopener" href="https://i.loli.net/2021/07/27/kcALMgvjIFhKVfH.jpg"><img loading="lazy" src="https://i.loli.net/2021/07/27/kcALMgvjIFhKVfH.jpg" alt="æ”¯ä»˜å®" title="æ”¯ä»˜å®"></a><div><span style="color:#00A3EE"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-alipay-line"></use></svg></span></div></div><div style="display:inline-block"><a target="_blank" rel="noopener" href="https://i.loli.net/2021/07/27/oI5KPrjHLt7iOme.jpg"><img loading="lazy" src="https://i.loli.net/2021/07/27/oI5KPrjHLt7iOme.jpg" alt="QQ æ”¯ä»˜" title="QQ æ”¯ä»˜"></a><div><span style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></span></div></div><div style="display:inline-block"><a target="_blank" rel="noopener" href="https://i.loli.net/2021/07/27/PCJNbqAlHpGWKEV.jpg"><img loading="lazy" src="https://i.loli.net/2021/07/27/PCJNbqAlHpGWKEV.jpg" alt="å¾®ä¿¡æ”¯ä»˜" title="å¾®ä¿¡æ”¯ä»˜"></a><div><span style="color:#2DC100"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-wechat-pay-line"></use></svg></span></div></div></div></div><ul class="post-copyright"><li class="post-copyright-author"><strong>Post author: </strong>John Doe</li><li class="post-copyright-link"><strong>Post link: </strong><a href="http://example.com/2021/07/28/SpringMVC/" title="Springmvc">http://example.com/2021/07/28/SpringMVC/</a></li><li class="post-copyright-license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> unless otherwise stated.</li></ul></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2021/07/28/thymeleaf%20%E8%AF%AD%E6%B3%95%E8%AF%A6%E8%A7%A3/" rel="prev" title="thymeleafè¯­æ³•"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text">thymeleafè¯­æ³•</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2021/07/28/Review/" rel="next" title=""><span class="post-nav-text"></span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div><div class="hty-card" id="comment"><div class="comment-tooltip text-center"><span>è¦ä¸è¦å’Œæˆ‘è¯´äº›ä»€ä¹ˆï¼Ÿ</span><br></div></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2019 â€“ 2021 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> John Doe</span></div><div class="powered"><span>Powered by <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> v5.4.0</span><span class="footer-separator">|</span><span>Theme - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.6.1</span></div><div class="live_time"><span>æœ¬åšå®¢å·²èŒèŒå“’åœ°è¿è¡Œ</span><span id="display_live_time"></span><span class="moe-text">(â—'â—¡'â—)</span><script>function blog_live_time() {
  setTimeout(blog_live_time, 1000);
  const start = new Date('2021-06-17T00:00:00');
  const now = new Date();
  const timeDiff = (now.getTime() - start.getTime());
  const msPerMinute = 60 * 1000;
  const msPerHour = 60 * msPerMinute;
  const msPerDay = 24 * msPerHour;
  const passDay = Math.floor(timeDiff / msPerDay);
  const passHour = Math.floor((timeDiff % msPerDay) / 60 / 60 / 1000);
  const passMinute = Math.floor((timeDiff % msPerHour) / 60 / 1000);
  const passSecond = Math.floor((timeDiff % msPerMinute) / 1000);
  display_live_time.innerHTML = " " + passDay + " å¤© " + passHour + " å°æ—¶ " + passMinute + " åˆ† " + passSecond + " ç§’";
}
blog_live_time();
</script></div></footer><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a></div></body></html>