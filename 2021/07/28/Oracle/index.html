<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="John Doe"><meta name="copyright" content="John Doe"><meta name="generator" content="Hexo 5.4.0"><meta name="theme" content="hexo-theme-yun"><title>Hexo</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.25/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_dxory92pb0h.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>document.addEventListener("DOMContentLoaded", () => {
  [".post-card",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
});
</script><link rel="icon" href="/yun.svg"><link rel="mask-icon" href="/yun.svg" color="#0078E7"><link rel="alternate icon" href="/yun.ico"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"example.com","root":"/","title":"é€é¥ä¸€å°ç”Ÿ","version":"1.6.1","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}.","hits":"${hits} results found","hits_time":"${hits} results found in ${time} ms"},"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"https://v1.hitokoto.cn","hitokoto":true},"fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/utils.js"></script><script src="/js/hexo-theme-yun.js"></script><meta name="description" content="PL&#x2F;SQLæ€»ç»“ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦PL&#x2F;SQLï¼Ÿç†ç”±ï¼š1ã€åŸæ¥åœ¨javaåº”ç”¨ç¨‹åºä¸­ç›´æ¥ä¼ å…¥sqlè¯­å¥ï¼Œè¿™æ ·åœ¨oracleæ•°æ®åº“å†ç¼–è¯‘æ‰§è¡Œï¼Œæ•ˆç‡è¾ƒä½ï¼Œè€Œä¸”ç½‘ç»œä¼ è¾“ä¸å®‰å…¨ï¼Œå®¹æ˜“è¢«ä¿®æ”¹ã€‚ æ¨¡å—åŒ–ç¼–ç¨‹ã€‚    2ã€PL&#x2F;SQLè¿‡ç¨‹å¾ˆå‡½æ•°ä¿å­˜åœ¨æ•°æ®åº“ä¸­ï¼Œjavaç¨‹åºç›´æ¥è°ƒç”¨ï¼Œæ•ˆç‡å’Œå®‰å…¨æ€§éƒ½æ›´é«˜ã€‚ ç¼ºç‚¹ï¼šç§»æ¤æ€§èƒ½å·®ã€‚è¿‡ç¨‹å‡½æ•°ç­‰éƒ½å­˜åœ¨æ•°æ®åº“ä¸­ï¼Œæ¢äº†æ•°æ®åº“ä¸å…¼å®¹å°±ä¸èƒ½åœ¨ç”¨äº†ã€‚ äºŒã€pl&#x2F;sqlåˆ†ç±» åˆ†ç±»ï¼šå—ï¼Œè¿‡ç¨‹ï¼Œå‡½">
<meta property="og:type" content="article">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/2021/07/28/Oracle/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="PL&#x2F;SQLæ€»ç»“ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦PL&#x2F;SQLï¼Ÿç†ç”±ï¼š1ã€åŸæ¥åœ¨javaåº”ç”¨ç¨‹åºä¸­ç›´æ¥ä¼ å…¥sqlè¯­å¥ï¼Œè¿™æ ·åœ¨oracleæ•°æ®åº“å†ç¼–è¯‘æ‰§è¡Œï¼Œæ•ˆç‡è¾ƒä½ï¼Œè€Œä¸”ç½‘ç»œä¼ è¾“ä¸å®‰å…¨ï¼Œå®¹æ˜“è¢«ä¿®æ”¹ã€‚ æ¨¡å—åŒ–ç¼–ç¨‹ã€‚    2ã€PL&#x2F;SQLè¿‡ç¨‹å¾ˆå‡½æ•°ä¿å­˜åœ¨æ•°æ®åº“ä¸­ï¼Œjavaç¨‹åºç›´æ¥è°ƒç”¨ï¼Œæ•ˆç‡å’Œå®‰å…¨æ€§éƒ½æ›´é«˜ã€‚ ç¼ºç‚¹ï¼šç§»æ¤æ€§èƒ½å·®ã€‚è¿‡ç¨‹å‡½æ•°ç­‰éƒ½å­˜åœ¨æ•°æ®åº“ä¸­ï¼Œæ¢äº†æ•°æ®åº“ä¸å…¼å®¹å°±ä¸èƒ½åœ¨ç”¨äº†ã€‚ äºŒã€pl&#x2F;sqlåˆ†ç±» åˆ†ç±»ï¼šå—ï¼Œè¿‡ç¨‹ï¼Œå‡½">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/2021/07/28/Oracle/Oracle.assets/627059-20170124112811425-1207717410.jpg">
<meta property="og:image" content="http://example.com/2021/07/28/Oracle/Oracle.assets/627059-20170124112908722-1514287384.jpg">
<meta property="article:published_time" content="2021-07-28T03:34:12.973Z">
<meta property="article:modified_time" content="2020-06-18T06:46:31.000Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2021/07/28/Oracle/Oracle.assets/627059-20170124112811425-1207717410.jpg"><script src="/js/ui/mode.js"></script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="Table of Contents"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="Overview"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info mickey-mouse"><a class="site-author-avatar" href="/about/" title="John Doe"><img width="96" loading="lazy" src="/img/1.jpg" alt="John Doe"><span class="site-author-status" title="ä¸€ç‚¹æµ©ç„¶æ°”ï¼Œåƒé‡Œå¿«å“‰é£ï¼">ğŸ˜Š</span></a><div class="site-author-name"><a href="/about/">John Doe</a></div><span class="site-name">Hexo</span><sub class="site-subtitle"></sub><div class="site-desciption"></div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="Home"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="Archives"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">25</span></a></div><div class="site-state-item"><a href="/categories/" title="Categories"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">0</span></a></div><div class="site-state-item"><a href="/tags/" title="Tags"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">0</span></a></div><a class="site-state-item hty-icon-button" target="_blank" rel="noopener" href="https://yun.yunyoujun.cn" title="æ–‡æ¡£"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-settings-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="/atom.xml" title="RSS" target="_blank" style="color:orange"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-rss-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://qm.qq.com/cgi-bin/qm/qr?k=kZJzggTTCf4SpvEQ8lXWoi5ZjhAx0ILZ&amp;jump_from=webapi" title="QQ  2038527170" target="_blank" style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/qas15782/" title="GitHub" target="_blank" style="color:#6e5494"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://weibo.com/" title="å¾®åš" target="_blank" style="color:#E6162D"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-weibo-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.douban.com/" title="è±†ç“£" target="_blank" style="color:#007722"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-douban-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://music.163.com/#/user/home?id=1659649930" title="ç½‘æ˜“äº‘éŸ³ä¹" target="_blank" style="color:#C20C0C"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-netease-cloud-music-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.zhihu.com/people/" title="çŸ¥ä¹" target="_blank" style="color:#0084FF"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-zhihu-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://space.bilibili.com/472753721" title="å“”å“©å“”å“©" target="_blank" style="color:#FF8EB3"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-bilibili-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://cdn.jsdelivr.net" title="å¾®ä¿¡å…¬ä¼—å·" target="_blank" style="color:#1AAD19"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-wechat-2-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://twitter.com/" title="Twitter" target="_blank" style="color:#1da1f2"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-twitter-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://baidu.com" title="Telegram Channel" target="_blank" style="color:#0088CC"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-telegram-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="2038527170@qq.com" title="E-Mail" target="_blank" style="color:#8E71C1"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-mail-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://travellings.link" title="Travelling" target="_blank" style="color:var(--hty-text-color)"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-train-line"></use></svg></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links/" title="æˆ‘çš„å°ä¼™ä¼´ä»¬" style="color:dodgerblue"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-genderless-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#PL-SQL%E6%80%BB%E7%BB%93"><span class="toc-number">1.</span> <span class="toc-text">PL&#x2F;SQLæ€»ç»“</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81PL-SQL%EF%BC%9F"><span class="toc-number">1.1.</span> <span class="toc-text">ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦PL&#x2F;SQLï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81pl-sql%E5%88%86%E7%B1%BB"><span class="toc-number">1.2.</span> <span class="toc-text">äºŒã€pl&#x2F;sqlåˆ†ç±»</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9D%97%EF%BC%9A"><span class="toc-number">1.2.1.</span> <span class="toc-text">å—ï¼š</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%87%E7%A8%8B%EF%BC%9A"><span class="toc-number">1.2.2.</span> <span class="toc-text">è¿‡ç¨‹ï¼š</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%EF%BC%9A"><span class="toc-number">1.2.3.</span> <span class="toc-text">å‡½æ•°ï¼š</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%85%EF%BC%9A"><span class="toc-number">1.2.4.</span> <span class="toc-text">åŒ…ï¼š</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.3.</span> <span class="toc-text">ä¸‰ã€æ•°æ®ç±»å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%87%E9%87%8F%EF%BC%9A"><span class="toc-number">1.3.1.</span> <span class="toc-text">æ ‡é‡ï¼š</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E7%85%A7%E7%B1%BB%E5%9E%8B%EF%BC%9A"><span class="toc-number">1.3.2.</span> <span class="toc-text">å‚ç…§ç±»å‹ï¼š</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%8D%E5%90%88%E7%B1%BB%E5%9E%8B%EF%BC%9A"><span class="toc-number">1.3.3.</span> <span class="toc-text">å¤åˆç±»å‹ï¼š</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B8%B8%E6%A0%87%EF%BC%9A"><span class="toc-number">1.3.3.1.</span> <span class="toc-text">æ¸¸æ ‡ï¼š</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E5%9C%A8java%E7%A8%8B%E5%BA%8F%E4%B8%AD%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E4%B8%89%E4%B8%AA%E7%B1%BB%EF%BC%8C%E5%92%8C%E8%B0%83%E7%94%A8%E8%BF%87%E7%A8%8B"><span class="toc-number">1.4.</span> <span class="toc-text">å››ã€åœ¨javaç¨‹åºä¸­æ“ä½œæ•°æ®åº“çš„ä¸‰ä¸ªç±»ï¼Œå’Œè°ƒç”¨è¿‡ç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Statement"><span class="toc-number">1.4.1.</span> <span class="toc-text">Statement</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PreparedStatement"><span class="toc-number">1.4.2.</span> <span class="toc-text">PreparedStatement</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CallableStatement"><span class="toc-number">1.4.3.</span> <span class="toc-text">CallableStatement</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#PLSQL%E8%A7%A6%E5%8F%91%E5%99%A8"><span class="toc-number">2.</span> <span class="toc-text">PLSQLè§¦å‘å™¨</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%A6%E5%8F%91%E5%99%A8%E6%9D%83%E9%99%90"><span class="toc-number">2.1.</span> <span class="toc-text">è§¦å‘å™¨æƒé™</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%A6%E5%8F%91%E5%99%A8%E7%9A%84%E5%88%9B%E5%BB%BA%EF%BC%9A"><span class="toc-number">2.2.</span> <span class="toc-text">è§¦å‘å™¨çš„åˆ›å»ºï¼š</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%A0%87%E5%87%86%E8%A7%A6%E5%8F%91%E5%99%A8%E7%9A%84%E5%88%9B%E5%BB%BA"><span class="toc-number">2.2.1.</span> <span class="toc-text">1.æ ‡å‡†è§¦å‘å™¨çš„åˆ›å»º</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%88%9B%E5%BB%BA%E5%9F%BA%E4%BA%8EJAVA%E7%9A%84%E8%A7%A6%E5%8F%91%E5%99%A8%EF%BC%9A"><span class="toc-number">2.2.2.</span> <span class="toc-text">2.åˆ›å»ºåŸºäºJAVAçš„è§¦å‘å™¨ï¼š</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%A6%E5%8F%91%E5%99%A8%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-number">2.3.</span> <span class="toc-text">è§¦å‘å™¨çš„åˆ†ç±»</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%9F%BA%E4%BA%8EDML%E6%93%8D%E4%BD%9C%E7%9A%84%E8%A7%A6%E5%8F%91%E5%99%A8"><span class="toc-number">2.3.1.</span> <span class="toc-text">1.åŸºäºDMLæ“ä½œçš„è§¦å‘å™¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%9F%BA%E4%BA%8EDDL%E6%93%8D%E4%BD%9C%E7%9A%84%E8%A7%A6%E5%8F%91%E5%99%A8%EF%BC%8C%E8%AF%AD%E6%B3%95"><span class="toc-number">2.3.2.</span> <span class="toc-text">2.åŸºäºDDLæ“ä½œçš„è§¦å‘å™¨ï¼Œè¯­æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%9F%BA%E4%BA%8E%E6%95%B0%E6%8D%AE%E5%BA%93%E7%BA%A7%E6%93%8D%E4%BD%9C%E7%9A%84%E8%A7%A6%E5%8F%91%E5%99%A8"><span class="toc-number">2.3.3.</span> <span class="toc-text">3.åŸºäºæ•°æ®åº“çº§æ“ä½œçš„è§¦å‘å™¨</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%A6%E5%8F%91%E5%99%A8%E4%B8%AD%E7%9A%84%E6%96%B0%E5%80%BC%E5%92%8C%E6%97%A7%E5%80%BC"><span class="toc-number">2.4.</span> <span class="toc-text">è§¦å‘å™¨ä¸­çš„æ–°å€¼å’Œæ—§å€¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%A6%E5%8F%91%E5%99%A8%E5%9F%BA%E6%9C%AC%E7%AE%A1%E7%90%86%E6%93%8D%E4%BD%9C"><span class="toc-number">2.5.</span> <span class="toc-text">è§¦å‘å™¨åŸºæœ¬ç®¡ç†æ“ä½œ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%A6%E5%8F%91%E5%99%A8%E4%BD%9C%E7%94%A8-%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-number">2.6.</span> <span class="toc-text">è§¦å‘å™¨ä½œç”¨(åº”ç”¨åœºæ™¯)</span></a></li></ol></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="http://example.com/2021/07/28/Oracle/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="John Doe"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="Hexo"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"></h1><div class="post-meta"><div class="post-time" style="display:inline-block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="Created: 2021-07-28 11:34:12" itemprop="dateCreated datePublished" datetime="2021-07-28T11:34:12+08:00">2021-07-28</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-2-line"></use></svg></span> <time title="Modified: 2020-06-18 14:46:31" itemprop="dateModified" datetime="2020-06-18T14:46:31+08:00">2020-06-18</time></div><div class="post-classify"></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#0078E7;"><h1 id="PL-SQLæ€»ç»“"><a href="#PL-SQLæ€»ç»“" class="headerlink" title="PL/SQLæ€»ç»“"></a>PL/SQLæ€»ç»“</h1><h2 id="ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦PL-SQLï¼Ÿ"><a href="#ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦PL-SQLï¼Ÿ" class="headerlink" title="ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦PL/SQLï¼Ÿ"></a>ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦PL/SQLï¼Ÿ</h2><p>ç†ç”±ï¼š1ã€åŸæ¥åœ¨javaåº”ç”¨ç¨‹åºä¸­ç›´æ¥ä¼ å…¥sqlè¯­å¥ï¼Œè¿™æ ·åœ¨oracleæ•°æ®åº“å†ç¼–è¯‘æ‰§è¡Œï¼Œæ•ˆç‡è¾ƒä½ï¼Œè€Œä¸”ç½‘ç»œä¼ è¾“ä¸å®‰å…¨ï¼Œå®¹æ˜“è¢«ä¿®æ”¹ã€‚</p>
<p>æ¨¡å—åŒ–ç¼–ç¨‹ã€‚</p>
<p>   2ã€PL/SQLè¿‡ç¨‹å¾ˆå‡½æ•°ä¿å­˜åœ¨æ•°æ®åº“ä¸­ï¼Œjavaç¨‹åºç›´æ¥è°ƒç”¨ï¼Œæ•ˆç‡å’Œå®‰å…¨æ€§éƒ½æ›´é«˜ã€‚</p>
<p>ç¼ºç‚¹ï¼šç§»æ¤æ€§èƒ½å·®ã€‚è¿‡ç¨‹å‡½æ•°ç­‰éƒ½å­˜åœ¨æ•°æ®åº“ä¸­ï¼Œæ¢äº†æ•°æ®åº“ä¸å…¼å®¹å°±ä¸èƒ½åœ¨ç”¨äº†ã€‚</p>
<h2 id="äºŒã€pl-sqlåˆ†ç±»"><a href="#äºŒã€pl-sqlåˆ†ç±»" class="headerlink" title="äºŒã€pl/sqlåˆ†ç±»"></a>äºŒã€pl/sqlåˆ†ç±»</h2><p> <strong>åˆ†ç±»ï¼šå—ï¼Œè¿‡ç¨‹ï¼Œå‡½æ•°ï¼ŒåŒ…ï¼Œè§¦å‘å™¨ã€‚</strong></p>
<h3 id="å—ï¼š"><a href="#å—ï¼š" class="headerlink" title="å—ï¼š"></a>å—ï¼š</h3><p>PL/SQLå—æ˜¯ç¨‹åºçš„æœ€åŸºæœ¬å•å…ƒï¼Œå®ƒç”±å®šä¹‰éƒ¨åˆ†ï¼Œæ‰§è¡Œéƒ¨åˆ†ï¼Œå’Œå¼‚å¸¸å¤„ç†éƒ¨åˆ†ç»„æˆã€‚</p>
<p>declare</p>
<p>â€“å®šä¹‰éƒ¨åˆ†ï¼šå®šä¹‰å˜é‡ã€å¸¸é‡ã€æ¸¸æ ‡å’Œè‡ªå®šä¹‰æ•°æ®ç±»å‹ç­‰</p>
<p>begin</p>
<p>â€“éœ€è¦æ‰§è¡Œçš„è¯­å¥</p>
<p> exception</p>
<p>â€“å¼‚å¸¸å¤„ç†éƒ¨åˆ†</p>
<p> Endï¼›</p>
<p>å…¶ä¸­ï¼Œå®šä¹‰éƒ¨åˆ†å’Œå¼‚å¸¸å¤„ç†éƒ¨åˆ†æ˜¯å¯ä»¥é€‰æ‹©ä¸è¦çš„ï¼Œæœ€ç®€å•çš„å—å°±åªæœ‰beginå’Œendã€‚</p>
<p>â€“åœ¨PL/SQLä¸­éœ€è¦è¾“å‡ºåœ¨çª—å£çš„è¯ï¼Œéœ€è¦è®¾ç½®</p>
<p>Set serveroutput onï¼›</p>
<p>â€“æ ¹æ®å­¦å·æŸ¥è¯¢å­¦ç”Ÿå§“åï¼Œå¹¶è¾“å‡º</p>
<p>Set serveroutput onï¼›</p>
<p>Declare</p>
<p>v_name varchar2(20);</p>
<p>Begin</p>
<p>Select sname into v_name from student where sid=1;</p>
<p>dbms_output.put_line(â€˜å­¦ç”Ÿå§“åâ€™||v_sname);</p>
<p>Endï¼› </p>
<h3 id="è¿‡ç¨‹ï¼š"><a href="#è¿‡ç¨‹ï¼š" class="headerlink" title="è¿‡ç¨‹ï¼š"></a>è¿‡ç¨‹ï¼š</h3><p>è¿‡ç¨‹å¯ä»¥æŒ‡å®šè¾“å…¥å‚æ•°å’Œè¾“å‡ºå‚æ•°ï¼Œå®ƒç”¨äºæ‰§è¡Œç‰¹å®šçš„æ“ä½œï¼Œç¼–è¯‘å¥½ä¹‹åå¯ä»¥é‡å¤è°ƒç”¨ã€‚</p>
<p>è¯­æ³•ï¼š</p>
<p>â€“åˆ›å»ºæˆ–è€…æ›¿æ¢è¿‡ç¨‹ï¼Œåé¢æ˜¯è¿‡ç¨‹åï¼Œä¹‹åæ˜¯isæˆ–è€…as,æ¥ç€æ˜¯å®šä¹‰å˜é‡</p>
<p>æ³¨æ„ï¼šåœ¨plsqlä¸­ï¼Œå®šä¹‰å˜é‡æ˜¯å˜é‡ååœ¨å‰ï¼Œè€Œä¸”åœ¨å®šä¹‰å‚æ•°çš„æ—¶å€™ä¸éœ€è¦æŒ‡å®šå‚æ•°çš„å­—ç¬¦ä¸²é•¿åº¦æˆ–è€…numberé•¿åº¦ã€‚</p>
<p>åˆ›å»ºä¸€ä¸ªè¿‡ç¨‹ï¼Œæ ¹æ€§idæŸ¥æ‰¾å­¦ç”Ÿå§“å</p>
<p>Create or replace procedure pro_01ï¼ˆv_sid numberï¼‰ is</p>
<p>V_sname varchar2(20);</p>
<p>Begin</p>
<p>Select sname into v_sname from student where sid=v_sid;</p>
<p>dbms_output.put_line(â€˜å­¦ç”Ÿå§“åâ€™||v_sname);</p>
<p>End;</p>
<p>è°ƒç”¨è¿‡ç¨‹ï¼š</p>
<p>Exec pro_01ï¼ˆ1ï¼‰ï¼›</p>
<h3 id="å‡½æ•°ï¼š"><a href="#å‡½æ•°ï¼š" class="headerlink" title="å‡½æ•°ï¼š"></a>å‡½æ•°ï¼š</h3><p>å‡½æ•°ç”¨äºè¿”å›ç‰¹å®šçš„æ•°æ®ï¼Œåœ¨å®šä¹‰æ—¶å€™å¤´éƒ¨ä¸è¦return + æ•°æ®ç±»å‹ï¼Œåœ¨ä»£ç å—ä¸­ä¹Ÿå¿…é¡»åŒ…å«return å˜é‡</p>
<p>å®šä¹‰è¯­æ³•ï¼š</p>
<p>Create or replace function fun_01(v_sid numnber) return varchar2 is </p>
<p>V_sname varchar(20);</p>
<p>Begin</p>
<p>Select sname into v_sname from student where sid=v_sid;</p>
<p>Return v_sname;</p>
<p>End;</p>
<p>è°ƒç”¨å‡½æ•°çš„è¯­æ³•</p>
<p>1ã€å®šä¹‰å˜é‡</p>
<p>var v_sname varchar(20)</p>
<p>Call fun_01(1) into :v_sname;</p>
<h3 id="åŒ…ï¼š"><a href="#åŒ…ï¼š" class="headerlink" title="åŒ…ï¼š"></a>åŒ…ï¼š</h3><p>ä¾¿äºç®¡ç†å‡½æ•°å’Œè¿‡ç¨‹ï¼Œå®ƒç”±è§„èŒƒå’ŒåŒ…ä½“ä¸¤éƒ¨åˆ†æ³¨å†Œï¼Œè§„èŒƒæ˜¯å¯¹è¿‡ç¨‹å’Œå‡½æ•°çš„å®šä¹‰ï¼ŒåŒ…ä½“æ˜¯å¯¹è¿‡ç¨‹å’Œå‡½æ•°çš„å…·ä½“å®ç°ï¼ŒåŒ…è¿˜å¯ä»¥ç”¨äºä¿æŒä¸‹è‡ªå®šä¹‰ç±»å‹ã€‚</p>
<p>åŒ…çš„è§„èŒƒåªåŒ…å«äº†è¿‡ç¨‹å’Œå‡½æ•°çš„è¯´æ˜ï¼Œä½†æ˜¯æ²¡æœ‰è¿‡ç¨‹å’Œå‡½æ•°çš„å®ç°ä»£ç ã€‚åŒ…ä½“ç”¨äºå®ç°åŒ…è§„èŒƒä¸­çš„è¿‡ç¨‹å’Œå‡½æ•°ã€‚</p>
<p>1ã€åˆ›å»ºä¸€ä¸ªåŒ…</p>
<p>Create or replace package package_01 is</p>
<p> Procedure pro_01(v_sid number);</p>
<p> Function fun_01(v_sid number);</p>
<p>End;</p>
<p>2ã€åŒ…ä½“ï¼Œå¯¹åŒ…ä¸­å‡½æ•°å’Œæ–¹æ³•çš„å…·ä½“å®ç°</p>
<p>Create or replace package body package_01 is</p>
<p>  Procedure pro_01(v_sid number) is</p>
<p>  V_sname varchar2(20);</p>
<p> Begin</p>
<p> Select sname into v_sname from student where sid=v_sid;</p>
<p> Dbms_output.put_line(â€˜å­¦ç”Ÿå§“åâ€™||v_sname);</p>
<p> End;</p>
<p>Function fun_01(v_sid number) return varchar2 is </p>
<p>V_sname varchar(20);</p>
<p>Begin</p>
<p>Select sname into v_sname from student where sid=v_sid;</p>
<p>Return v_sname;</p>
<p>End;</p>
<p>End;</p>
<h2 id="ä¸‰ã€æ•°æ®ç±»å‹"><a href="#ä¸‰ã€æ•°æ®ç±»å‹" class="headerlink" title="ä¸‰ã€æ•°æ®ç±»å‹"></a>ä¸‰ã€æ•°æ®ç±»å‹</h2><p><strong>åˆ†ç±»</strong>ï¼šæ ‡é‡ã€å¤åˆç±»å‹ã€å‚ç…§ç±»å‹</p>
<h3 id="æ ‡é‡ï¼š"><a href="#æ ‡é‡ï¼š" class="headerlink" title="æ ‡é‡ï¼š"></a>æ ‡é‡ï¼š</h3><p>æ˜¯å·²ç»é¢„å®šä¹‰å¥½çš„ç±»å‹ï¼š</p>
<p>æ¯”å¦‚ï¼šå®šä¹‰ä¸€ä¸ªnumberå¹¶ç»™å…¶èµ‹å€¼</p>
<p>V_sid number(3):=100;</p>
<p>æ³¨æ„ï¼šåœ¨plsqlä¸­èµ‹å€¼æ—¶ä½¿ç”¨çš„ ï¼š= ä¸€å®šè¦ç‰¹åˆ«æ³¨æ„ã€‚</p>
<h3 id="å‚ç…§ç±»å‹ï¼š"><a href="#å‚ç…§ç±»å‹ï¼š" class="headerlink" title="å‚ç…§ç±»å‹ï¼š"></a>å‚ç…§ç±»å‹ï¼š</h3><p>æ¯”å¦‚å˜é‡çš„ç±»å‹æ˜¯è¡¨ä¸­æŸä¸€ç±»çš„å±æ€§ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬ç›´æ¥å‚ç…§è¡¨ä¸­çš„åˆ—çš„ç±»å‹ï¼Œæ¯”å¦‚varchar2ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±ä¸ç”¨å†è‡ªå·±æ¥å®šä¹‰å®ƒçš„é•¿åº¦ï¼Œä»¥å…æµªè´¹å’Œä¸å¤Ÿã€‚</p>
<p>V_sname student.sname%type;</p>
<h3 id="å¤åˆç±»å‹ï¼š"><a href="#å¤åˆç±»å‹ï¼š" class="headerlink" title="å¤åˆç±»å‹ï¼š"></a>å¤åˆç±»å‹ï¼š</h3><p>å°±ç›¸å½“äºcè¯­è¨€ä¸­çš„ç»“æ„ä½“ï¼Œåˆæ¯”å¦‚javaä¸­çš„ç±»ï¼Œåªæœ‰æˆå‘˜å±æ€§æ²¡æœ‰æˆå‘˜æ–¹æ³•ï¼Œè¿™ä¸ªç±»å¯ä»¥ä¿å­˜å¤šä¸ªä¸åŒçš„æ•°æ®ã€‚</p>
<p>\1.  type emp_record_type is record(  </p>
<p>\2.   name  emp.ename%type,  </p>
<p>\3.   salary emp.sal%type,  </p>
<p>\4.   title emp.job%type);  </p>
<h4 id="æ¸¸æ ‡ï¼š"><a href="#æ¸¸æ ‡ï¼š" class="headerlink" title="æ¸¸æ ‡ï¼š"></a>æ¸¸æ ‡ï¼š</h4><p>æ¸¸æ ‡æ˜¯ç”¨äºå¤šç»“æœé›†çš„ä¸€è¡Œä¸€è¡Œçš„å¤„ç†ï¼ŒæŒ‰ç…§ç¼–ç¨‹çš„æ–¹å¼æ¥è®¿é—®ï¼Œåœ¨è¿‡ç¨‹ä¸­ï¼Œå®šä¹‰è¾“å‡ºå‚æ•°ä¸ºæ¸¸æ ‡ï¼Œåœ¨javaç¨‹åºä¸­æ¥å¾—åˆ°æ¸¸æ ‡ï¼Œä¹Ÿå°±æ˜¯å¾—åˆ°äº†ä¸€ä¸ªç»“æœé›†æ¥æ“ä½œã€‚</p>
<p>Refæ¸¸æ ‡ï¼Œåœ¨è¯­å¥å—ä¸­æ‰“å¼€å¹¶ä¸”å®šä¹‰selectè¯­å¥ï¼Œä¸€èˆ¬æ¸¸æ ‡åœ¨å£°æ˜æ—¶å€™å®šä¹‰selectè¯­å¥ã€‚</p>
<p>//æ¸¸æ ‡ç±»å‹åœ¨OracleåŒ… ä»–åœ¨è¾“å…¥   sqlè¯­å¥çš„æ—¶å€™æ—¶å€™è°ƒç”¨æ–¹å¼ã€‚               cstm.registerOutParameter(2,oracle.jdbc.OracleTypes.CURSOR);</p>
<p>é‚£ä¹ˆåœ¨javaç¨‹åºä¸­å¾—åˆ°è¯¥è¾“å‡ºå‚æ•°çš„æ—¶å€™è¿”å›çš„ä¹Ÿæ˜¯ä¸€ä¸ªç»“æœé›†</p>
<p>//è·å–æ•°æ®,æ¸¸æ ‡ç±»å‹å¯ä»¥å¼ºè½¬æˆResultSet</p>
<p>// 2è¡¨ç¤ºç¬¬äºŒä¸ªå‚æ•°ï¼Œä»–æ˜¯è¾“å‡ºå‚æ•°å¹¶ä¸”æ˜¯æ¸¸æ ‡ç±»å‹</p>
<p>ResultSet rs = (ResultSet)cstm.getObject(2);</p>
<h2 id="å››ã€åœ¨javaç¨‹åºä¸­æ“ä½œæ•°æ®åº“çš„ä¸‰ä¸ªç±»ï¼Œå’Œè°ƒç”¨è¿‡ç¨‹"><a href="#å››ã€åœ¨javaç¨‹åºä¸­æ“ä½œæ•°æ®åº“çš„ä¸‰ä¸ªç±»ï¼Œå’Œè°ƒç”¨è¿‡ç¨‹" class="headerlink" title="å››ã€åœ¨javaç¨‹åºä¸­æ“ä½œæ•°æ®åº“çš„ä¸‰ä¸ªç±»ï¼Œå’Œè°ƒç”¨è¿‡ç¨‹"></a>å››ã€åœ¨javaç¨‹åºä¸­æ“ä½œæ•°æ®åº“çš„ä¸‰ä¸ªç±»ï¼Œå’Œè°ƒç”¨è¿‡ç¨‹</h2><hr>
<h3 id="Statement"><a href="#Statement" class="headerlink" title="Statement"></a>Statement</h3><p>è¿™ç§æ–¹å¼éå¸¸ä¸å®‰å…¨ï¼Œå› ä¸ºï¼Œé‚£ä¹ˆå¯ä»¥éšæ„æ‹¼æ¥ï¼Œåé¢è¿˜å¯ä»¥æ‹¼æ¥or â€˜1â€™=â€˜1â€™è¿™ç§é€»è¾‘å€¼ä¸ºtrueçš„è¡¨è¾¾å¼ï¼Œè¿™æ ·çš„è¯æŸ¥è¯¢çš„æ¯è¡Œå€¼éƒ½æ˜¯æ­£ç¡®çš„ï¼Œé€ æˆæ•°æ®è¢«ç›—ã€‚</p>
<p>//è¿™é‡Œnameæ˜¯å‡½æ•°ä¼ è¿‡æ¥çš„</p>
<p>String sql=â€select sal from scott.emp where ename=â€™â€+name+â€â€˜â€œ;</p>
<p>Statement stm = conn.createStatement();</p>
<p> stm.executeQuery(sql);åœ¨æ‰§è¡Œçš„æ—¶å€™ä¼ å…¥sqlï¼Œéå¸¸ä¸å®‰å…¨</p>
<hr>
<h3 id="PreparedStatement"><a href="#PreparedStatement" class="headerlink" title="PreparedStatement"></a>PreparedStatement</h3><p>ä»–å¯ä»¥è§£å†³ä¼ å…¥ä¸€ä¸ªä¸åˆæ³•çš„è¡¨è¾¾å¼æ¯”å¦‚ä¸Šé¢è¯´çš„ï¼Œä»–ä¼šè‡ªåŠ¨å±è”½æ‰</p>
<p>String sql=â€select sal from scott.emp where ename=?â€;</p>
<p>//å…ˆå°†sqlè¿›è¡Œç¼–è¯‘ï¼Œç„¶åå†è®¾è¿™sqlä¸­çš„ï¼Ÿçš„å€¼</p>
<p>PreparedStatement pst= conn.prepareStatement(sql);</p>
<p>//è¿™ä¸ªæ—¶å€™å†ä¼ å€¼ï¼Œç¬¬ä¸€ä¸ªä½ç½®è¡¨ç¤ºç¬¬å‡ ä¸ªé—®å·ï¼Œåé¢å°±æ˜¯è¦ä¼ çš„å€¼</p>
<p>pst.setString(1, name);</p>
<p>//æ‰§è¡Œçš„æ—¶å€™ä¸éœ€è¦å†ä¼ å…¥sqlè¯­å¥ï¼Œæ‰€ä»¥æ²¡æœ‰å†ç¼–è¯‘ï¼Œå¯ä»¥ç›´æ¥æ‰§è¡Œã€‚</p>
<p>â€‹    ResultSet set=pst.executeQuery();</p>
<hr>
<h3 id="CallableStatement"><a href="#CallableStatement" class="headerlink" title="CallableStatement"></a>CallableStatement</h3><p>è¯¥ç±»å¯ä»¥è°ƒç”¨çŸ¥é“çš„è¿‡ç¨‹å’Œå‡½æ•°ï¼Œå¯ä»¥åˆ©ç”¨è¿”å›çš„æ¸¸æ ‡ç±»å‹æ¥å¾—åˆ°ç»“æœé›†ï¼ŒæŒ‰ç…§ç¼–ç¨‹çš„æ–¹å¼è®¿é—®æ•°æ®ã€‚</p>
<p>// å®šä¹‰sqlè¯­å¥</p>
<p>String sql = â€œ{call selectNameSal4id(?,?,?)}â€;</p>
<p>// è·å¾—ç¼–è¯‘å¯¹è±¡</p>
<p>CallableStatement csmt = conn.prepareCall(sql);</p>
<p>// è¾“å…¥å‚æ•°ä¼ å…¥</p>
<p>csmt.setInt(1, id);</p>
<p>// æ³¨å…¥è¾“å‡ºå‚æ•°</p>
<p>csmt.registerOutParameter(2, java.sql.Types.VARCHAR);</p>
<p>csmt.registerOutParameter(3, java.sql.Types.FLOAT);</p>
<p>// æ‰§è¡Œè¿‡ç¨‹</p>
<p>csmt.execute();</p>
<p>// è·å¾—è¾“å‡ºå‚æ•°çš„è¿‡ç¨‹ï¼Œç¬¬2ä¸ªå’Œç¬¬ä¸‰ä¸ªæ˜¯è¾“å‡ºå‚æ•°</p>
<p>String username = (String) csmt.getObject(2);</p>
<p>Float sal = csmt.getFloat(3);</p>
<p>System.out.println(â€œå§“åï¼šâ€ + username + â€œ å·¥èµ„:â€ + sal);</p>
<p>//javaç¨‹åºä¸­å¾—åˆ°æ¸¸æ ‡</p>
<p>try {</p>
<p>Connection conn = DBUtil.getConn();</p>
<p>String sql = â€œ{call pro_getAllEmp(?,?)}â€;</p>
<p>CallableStatement cstm = conn.prepareCall(sql);</p>
<p>cstm.setInt(1, deptno);</p>
<p>//æ¸¸æ ‡ç±»å‹åœ¨OracleåŒ…ä¸­</p>
<p>cstm.registerOutParameter(2,oracle.jdbc.OracleTypes.CURSOR);</p>
<p>cstm.execute();</p>
<p>//è·å–æ•°æ®,æ¸¸æ ‡ç±»å‹å¯ä»¥å¼ºè½¬æˆResultSet</p>
<p>ResultSet rs = (ResultSet)cstm.getObject(2);</p>
<p>while(rs.next()){</p>
<p>String ename = rs.getString(1);</p>
<p>float sal = rs.getFloat(2);</p>
<p>System.out.println(ename+â€ â€œ+sal);</p>
<p>}</p>
<p>} catch (Exception ef) {</p>
<p>ef.printStackTrace();</p>
<p>}</p>
<h1 id="PLSQLè§¦å‘å™¨"><a href="#PLSQLè§¦å‘å™¨" class="headerlink" title="PLSQLè§¦å‘å™¨"></a><a target="_blank" rel="noopener" href="https://www.cnblogs.com/sun-chao/p/6346773.html">PLSQLè§¦å‘å™¨</a></h1><h2 id="è§¦å‘å™¨æƒé™"><a href="#è§¦å‘å™¨æƒé™" class="headerlink" title="è§¦å‘å™¨æƒé™"></a>è§¦å‘å™¨æƒé™</h2><p>æ•°æ®åº“åˆ›å»ºç”¨æˆ·æ—¶æƒ³è¦åœ¨æœ¬ç”¨æˆ·ä¸‹ä½¿ç”¨è§¦å‘å™¨ï¼Œéœ€è¦ç»™ç”¨æˆ·è§¦å‘å™¨çš„æƒé™</p>
<p>ä½¿ç”¨DBAç”¨æˆ·æ‰§è¡Œ GRANT CREATE TRIGGER TO user_name;</p>
<p>å¦‚æœæƒ³åœ¨å½“å‰ç”¨æˆ·ä¸‹åˆ›å»ºå…¶ä»–ç”¨æˆ·çš„è§¦å‘å™¨éœ€è¦å…·æœ‰CREATE ANY TRIGGERçš„æƒé™</p>
<p>å¦‚æœè¦åˆ›å»ºçš„è§¦å‘å™¨ä½œç”¨åœ¨æ•°æ®åº“ä¸Šçš„æ¯”å¦‚å¯¹startæˆ–è€…shutdownäº‹ä»¶è§¦å‘ï¼Œåˆ™éœ€è¦å…·æœ‰ADMINISTER DATABASE TRIGGERç³»ç»Ÿæƒé™ã€‚</p>
<h2 id="è§¦å‘å™¨çš„åˆ›å»ºï¼š"><a href="#è§¦å‘å™¨çš„åˆ›å»ºï¼š" class="headerlink" title="è§¦å‘å™¨çš„åˆ›å»ºï¼š"></a>è§¦å‘å™¨çš„åˆ›å»ºï¼š</h2><h3 id="1-æ ‡å‡†è§¦å‘å™¨çš„åˆ›å»º"><a href="#1-æ ‡å‡†è§¦å‘å™¨çš„åˆ›å»º" class="headerlink" title="1.æ ‡å‡†è§¦å‘å™¨çš„åˆ›å»º"></a>1.æ ‡å‡†è§¦å‘å™¨çš„åˆ›å»º</h3><p>CREATE TRIGGER tirgger_name</p>
<p>BEFORE/AFTER DELETE[UPDATE INSERT SHUTDOWN]</p>
<p>ON object_name</p>
<p>trigger_sql_bodyï¼›</p>
<p>Create trigger è¡¨ç¤ºåˆ›å»ºè§¦å‘å™¨ï¼Œéšåæ˜¯è§¦å‘å™¨çš„åå­—ï¼Œbeforeå’Œafterè¡¨ç¤ºè§¦å‘çš„æ—¶æœºï¼Œåœ¨ä¹‹åæ˜¯è§¦å‘çš„äº‹ä»¶å¦‚delete updateç­‰ï¼Œä½¿ç”¨onå…³é”®å­—è¯´æ˜è§¦å‘å™¨çš„æ“ä½œå¯¹è±¡ï¼Œè¯¥å¯¹è±¡å¯ä»¥æ˜¯è¡¨æˆ–è€…æ•°æ®åº“DATABASEï¼Œæœ€åæ˜¯è§¦å‘å™¨çš„ä¸»ä½“ä»£ç é€»è¾‘ã€‚</p>
<p>å®ä¾‹ï¼š</p>
<p>CREATE TRIGGER delete_trigger*â€“<strong>åˆ›å»ºåä¸º</strong>delete_triggerçš„è§¦å‘å™¨*</p>
<p>BEFORE DELETE ON emp*â€“* <em>ä¹‹å‰æ“ä½œï¼Œæ“ä½œ**è¡¨emp</em></p>
<p>FOR EACH ROW *â€“*<em>è¯´æ˜è§¦å‘å™¨å¯¹æ“ä½œçš„æ¶‰åŠæ¯ä¸€è¡Œéƒ½æ¿€å‘è§¦å‘å™¨è¡Œä¸º</em></p>
<p> BEGIN </p>
<p>  dbms_output.put_line(â€˜è§¦å‘å™¨æ‰§è¡ŒæˆåŠŸï¼Œæ­£åœ¨åˆ é™¤â€™);</p>
<p> END;</p>
<h3 id="2-åˆ›å»ºåŸºäºJAVAçš„è§¦å‘å™¨ï¼š"><a href="#2-åˆ›å»ºåŸºäºJAVAçš„è§¦å‘å™¨ï¼š" class="headerlink" title="2.åˆ›å»ºåŸºäºJAVAçš„è§¦å‘å™¨ï¼š"></a>2.åˆ›å»ºåŸºäºJAVAçš„è§¦å‘å™¨ï¼š</h3><p>åˆ›å»ºè§¦å‘å™¨çš„æ‰§è¡Œéƒ¨åˆ†ä½¿ç”¨javaä»£ç å®ç°</p>
<p>public class  InsertTrigger</p>
<p>{</p>
<p>public static void insertDate() throws Exception</p>
<p>{</p>
<p>Connection conn = JDBCConnection.defaultConnection();</p>
<p>Statement stm = conn.CreateStatement();</p>
<p>stm.execute(â€œ INSERT INTO table_name VALUES(ID1,ID2,â€™insertingâ€™) â€œ);</p>
<p>stm.close();</p>
<p>return;</p>
<p>}</p>
<p>}</p>
<p>ç„¶ååˆ›å»ºä¸€ä¸ªå­˜å‚¨è¿‡ç¨‹å»åŒ…å«javaä»£ç </p>
<p>CREATE OR REPLACE PROCEDURE record_insert_trigger() *â€“*<em>è¿‡ç¨‹åˆ›å»º</em></p>
<p>IS</p>
<p> LANGUAGE JAVA *â€“*<em>è¯­è¨€</em></p>
<p> NAME â€˜InsertTrigger.insertDate()â€™*â€“<strong>è°ƒç”¨</strong>javaç±» ç±»å.æ–¹æ³•å*</p>
<p><em>æœ€ååˆ›å»ºè§¦å‘å™¨è°ƒç”¨</em></p>
<p>CREATE OR REPLACE TRIGGER record_insert_trigger_data</p>
<p>BEFORE INSERT ON emp</p>
<p>FOR EACH ROW</p>
<p> BEGIN</p>
<p>  CALL record_insert_trigger();</p>
<p> END;</p>
<h2 id="è§¦å‘å™¨çš„åˆ†ç±»"><a href="#è§¦å‘å™¨çš„åˆ†ç±»" class="headerlink" title="è§¦å‘å™¨çš„åˆ†ç±»"></a>è§¦å‘å™¨çš„åˆ†ç±»</h2><h3 id="1-åŸºäºDMLæ“ä½œçš„è§¦å‘å™¨"><a href="#1-åŸºäºDMLæ“ä½œçš„è§¦å‘å™¨" class="headerlink" title="1.åŸºäºDMLæ“ä½œçš„è§¦å‘å™¨"></a>1.åŸºäºDMLæ“ä½œçš„è§¦å‘å™¨</h3><p> è¿™ç±»è§¦å‘å™¨æ˜¯åœ¨å½“ç”¨æˆ·å¯¹ä¸€ä¸ªè¡¨è¿›è¡Œinsert delete update æ“ä½œæ—¶è§¦å‘è¡Œä¸ºçš„ã€‚</p>
<p> åœ¨å¯¹è¡¨è¿›è¡Œè§¦å‘è¡Œä¸ºçš„æ—¶å€™ä½¿ç”¨for each rowæ¿€å‘è¡¨ä¸­æ¶‰åŠçš„æ¯è¡Œæ•°æ®</p>
<p> è¯¥ç±»è§¦å‘å™¨è¯­æ³•ï¼š</p>
<p>CREATE [OR REPLACE] TRIGGER trigger_name</p>
<p>BEFORE/AFTER INSERT[DELETE UPDATE ]</p>
<p>ON table_name</p>
<p>FOR EACH ROW[WHEN cond]</p>
<p>BEGIN sql_body END;</p>
<p><em>â€“è¿™é‡Œéœ€è¦è¯´ä¸‹[WHEN cond] è¿™ä¸ªæ˜¯é™åˆ¶æ¡ä»¶ï¼Œ<strong>è¡Œçº§æ¡ä»¶é™åˆ¶ï¼Œ</strong>å½“è¾¾åˆ°æ¯ç§æ¡ä»¶æ˜¯åœ¨æ‰§è¡Œè§¦å‘å™¨**ä¸¾ä¾‹è¯´æ˜</em></p>
<p><em>When(old.name in</em> <em>â€˜<strong>hello world</strong>â€™*</em>)å½“oldnameæ˜¯ hello worldæ˜¯æ‰§è¡Œè§¦å‘æ¡ä»¶*</p>
<h3 id="2-åŸºäºDDLæ“ä½œçš„è§¦å‘å™¨ï¼Œè¯­æ³•"><a href="#2-åŸºäºDDLæ“ä½œçš„è§¦å‘å™¨ï¼Œè¯­æ³•" class="headerlink" title="2.åŸºäºDDLæ“ä½œçš„è§¦å‘å™¨ï¼Œè¯­æ³•"></a>2.åŸºäºDDLæ“ä½œçš„è§¦å‘å™¨ï¼Œè¯­æ³•</h3><p>CREATE [OR REPLACE] TRIGGER trigger_name</p>
<p>BEFORE/AFTER CREATE[DROP ALTER]*â€“*<em>åˆ›å»ºï¼Œåˆ é™¤ä¿®æ”¹</em></p>
<p>ON database_name [WHEN cond]</p>
<p>Sql_body;</p>
<p>æ­¤ç±»è§¦å‘å™¨çš„å…¸å‹åº”ç”¨ï¼Œå½“åˆ›å»ºä¿®æ”¹åˆ é™¤æ•°æ®åº“è¡¨çš„æ—¶å€™åœ¨ä¹‹å‰æˆ–è€…ä¹‹åè®°å½•è¯¥ç”¨æˆ·çš„æ“ä½œä¿¡æ¯ï¼Œä»¥ä½œä¸ºç”¨æˆ·æ“ä½œæ—¥å¿—ã€‚</p>
<h3 id="3-åŸºäºæ•°æ®åº“çº§æ“ä½œçš„è§¦å‘å™¨"><a href="#3-åŸºäºæ•°æ®åº“çº§æ“ä½œçš„è§¦å‘å™¨" class="headerlink" title="3.åŸºäºæ•°æ®åº“çº§æ“ä½œçš„è§¦å‘å™¨"></a>3.åŸºäºæ•°æ®åº“çº§æ“ä½œçš„è§¦å‘å™¨</h3><p>CREATE [OR REPLACE] TRIGGER trigger_name</p>
<p>BEFORE/AFTER START[SHUTDOWM,LOGON,LOGOFF]*â€“*<em>æ•°æ®åº“ã€æ—¥å¿—å¯åŠ¨å…³é—­</em></p>
<p>ON database_name [WHEN cond]</p>
<p>Sql_body;</p>
<h2 id="è§¦å‘å™¨ä¸­çš„æ–°å€¼å’Œæ—§å€¼"><a href="#è§¦å‘å™¨ä¸­çš„æ–°å€¼å’Œæ—§å€¼" class="headerlink" title="è§¦å‘å™¨ä¸­çš„æ–°å€¼å’Œæ—§å€¼"></a>è§¦å‘å™¨ä¸­çš„æ–°å€¼å’Œæ—§å€¼</h2><p>åˆ›å»ºåŸºäºDMLçš„è§¦å‘å™¨æ—¶ï¼Œç”±äºæ“ä½œå¯¹è±¡æ˜¯è¡¨ï¼Œæ‰€ä»¥æœ‰ä¸€ä¸ªå¯é€‰é¡¹å³for each row</p>
<p>ä»¥å®ç°å¯¹æ¯ä¸€è¡Œéƒ½æ¿€å‘è§¦å‘å™¨è¡Œä¸ºï¼ŒOracleæä¾›2ä¸ªä¸´æ—¶è¡¨æ¥è®¿é—®æ¯è¡Œä¸­çš„æ–°å€¼å’Œæ—§å€¼å³  :new å’Œ :oldã€‚ä¸‹é¢ä¸¾ä¾‹è¯´æ˜ä¸‹ï¼š</p>
<p>å…ˆåˆ›å»ºupdateè§¦å‘å™¨</p>
<p>CREATE OR REPLACE TRIGGER update_trigger</p>
<p>AFTER UPDATE ON table_name</p>
<p>FOR EACH ROW</p>
<p> BEGIN</p>
<p>  dbms_output.put_line(â€˜æ—§å€¼ï¼š=â€™||:OLD.CHARS);</p>
<p>  dbms_output.put_line(â€˜æ–°å€¼ï¼š=â€™||:NEW.CHARS);</p>
<p> END;</p>
<p>æŸ¥è¯¢table_nameè¡¨ï¼ŒæŸ¥è¯¢ç»“æœ</p>
<p> <img src="Oracle.assets/627059-20170124112811425-1207717410.jpg" alt="img" loading="lazy"></p>
<p>ç„¶åæ‰§è¡Œupdateæ“ä½œ</p>
<p>UPDATE table_name SET chars=â€™newvalueâ€™;</p>
<p>æŸ¥çœ‹è¾“å‡ºæ—¥å¿—</p>
<p><img src="Oracle.assets/627059-20170124112908722-1514287384.jpg" alt="img" loading="lazy"> </p>
<p>è¯æ˜è§¦å‘å™¨æ‰§è¡ŒæˆåŠŸï¼Œåœ¨æŸ¥çœ‹table_nameè¡¨æ•°æ®å·²å˜æ›´ã€‚</p>
<p>å®¡æ ¸è§¦å‘å™¨çš„åˆ›å»º</p>
<p>é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯å½“ç”¨æˆ·æ“ä½œä¸€ä¸ªé‡è¦çš„è¡¨æ—¶ï¼Œå¦‚æ’å…¥æ•°æ®å’Œæ›´æ–°æ•°æ®ï¼Œå¸Œæœ›è®°å½•è¯¥ç”¨æˆ·çš„ç”¨æˆ·åå’Œæ›´æ”¹æ—¶é—´ç­‰ä¿¡æ¯ï¼Œä»¥å¤‡å®¡æ ¸æ—¶ç”¨ã€‚åˆ›å»ºå®¡æ ¸è§¦å‘å™¨å‰ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªè¡¨ï¼Œè®°å½•å®¡æ ¸ä¿¡æ¯</p>
<p>å®ä¾‹ï¼š</p>
<p><em>â€“åˆ›å»ºå®¡æ ¸è¡¨</em></p>
<p>CREATE TABLE user_modify</p>
<p>(</p>
<p>user_name VARCHAR2(20),</p>
<p>modify_time DATE,</p>
<p>modify_content VARCHAR2(20)</p>
<p>);</p>
<p><em>â€“åˆ›å»ºè§¦å‘å™¨</em></p>
<p>CREATE OR REPLACE TRIGGER user_change</p>
<p>BEFORE UPDATE OR INSERT ON emp</p>
<p>FOR EACH ROW</p>
<p> BEGIN</p>
<p>  IF inserting THEN </p>
<p>   INSERT INTO user_modify</p>
<p>   VALUES(USER,SYSDATE,â€™updatingâ€™);</p>
<p>  END IF;</p>
<p> END;</p>
<p><em>åˆ é™¤è§¦å‘å™¨çš„åˆ›å»º</em></p>
<p><em>è¯¥ç±»è§¦å‘å™¨çš„ä¸»è¦ä½œç”¨å°±æ˜¯å½“åœ¨è¿›è¡Œåˆ é™¤æ“ä½œçš„æ—¶å€™ï¼ŒæŠŠåˆ é™¤çš„è®°å½•è®°å½•åˆ°å¦ä¸€å¼ å¤‡ä»½è¡¨ä¸­ã€‚ç›´æ¥å®ä¾‹</em></p>
<p><em>â€“åˆ›å»ºåˆ é™¤å¤‡ä»½è¡¨</em></p>
<p>CREATE TABLE delete_back</p>
<p>(</p>
<p>back_id VARCHAR2(20),</p>
<p>back_id2 VARCHAR2(20),</p>
<p>back_id3 VARCHAR2(20)</p>
<p>);</p>
<p><em>â€“åˆ›å»ºè§¦å‘å™¨</em></p>
<p>CREATE OR REPLACE TRIGGER delete_back</p>
<p>BEFORE DELETE ON emp</p>
<p>FOR EACH ROW</p>
<p> BEGIN</p>
<p>  INSERT INTO delete_back VALUES(old.back_id,old.back_id2,old.back_id3);</p>
<p> END;</p>
<p><em>å½“ç”¨æˆ·æ“ä½œempè¡¨è¿›è¡Œåˆ é™¤æ“ä½œï¼Œæ¿€å‘è§¦å‘å™¨å¾€delete_backè¡¨æ’å…¥åˆ é™¤çš„æ•°æ®æ˜ç»†</em></p>
<h2 id="è§¦å‘å™¨åŸºæœ¬ç®¡ç†æ“ä½œ"><a href="#è§¦å‘å™¨åŸºæœ¬ç®¡ç†æ“ä½œ" class="headerlink" title="è§¦å‘å™¨åŸºæœ¬ç®¡ç†æ“ä½œ"></a>è§¦å‘å™¨åŸºæœ¬ç®¡ç†æ“ä½œ</h2><p>1.é‡æ–°ç¼–è¯‘è§¦å‘å™¨</p>
<p> alter trigger trigger_name complieï¼›</p>
<p>2.å±è”½è§¦å‘å™¨(ä¸åˆ é™¤ä½¿å…¶æ— æ•ˆ)</p>
<p> alter trigger trigger_name disableï¼›</p>
<p>3.åˆ é™¤è§¦å‘å™¨</p>
<p> drop trigger trigger_nameï¼›</p>
<h2 id="è§¦å‘å™¨ä½œç”¨-åº”ç”¨åœºæ™¯"><a href="#è§¦å‘å™¨ä½œç”¨-åº”ç”¨åœºæ™¯" class="headerlink" title="è§¦å‘å™¨ä½œç”¨(åº”ç”¨åœºæ™¯)"></a>è§¦å‘å™¨ä½œç”¨(åº”ç”¨åœºæ™¯)</h2><p>ï¼ˆ1ï¼‰æ•°æ®ç¡®è®¤</p>
<p>ï¼ˆ2ï¼‰å®æ–½å¤æ‚çš„å®‰å…¨æ€§æ£€æŸ¥</p>
<p>ï¼ˆ3ï¼‰åšæ—¥å¿—è®°å½•ï¼Œè·Ÿè¸ªè¡¨ä¸Šæ‰€åšçš„æ•°æ®æ“ä½œç­‰</p>
<p>ï¼ˆ4ï¼‰æ•°æ®çš„å¤‡ä»½å’ŒåŒæ­¥ï¼›</p>
</div><div id="reward-container"><span class="hty-icon-button button-glow" id="reward-button" title="Donate" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === &quot;none&quot;) ? &quot;block&quot; : &quot;none&quot;;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-hand-coin-line"></use></svg></span><div id="reward-comment">I'm so cute. Please give me money.</div><div id="qr" style="display:none;"><div style="display:inline-block"><a target="_blank" rel="noopener" href="https://i.loli.net/2021/07/27/kcALMgvjIFhKVfH.jpg"><img loading="lazy" src="https://i.loli.net/2021/07/27/kcALMgvjIFhKVfH.jpg" alt="æ”¯ä»˜å®" title="æ”¯ä»˜å®"></a><div><span style="color:#00A3EE"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-alipay-line"></use></svg></span></div></div><div style="display:inline-block"><a target="_blank" rel="noopener" href="https://i.loli.net/2021/07/27/oI5KPrjHLt7iOme.jpg"><img loading="lazy" src="https://i.loli.net/2021/07/27/oI5KPrjHLt7iOme.jpg" alt="QQ æ”¯ä»˜" title="QQ æ”¯ä»˜"></a><div><span style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></span></div></div><div style="display:inline-block"><a target="_blank" rel="noopener" href="https://i.loli.net/2021/07/27/PCJNbqAlHpGWKEV.jpg"><img loading="lazy" src="https://i.loli.net/2021/07/27/PCJNbqAlHpGWKEV.jpg" alt="å¾®ä¿¡æ”¯ä»˜" title="å¾®ä¿¡æ”¯ä»˜"></a><div><span style="color:#2DC100"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-wechat-pay-line"></use></svg></span></div></div></div></div><ul class="post-copyright"><li class="post-copyright-author"><strong>Post author: </strong>John Doe</li><li class="post-copyright-link"><strong>Post link: </strong><a href="http://example.com/2021/07/28/Oracle/" title="">http://example.com/2021/07/28/Oracle/</a></li><li class="post-copyright-license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> unless otherwise stated.</li></ul></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2021/07/28/Python/" rel="prev" title=""><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text"></span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2021/07/28/Mybatis/" rel="next" title="Mybatis"><span class="post-nav-text">Mybatis</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div><div class="hty-card" id="comment"><div class="comment-tooltip text-center"><span>è¦ä¸è¦å’Œæˆ‘è¯´äº›ä»€ä¹ˆï¼Ÿ</span><br></div></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2019 â€“ 2021 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> John Doe</span></div><div class="powered"><span>Powered by <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> v5.4.0</span><span class="footer-separator">|</span><span>Theme - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.6.1</span></div><div class="live_time"><span>æœ¬åšå®¢å·²èŒèŒå“’åœ°è¿è¡Œ</span><span id="display_live_time"></span><span class="moe-text">(â—'â—¡'â—)</span><script>function blog_live_time() {
  setTimeout(blog_live_time, 1000);
  const start = new Date('2021-06-17T00:00:00');
  const now = new Date();
  const timeDiff = (now.getTime() - start.getTime());
  const msPerMinute = 60 * 1000;
  const msPerHour = 60 * msPerMinute;
  const msPerDay = 24 * msPerHour;
  const passDay = Math.floor(timeDiff / msPerDay);
  const passHour = Math.floor((timeDiff % msPerDay) / 60 / 60 / 1000);
  const passMinute = Math.floor((timeDiff % msPerHour) / 60 / 1000);
  const passSecond = Math.floor((timeDiff % msPerMinute) / 1000);
  display_live_time.innerHTML = " " + passDay + " å¤© " + passHour + " å°æ—¶ " + passMinute + " åˆ† " + passSecond + " ç§’";
}
blog_live_time();
</script></div></footer><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a></div></body></html>